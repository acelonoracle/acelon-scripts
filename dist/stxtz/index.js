var lX=Object.create;var{getPrototypeOf:mX,defineProperty:i7,getOwnPropertyNames:iX}=Object;var nX=Object.prototype.hasOwnProperty;var aX=($,Z,X)=>{X=$!=null?lX(mX($)):{};let Q=Z||!$||!$.__esModule?i7(X,"default",{value:$,enumerable:!0}):X;for(let G of iX($))if(!nX.call(Q,G))i7(Q,G,{get:()=>$[G],enumerable:!0});return Q};var L=($,Z)=>()=>(Z||$((Z={exports:{}}).exports,Z),Z.exports);var B4=L((v1)=>{Object.defineProperty(v1,"__esModule",{value:!0});v1.extractType=v1.extractVersion=v1.createHeader=v1.EMPTY_ADDRESS=void 0;v1.EMPTY_ADDRESS=new Uint8Array(16);function mG($,Z,X,Q){let G=$<<4,Y=Buffer.alloc(1);return Y.writeInt8(G|Z),Buffer.concat([Y,X,Q])}v1.createHeader=mG;function iG($){if($.length===0)return;return $.at(0)>>4}v1.extractVersion=iG;function nG($){if($.length===0)return;return $.at(0)&15}v1.extractType=nG});var x4=L((Y1)=>{Object.defineProperty(Y1,"__esModule",{value:!0});Y1.V1MessageCode=Y1.createPayloadMessage=Y1.createAcceptedMessage=Y1.createResponseMessage=Y1.createChallengeMessage=Y1.createInitMessage=void 0;var K6=B4();function aG($,Z=K6.EMPTY_ADDRESS,X){return{version:1,type:"init",sender:$,recipient:Z,permissions:X}}Y1.createInitMessage=aG;function oG($,Z,X,Q=K6.EMPTY_ADDRESS){return{version:1,type:"challenge",sender:Q,recipient:$,challenge:Z,difficulty:X}}Y1.createChallengeMessage=oG;function rG($,Z,X,Q,G,Y=K6.EMPTY_ADDRESS){return{version:1,type:"response",sender:$,recipient:Y,challenge:Z,publicKey:X,nonce:Q,signature:G}}Y1.createResponseMessage=rG;function tG($,Z=K6.EMPTY_ADDRESS){return{version:1,type:"accepted",sender:Z,recipient:$}}Y1.createAcceptedMessage=tG;function sG($,Z,X){return{version:1,type:"payload",sender:$,recipient:Z,payload:X}}Y1.createPayloadMessage=sG;Y1.V1MessageCode={init:0,challenge:1,response:2,accepted:3,payload:4}});var r3=L((H6)=>{Object.defineProperty(H6,"__esModule",{value:!0});H6.parseV1Message=void 0;var k1=x4(),o3=B4();function eG($){if(!$Q($))return;let Z=o3.extractType($);if(Z===void 0)return;let X=$.subarray(1,17),Q=$.subarray(17,33),G=$.subarray(33);switch(Z){case k1.V1MessageCode.init:return ZQ(X,Q);case k1.V1MessageCode.challenge:return XQ(X,Q,G);case k1.V1MessageCode.response:return GQ(X,Q,G);case k1.V1MessageCode.accepted:return QQ(X,Q);case k1.V1MessageCode.payload:return YQ(X,Q,G);default:return}}H6.parseV1Message=eG;function $Q($){return o3.extractVersion($)===1}function ZQ($,Z){return k1.createInitMessage($,Z)}function XQ($,Z,X){let Q=X.subarray(0,16),G=X.subarray(16);return k1.createChallengeMessage(Z,G,Q,$)}function GQ($,Z,X){let Q=X.subarray(0,16),G=X.subarray(16,49),Y=X.subarray(49,65),V=X.subarray(65);return k1.createResponseMessage($,Q,G,Y,V,Z)}function QQ($,Z){return k1.createAcceptedMessage(Z,$)}function YQ($,Z,X){return k1.createPayloadMessage($,Z,X)}});var U5=L((q6)=>{Object.defineProperty(q6,"__esModule",{value:!0});q6.parseMessage=void 0;var JQ=B4(),VQ=r3();function OQ($){let Z=JQ.extractVersion($);if(Z===void 0)return;switch(Z){case 1:return VQ.parseV1Message($);default:return}}q6.parseMessage=OQ});var t3=L((I6)=>{Object.defineProperty(I6,"__esModule",{value:!0});I6.forgeV1Message=void 0;var KQ=B4(),HQ=x4();function qQ($){let Z=KQ.createHeader($.version,HQ.V1MessageCode[$.type],$.sender,$.recipient),X=IQ($);return Buffer.concat([Z,X])}I6.forgeV1Message=qQ;function IQ($){switch($.type){case"init":return DQ($);case"challenge":return WQ($);case"response":return zQ($);case"accepted":return MQ($);case"payload":return UQ($)}}function DQ($){return Buffer.alloc(0)}function WQ($){return Buffer.concat([$.difficulty,$.challenge])}function zQ($){return Buffer.concat([$.challenge,$.publicKey,$.nonce,$.signature])}function MQ($){return Buffer.alloc(0)}function UQ($){return Buffer.from($.payload)}});var A5=L((D6)=>{Object.defineProperty(D6,"__esModule",{value:!0});D6.forgeMessage=void 0;var AQ=t3();function RQ($){switch($.version){case 1:return AQ.forgeV1Message($)}}D6.forgeMessage=RQ});var s3=L((W6)=>{Object.defineProperty(W6,"__esModule",{value:!0});W6.serializable=void 0;function fQ($){return JSON.parse(JSON.stringify($,function(Z,X){return Buffer.isBuffer(this[Z])?this[Z].toString("hex"):this[Z]instanceof ArrayBuffer?Buffer.from(this[Z]).toString("hex"):ArrayBuffer.isView(this[Z])?Buffer.from(this[Z].buffer).toString("hex"):X}))}W6.serializable=fQ});var R5=L((z6)=>{Object.defineProperty(z6,"__esModule",{value:!0});z6.log=void 0;var FQ=s3();function TQ($,...Z){if(Z.length>0)console.groupCollapsed($),console.log(...FQ.serializable(Z)),console.groupEnd();else console.log($)}z6.log=TQ});var $2=L((r8)=>{Object.defineProperty(r8,"__esModule",{value:!0});r8.proofOfWork=r8.verifyDifficulty=void 0;function e3($,Z){if($.length<Z.length)return!1;for(let X=0;X<Z.length;X+=1)if($[X]>Z[X])return!1;return!0}r8.verifyDifficulty=e3;function EQ($,Z,X){while(!0){let Q=$.getRandomValues(16),G=$.sha256(Buffer.concat([Z,Q]));if(e3(G,X))return Q}}r8.proofOfWork=EQ});var Z2=L((d0)=>{Object.defineProperty(d0,"__esModule",{value:!0});d0.verifyDifficulty=d0.log=d0.forgeMessage=d0.parseMessage=d0.createPayloadMessage=d0.createAcceptedMessage=d0.createResponseMessage=d0.createChallengeMessage=d0.createInitMessage=void 0;var j4=x4();Object.defineProperty(d0,"createInitMessage",{enumerable:!0,get:function(){return j4.createInitMessage}});Object.defineProperty(d0,"createChallengeMessage",{enumerable:!0,get:function(){return j4.createChallengeMessage}});Object.defineProperty(d0,"createResponseMessage",{enumerable:!0,get:function(){return j4.createResponseMessage}});Object.defineProperty(d0,"createAcceptedMessage",{enumerable:!0,get:function(){return j4.createAcceptedMessage}});Object.defineProperty(d0,"createPayloadMessage",{enumerable:!0,get:function(){return j4.createPayloadMessage}});var CQ=U5();Object.defineProperty(d0,"parseMessage",{enumerable:!0,get:function(){return CQ.parseMessage}});var _Q=A5();Object.defineProperty(d0,"forgeMessage",{enumerable:!0,get:function(){return _Q.forgeMessage}});var SQ=R5();Object.defineProperty(d0,"log",{enumerable:!0,get:function(){return SQ.log}});var LQ=$2();Object.defineProperty(d0,"verifyDifficulty",{enumerable:!0,get:function(){return LQ.verifyDifficulty}})});var s1=L((sI,Q2)=>{var X2=["nodebuffer","arraybuffer","fragments"],G2=typeof Blob!=="undefined";if(G2)X2.push("blob");Q2.exports={BINARY_TYPES:X2,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:G2,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var w4=L((eI,M6)=>{var{EMPTY_BUFFER:NQ}=s1(),f5=Buffer[Symbol.species];function PQ($,Z){if($.length===0)return NQ;if($.length===1)return $[0];let X=Buffer.allocUnsafe(Z),Q=0;for(let G=0;G<$.length;G++){let Y=$[G];X.set(Y,Q),Q+=Y.length}if(Q<Z)return new f5(X.buffer,X.byteOffset,Q);return X}function Y2($,Z,X,Q,G){for(let Y=0;Y<G;Y++)X[Q+Y]=$[Y]^Z[Y&3]}function J2($,Z){for(let X=0;X<$.length;X++)$[X]^=Z[X&3]}function BQ($){if($.length===$.buffer.byteLength)return $.buffer;return $.buffer.slice($.byteOffset,$.byteOffset+$.length)}function F5($){if(F5.readOnly=!0,Buffer.isBuffer($))return $;let Z;if($ instanceof ArrayBuffer)Z=new f5($);else if(ArrayBuffer.isView($))Z=new f5($.buffer,$.byteOffset,$.byteLength);else Z=Buffer.from($),F5.readOnly=!1;return Z}M6.exports={concat:PQ,mask:Y2,toArrayBuffer:BQ,toBuffer:F5,unmask:J2};if(!process.env.WS_NO_BUFFER_UTIL)try{let $=(()=>{throw new Error("Cannot require module "+"bufferutil");})();M6.exports.mask=function(Z,X,Q,G,Y){if(Y<48)Y2(Z,X,Q,G,Y);else $.mask(Z,X,Q,G,Y)},M6.exports.unmask=function(Z,X){if(Z.length<32)J2(Z,X);else $.unmask(Z,X)}}catch($){}});var H2=L(($D,K2)=>{var V2=Symbol("kDone"),T5=Symbol("kRun");class O2{constructor($){this[V2]=()=>{this.pending--,this[T5]()},this.concurrency=$||1/0,this.jobs=[],this.pending=0}add($){this.jobs.push($),this[T5]()}[T5](){if(this.pending===this.concurrency)return;if(this.jobs.length){let $=this.jobs.shift();this.pending++,$(this[V2])}}}K2.exports=O2});var c4=L((ZD,z2)=>{var b4=require("zlib"),q2=w4(),xQ=H2(),{kStatusCode:I2}=s1(),jQ=Buffer[Symbol.species],wQ=Buffer.from([0,0,255,255]),A6=Symbol("permessage-deflate"),e1=Symbol("total-length"),t8=Symbol("callback"),D8=Symbol("buffers"),s8=Symbol("error"),U6;class D2{constructor($,Z,X){if(this._maxPayload=X|0,this._options=$||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!Z,this._deflate=null,this._inflate=null,this.params=null,!U6){let Q=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;U6=new xQ(Q)}}static get extensionName(){return"permessage-deflate"}offer(){let $={};if(this._options.serverNoContextTakeover)$.server_no_context_takeover=!0;if(this._options.clientNoContextTakeover)$.client_no_context_takeover=!0;if(this._options.serverMaxWindowBits)$.server_max_window_bits=this._options.serverMaxWindowBits;if(this._options.clientMaxWindowBits)$.client_max_window_bits=this._options.clientMaxWindowBits;else if(this._options.clientMaxWindowBits==null)$.client_max_window_bits=!0;return $}accept($){return $=this.normalizeParams($),this.params=this._isServer?this.acceptAsServer($):this.acceptAsClient($),this.params}cleanup(){if(this._inflate)this._inflate.close(),this._inflate=null;if(this._deflate){let $=this._deflate[t8];if(this._deflate.close(),this._deflate=null,$)$(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer($){let Z=this._options,X=$.find((Q)=>{if(Z.serverNoContextTakeover===!1&&Q.server_no_context_takeover||Q.server_max_window_bits&&(Z.serverMaxWindowBits===!1||typeof Z.serverMaxWindowBits==="number"&&Z.serverMaxWindowBits>Q.server_max_window_bits)||typeof Z.clientMaxWindowBits==="number"&&!Q.client_max_window_bits)return!1;return!0});if(!X)throw new Error("None of the extension offers can be accepted");if(Z.serverNoContextTakeover)X.server_no_context_takeover=!0;if(Z.clientNoContextTakeover)X.client_no_context_takeover=!0;if(typeof Z.serverMaxWindowBits==="number")X.server_max_window_bits=Z.serverMaxWindowBits;if(typeof Z.clientMaxWindowBits==="number")X.client_max_window_bits=Z.clientMaxWindowBits;else if(X.client_max_window_bits===!0||Z.clientMaxWindowBits===!1)delete X.client_max_window_bits;return X}acceptAsClient($){let Z=$[0];if(this._options.clientNoContextTakeover===!1&&Z.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!Z.client_max_window_bits){if(typeof this._options.clientMaxWindowBits==="number")Z.client_max_window_bits=this._options.clientMaxWindowBits}else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits==="number"&&Z.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return Z}normalizeParams($){return $.forEach((Z)=>{Object.keys(Z).forEach((X)=>{let Q=Z[X];if(Q.length>1)throw new Error(`Parameter "${X}" must have only a single value`);if(Q=Q[0],X==="client_max_window_bits"){if(Q!==!0){let G=+Q;if(!Number.isInteger(G)||G<8||G>15)throw new TypeError(`Invalid value for parameter "${X}": ${Q}`);Q=G}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${X}": ${Q}`)}else if(X==="server_max_window_bits"){let G=+Q;if(!Number.isInteger(G)||G<8||G>15)throw new TypeError(`Invalid value for parameter "${X}": ${Q}`);Q=G}else if(X==="client_no_context_takeover"||X==="server_no_context_takeover"){if(Q!==!0)throw new TypeError(`Invalid value for parameter "${X}": ${Q}`)}else throw new Error(`Unknown parameter "${X}"`);Z[X]=Q})}),$}decompress($,Z,X){U6.add((Q)=>{this._decompress($,Z,(G,Y)=>{Q(),X(G,Y)})})}compress($,Z,X){U6.add((Q)=>{this._compress($,Z,(G,Y)=>{Q(),X(G,Y)})})}_decompress($,Z,X){let Q=this._isServer?"client":"server";if(!this._inflate){let G=`${Q}_max_window_bits`,Y=typeof this.params[G]!=="number"?b4.Z_DEFAULT_WINDOWBITS:this.params[G];this._inflate=b4.createInflateRaw({...this._options.zlibInflateOptions,windowBits:Y}),this._inflate[A6]=this,this._inflate[e1]=0,this._inflate[D8]=[],this._inflate.on("error",cQ),this._inflate.on("data",W2)}if(this._inflate[t8]=X,this._inflate.write($),Z)this._inflate.write(wQ);this._inflate.flush(()=>{let G=this._inflate[s8];if(G){this._inflate.close(),this._inflate=null,X(G);return}let Y=q2.concat(this._inflate[D8],this._inflate[e1]);if(this._inflate._readableState.endEmitted)this._inflate.close(),this._inflate=null;else if(this._inflate[e1]=0,this._inflate[D8]=[],Z&&this.params[`${Q}_no_context_takeover`])this._inflate.reset();X(null,Y)})}_compress($,Z,X){let Q=this._isServer?"server":"client";if(!this._deflate){let G=`${Q}_max_window_bits`,Y=typeof this.params[G]!=="number"?b4.Z_DEFAULT_WINDOWBITS:this.params[G];this._deflate=b4.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:Y}),this._deflate[e1]=0,this._deflate[D8]=[],this._deflate.on("data",bQ)}this._deflate[t8]=X,this._deflate.write($),this._deflate.flush(b4.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let G=q2.concat(this._deflate[D8],this._deflate[e1]);if(Z)G=new jQ(G.buffer,G.byteOffset,G.length-4);if(this._deflate[t8]=null,this._deflate[e1]=0,this._deflate[D8]=[],Z&&this.params[`${Q}_no_context_takeover`])this._deflate.reset();X(null,G)})}}z2.exports=D2;function bQ($){this[D8].push($),this[e1]+=$.length}function W2($){if(this[e1]+=$.length,this[A6]._maxPayload<1||this[e1]<=this[A6]._maxPayload){this[D8].push($);return}this[s8]=new RangeError("Max payload size exceeded"),this[s8].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[s8][I2]=1009,this.removeListener("data",W2),this.reset()}function cQ($){if(this[A6]._inflate=null,this[s8]){this[t8](this[s8]);return}$[I2]=1007,this[t8]($)}});var e8=L((XD,R6)=>{var{isUtf8:M2}=require("buffer"),{hasBlob:vQ}=s1(),kQ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function hQ($){return $>=1000&&$<=1014&&$!==1004&&$!==1005&&$!==1006||$>=3000&&$<=4999}function E5($){let Z=$.length,X=0;while(X<Z)if(($[X]&128)===0)X++;else if(($[X]&224)===192){if(X+1===Z||($[X+1]&192)!==128||($[X]&254)===192)return!1;X+=2}else if(($[X]&240)===224){if(X+2>=Z||($[X+1]&192)!==128||($[X+2]&192)!==128||$[X]===224&&($[X+1]&224)===128||$[X]===237&&($[X+1]&224)===160)return!1;X+=3}else if(($[X]&248)===240){if(X+3>=Z||($[X+1]&192)!==128||($[X+2]&192)!==128||($[X+3]&192)!==128||$[X]===240&&($[X+1]&240)===128||$[X]===244&&$[X+1]>143||$[X]>244)return!1;X+=4}else return!1;return!0}function dQ($){return vQ&&typeof $==="object"&&typeof $.arrayBuffer==="function"&&typeof $.type==="string"&&typeof $.stream==="function"&&($[Symbol.toStringTag]==="Blob"||$[Symbol.toStringTag]==="File")}R6.exports={isBlob:dQ,isValidStatusCode:hQ,isValidUTF8:E5,tokenChars:kQ};if(M2)R6.exports.isValidUTF8=function($){return $.length<24?E5($):M2($)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let $=(()=>{throw new Error("Cannot require module "+"utf-8-validate");})();R6.exports.isValidUTF8=function(Z){return Z.length<32?E5(Z):$(Z)}}catch($){}});var _5=L((GD,F2)=>{var{Writable:yQ}=require("stream"),U2=c4(),{BINARY_TYPES:gQ,EMPTY_BUFFER:A2,kStatusCode:pQ,kWebSocket:uQ}=s1(),{concat:C5,toArrayBuffer:lQ,unmask:mQ}=w4(),{isValidStatusCode:iQ,isValidUTF8:R2}=e8(),f6=Buffer[Symbol.species];class f2 extends yQ{constructor($={}){super();this._allowSynchronousEvents=$.allowSynchronousEvents!==void 0?$.allowSynchronousEvents:!0,this._binaryType=$.binaryType||gQ[0],this._extensions=$.extensions||{},this._isServer=!!$.isServer,this._maxPayload=$.maxPayload|0,this._skipUTF8Validation=!!$.skipUTF8Validation,this[uQ]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write($,Z,X){if(this._opcode===8&&this._state==0)return X();this._bufferedBytes+=$.length,this._buffers.push($),this.startLoop(X)}consume($){if(this._bufferedBytes-=$,$===this._buffers[0].length)return this._buffers.shift();if($<this._buffers[0].length){let X=this._buffers[0];return this._buffers[0]=new f6(X.buffer,X.byteOffset+$,X.length-$),new f6(X.buffer,X.byteOffset,$)}let Z=Buffer.allocUnsafe($);do{let X=this._buffers[0],Q=Z.length-$;if($>=X.length)Z.set(this._buffers.shift(),Q);else Z.set(new Uint8Array(X.buffer,X.byteOffset,$),Q),this._buffers[0]=new f6(X.buffer,X.byteOffset+$,X.length-$);$-=X.length}while($>0);return Z}startLoop($){this._loop=!0;do switch(this._state){case 0:this.getInfo($);break;case 1:this.getPayloadLength16($);break;case 2:this.getPayloadLength64($);break;case 3:this.getMask();break;case 4:this.getData($);break;case 5:case 6:this._loop=!1;return}while(this._loop);if(!this._errored)$()}getInfo($){if(this._bufferedBytes<2){this._loop=!1;return}let Z=this.consume(2);if((Z[0]&48)!==0){let Q=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");$(Q);return}let X=(Z[0]&64)===64;if(X&&!this._extensions[U2.extensionName]){let Q=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");$(Q);return}if(this._fin=(Z[0]&128)===128,this._opcode=Z[0]&15,this._payloadLength=Z[1]&127,this._opcode===0){if(X){let Q=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");$(Q);return}if(!this._fragmented){let Q=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");$(Q);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let Q=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");$(Q);return}this._compressed=X}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let Q=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");$(Q);return}if(X){let Q=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");$(Q);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let Q=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");$(Q);return}}else{let Q=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");$(Q);return}if(!this._fin&&!this._fragmented)this._fragmented=this._opcode;if(this._masked=(Z[1]&128)===128,this._isServer){if(!this._masked){let Q=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");$(Q);return}}else if(this._masked){let Q=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");$(Q);return}if(this._payloadLength===126)this._state=1;else if(this._payloadLength===127)this._state=2;else this.haveLength($)}getPayloadLength16($){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength($)}getPayloadLength64($){if(this._bufferedBytes<8){this._loop=!1;return}let Z=this.consume(8),X=Z.readUInt32BE(0);if(X>Math.pow(2,21)-1){let Q=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");$(Q);return}this._payloadLength=X*Math.pow(2,32)+Z.readUInt32BE(4),this.haveLength($)}haveLength($){if(this._payloadLength&&this._opcode<8){if(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0){let Z=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");$(Z);return}}if(this._masked)this._state=3;else this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData($){let Z=A2;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}if(Z=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0)mQ(Z,this._mask)}if(this._opcode>7){this.controlMessage(Z,$);return}if(this._compressed){this._state=5,this.decompress(Z,$);return}if(Z.length)this._messageLength=this._totalPayloadLength,this._fragments.push(Z);this.dataMessage($)}decompress($,Z){this._extensions[U2.extensionName].decompress($,this._fin,(Q,G)=>{if(Q)return Z(Q);if(G.length){if(this._messageLength+=G.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let Y=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");Z(Y);return}this._fragments.push(G)}if(this.dataMessage(Z),this._state===0)this.startLoop(Z)})}dataMessage($){if(!this._fin){this._state=0;return}let Z=this._messageLength,X=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let Q;if(this._binaryType==="nodebuffer")Q=C5(X,Z);else if(this._binaryType==="arraybuffer")Q=lQ(C5(X,Z));else if(this._binaryType==="blob")Q=new Blob(X);else Q=X;if(this._allowSynchronousEvents)this.emit("message",Q,!0),this._state=0;else this._state=6,setImmediate(()=>{this.emit("message",Q,!0),this._state=0,this.startLoop($)})}else{let Q=C5(X,Z);if(!this._skipUTF8Validation&&!R2(Q)){let G=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");$(G);return}if(this._state===5||this._allowSynchronousEvents)this.emit("message",Q,!1),this._state=0;else this._state=6,setImmediate(()=>{this.emit("message",Q,!1),this._state=0,this.startLoop($)})}}controlMessage($,Z){if(this._opcode===8){if($.length===0)this._loop=!1,this.emit("conclude",1005,A2),this.end();else{let X=$.readUInt16BE(0);if(!iQ(X)){let G=this.createError(RangeError,`invalid status code ${X}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");Z(G);return}let Q=new f6($.buffer,$.byteOffset+2,$.length-2);if(!this._skipUTF8Validation&&!R2(Q)){let G=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");Z(G);return}this._loop=!1,this.emit("conclude",X,Q),this.end()}this._state=0;return}if(this._allowSynchronousEvents)this.emit(this._opcode===9?"ping":"pong",$),this._state=0;else this._state=6,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",$),this._state=0,this.startLoop(Z)})}createError($,Z,X,Q,G){this._loop=!1,this._errored=!0;let Y=new $(X?`Invalid WebSocket frame: ${Z}`:Z);return Error.captureStackTrace(Y,this.createError),Y.code=G,Y[pQ]=Q,Y}}F2.exports=f2});var L5=L((YD,C2)=>{var{Duplex:QD}=require("stream"),{randomFillSync:nQ}=require("crypto"),T2=c4(),{EMPTY_BUFFER:aQ,kWebSocket:oQ,NOOP:rQ}=s1(),{isBlob:$4,isValidStatusCode:tQ}=e8(),{mask:E2,toBuffer:B8}=w4(),U1=Symbol("kByteLength"),sQ=Buffer.alloc(4),x8,Z4=8192,S1=0,eQ=1,$Y=2;class W8{constructor($,Z,X){if(this._extensions=Z||{},X)this._generateMask=X,this._maskBuffer=Buffer.alloc(4);this._socket=$,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=S1,this.onerror=rQ,this[oQ]=void 0}static frame($,Z){let X,Q=!1,G=2,Y=!1;if(Z.mask){if(X=Z.maskBuffer||sQ,Z.generateMask)Z.generateMask(X);else{if(Z4===8192){if(x8===void 0)x8=Buffer.alloc(8192);nQ(x8,0,8192),Z4=0}X[0]=x8[Z4++],X[1]=x8[Z4++],X[2]=x8[Z4++],X[3]=x8[Z4++]}Y=(X[0]|X[1]|X[2]|X[3])===0,G=6}let V;if(typeof $==="string")if((!Z.mask||Y)&&Z[U1]!==void 0)V=Z[U1];else $=Buffer.from($),V=$.length;else V=$.length,Q=Z.mask&&Z.readOnly&&!Y;let K=V;if(V>=65536)G+=8,K=127;else if(V>125)G+=2,K=126;let q=Buffer.allocUnsafe(Q?V+G:G);if(q[0]=Z.fin?Z.opcode|128:Z.opcode,Z.rsv1)q[0]|=64;if(q[1]=K,K===126)q.writeUInt16BE(V,2);else if(K===127)q[2]=q[3]=0,q.writeUIntBE(V,4,6);if(!Z.mask)return[q,$];if(q[1]|=128,q[G-4]=X[0],q[G-3]=X[1],q[G-2]=X[2],q[G-1]=X[3],Y)return[q,$];if(Q)return E2($,X,q,G,V),[q];return E2($,X,$,0,V),[q,$]}close($,Z,X,Q){let G;if($===void 0)G=aQ;else if(typeof $!=="number"||!tQ($))throw new TypeError("First argument must be a valid error code number");else if(Z===void 0||!Z.length)G=Buffer.allocUnsafe(2),G.writeUInt16BE($,0);else{let V=Buffer.byteLength(Z);if(V>123)throw new RangeError("The message must not be greater than 123 bytes");if(G=Buffer.allocUnsafe(2+V),G.writeUInt16BE($,0),typeof Z==="string")G.write(Z,2);else G.set(Z,2)}let Y={[U1]:G.length,fin:!0,generateMask:this._generateMask,mask:X,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};if(this._state!==S1)this.enqueue([this.dispatch,G,!1,Y,Q]);else this.sendFrame(W8.frame(G,Y),Q)}ping($,Z,X){let Q,G;if(typeof $==="string")Q=Buffer.byteLength($),G=!1;else if($4($))Q=$.size,G=!1;else $=B8($),Q=$.length,G=B8.readOnly;if(Q>125)throw new RangeError("The data size must not be greater than 125 bytes");let Y={[U1]:Q,fin:!0,generateMask:this._generateMask,mask:Z,maskBuffer:this._maskBuffer,opcode:9,readOnly:G,rsv1:!1};if($4($))if(this._state!==S1)this.enqueue([this.getBlobData,$,!1,Y,X]);else this.getBlobData($,!1,Y,X);else if(this._state!==S1)this.enqueue([this.dispatch,$,!1,Y,X]);else this.sendFrame(W8.frame($,Y),X)}pong($,Z,X){let Q,G;if(typeof $==="string")Q=Buffer.byteLength($),G=!1;else if($4($))Q=$.size,G=!1;else $=B8($),Q=$.length,G=B8.readOnly;if(Q>125)throw new RangeError("The data size must not be greater than 125 bytes");let Y={[U1]:Q,fin:!0,generateMask:this._generateMask,mask:Z,maskBuffer:this._maskBuffer,opcode:10,readOnly:G,rsv1:!1};if($4($))if(this._state!==S1)this.enqueue([this.getBlobData,$,!1,Y,X]);else this.getBlobData($,!1,Y,X);else if(this._state!==S1)this.enqueue([this.dispatch,$,!1,Y,X]);else this.sendFrame(W8.frame($,Y),X)}send($,Z,X){let Q=this._extensions[T2.extensionName],G=Z.binary?2:1,Y=Z.compress,V,K;if(typeof $==="string")V=Buffer.byteLength($),K=!1;else if($4($))V=$.size,K=!1;else $=B8($),V=$.length,K=B8.readOnly;if(this._firstFragment){if(this._firstFragment=!1,Y&&Q&&Q.params[Q._isServer?"server_no_context_takeover":"client_no_context_takeover"])Y=V>=Q._threshold;this._compress=Y}else Y=!1,G=0;if(Z.fin)this._firstFragment=!0;let q={[U1]:V,fin:Z.fin,generateMask:this._generateMask,mask:Z.mask,maskBuffer:this._maskBuffer,opcode:G,readOnly:K,rsv1:Y};if($4($))if(this._state!==S1)this.enqueue([this.getBlobData,$,this._compress,q,X]);else this.getBlobData($,this._compress,q,X);else if(this._state!==S1)this.enqueue([this.dispatch,$,this._compress,q,X]);else this.dispatch($,this._compress,q,X)}getBlobData($,Z,X,Q){this._bufferedBytes+=X[U1],this._state=$Y,$.arrayBuffer().then((G)=>{if(this._socket.destroyed){let V=new Error("The socket was closed while the blob was being read");process.nextTick(S5,this,V,Q);return}this._bufferedBytes-=X[U1];let Y=B8(G);if(!Z)this._state=S1,this.sendFrame(W8.frame(Y,X),Q),this.dequeue();else this.dispatch(Y,Z,X,Q)}).catch((G)=>{process.nextTick(ZY,this,G,Q)})}dispatch($,Z,X,Q){if(!Z){this.sendFrame(W8.frame($,X),Q);return}let G=this._extensions[T2.extensionName];this._bufferedBytes+=X[U1],this._state=eQ,G.compress($,X.fin,(Y,V)=>{if(this._socket.destroyed){let K=new Error("The socket was closed while data was being compressed");S5(this,K,Q);return}this._bufferedBytes-=X[U1],this._state=S1,X.readOnly=!1,this.sendFrame(W8.frame(V,X),Q),this.dequeue()})}dequeue(){while(this._state===S1&&this._queue.length){let $=this._queue.shift();this._bufferedBytes-=$[3][U1],Reflect.apply($[0],this,$.slice(1))}}enqueue($){this._bufferedBytes+=$[3][U1],this._queue.push($)}sendFrame($,Z){if($.length===2)this._socket.cork(),this._socket.write($[0]),this._socket.write($[1],Z),this._socket.uncork();else this._socket.write($[0],Z)}}C2.exports=W8;function S5($,Z,X){if(typeof X==="function")X(Z);for(let Q=0;Q<$._queue.length;Q++){let G=$._queue[Q],Y=G[G.length-1];if(typeof Y==="function")Y(Z)}}function ZY($,Z,X){S5($,Z,X),$.onerror(Z)}});var w2=L((JD,j2)=>{var{kForOnEventAttribute:v4,kListener:N5}=s1(),_2=Symbol("kCode"),S2=Symbol("kData"),L2=Symbol("kError"),N2=Symbol("kMessage"),P2=Symbol("kReason"),X4=Symbol("kTarget"),B2=Symbol("kType"),x2=Symbol("kWasClean");class z8{constructor($){this[X4]=null,this[B2]=$}get target(){return this[X4]}get type(){return this[B2]}}Object.defineProperty(z8.prototype,"target",{enumerable:!0});Object.defineProperty(z8.prototype,"type",{enumerable:!0});class G4 extends z8{constructor($,Z={}){super($);this[_2]=Z.code===void 0?0:Z.code,this[P2]=Z.reason===void 0?"":Z.reason,this[x2]=Z.wasClean===void 0?!1:Z.wasClean}get code(){return this[_2]}get reason(){return this[P2]}get wasClean(){return this[x2]}}Object.defineProperty(G4.prototype,"code",{enumerable:!0});Object.defineProperty(G4.prototype,"reason",{enumerable:!0});Object.defineProperty(G4.prototype,"wasClean",{enumerable:!0});class k4 extends z8{constructor($,Z={}){super($);this[L2]=Z.error===void 0?null:Z.error,this[N2]=Z.message===void 0?"":Z.message}get error(){return this[L2]}get message(){return this[N2]}}Object.defineProperty(k4.prototype,"error",{enumerable:!0});Object.defineProperty(k4.prototype,"message",{enumerable:!0});class T6 extends z8{constructor($,Z={}){super($);this[S2]=Z.data===void 0?null:Z.data}get data(){return this[S2]}}Object.defineProperty(T6.prototype,"data",{enumerable:!0});var XY={addEventListener($,Z,X={}){for(let G of this.listeners($))if(!X[v4]&&G[N5]===Z&&!G[v4])return;let Q;if($==="message")Q=function G(Y,V){let K=new T6("message",{data:V?Y:Y.toString()});K[X4]=this,F6(Z,this,K)};else if($==="close")Q=function G(Y,V){let K=new G4("close",{code:Y,reason:V.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});K[X4]=this,F6(Z,this,K)};else if($==="error")Q=function G(Y){let V=new k4("error",{error:Y,message:Y.message});V[X4]=this,F6(Z,this,V)};else if($==="open")Q=function G(){let Y=new z8("open");Y[X4]=this,F6(Z,this,Y)};else return;if(Q[v4]=!!X[v4],Q[N5]=Z,X.once)this.once($,Q);else this.on($,Q)},removeEventListener($,Z){for(let X of this.listeners($))if(X[N5]===Z&&!X[v4]){this.removeListener($,X);break}}};j2.exports={CloseEvent:G4,ErrorEvent:k4,Event:z8,EventTarget:XY,MessageEvent:T6};function F6($,Z,X){if(typeof $==="object"&&$.handleEvent)$.handleEvent.call($,X);else $.call(Z,X)}});var P5=L((VD,b2)=>{var{tokenChars:h4}=e8();function h1($,Z,X){if($[Z]===void 0)$[Z]=[X];else $[Z].push(X)}function GY($){let Z=Object.create(null),X=Object.create(null),Q=!1,G=!1,Y=!1,V,K,q=-1,D=-1,W=-1,R=0;for(;R<$.length;R++)if(D=$.charCodeAt(R),V===void 0)if(W===-1&&h4[D]===1){if(q===-1)q=R}else if(R!==0&&(D===32||D===9)){if(W===-1&&q!==-1)W=R}else if(D===59||D===44){if(q===-1)throw new SyntaxError(`Unexpected character at index ${R}`);if(W===-1)W=R;let C=$.slice(q,W);if(D===44)h1(Z,C,X),X=Object.create(null);else V=C;q=W=-1}else throw new SyntaxError(`Unexpected character at index ${R}`);else if(K===void 0)if(W===-1&&h4[D]===1){if(q===-1)q=R}else if(D===32||D===9){if(W===-1&&q!==-1)W=R}else if(D===59||D===44){if(q===-1)throw new SyntaxError(`Unexpected character at index ${R}`);if(W===-1)W=R;if(h1(X,$.slice(q,W),!0),D===44)h1(Z,V,X),X=Object.create(null),V=void 0;q=W=-1}else if(D===61&&q!==-1&&W===-1)K=$.slice(q,R),q=W=-1;else throw new SyntaxError(`Unexpected character at index ${R}`);else if(G){if(h4[D]!==1)throw new SyntaxError(`Unexpected character at index ${R}`);if(q===-1)q=R;else if(!Q)Q=!0;G=!1}else if(Y)if(h4[D]===1){if(q===-1)q=R}else if(D===34&&q!==-1)Y=!1,W=R;else if(D===92)G=!0;else throw new SyntaxError(`Unexpected character at index ${R}`);else if(D===34&&$.charCodeAt(R-1)===61)Y=!0;else if(W===-1&&h4[D]===1){if(q===-1)q=R}else if(q!==-1&&(D===32||D===9)){if(W===-1)W=R}else if(D===59||D===44){if(q===-1)throw new SyntaxError(`Unexpected character at index ${R}`);if(W===-1)W=R;let C=$.slice(q,W);if(Q)C=C.replace(/\\/g,""),Q=!1;if(h1(X,K,C),D===44)h1(Z,V,X),X=Object.create(null),V=void 0;K=void 0,q=W=-1}else throw new SyntaxError(`Unexpected character at index ${R}`);if(q===-1||Y||D===32||D===9)throw new SyntaxError("Unexpected end of input");if(W===-1)W=R;let T=$.slice(q,W);if(V===void 0)h1(Z,T,X);else{if(K===void 0)h1(X,T,!0);else if(Q)h1(X,K,T.replace(/\\/g,""));else h1(X,K,T);h1(Z,V,X)}return Z}function QY($){return Object.keys($).map((Z)=>{let X=$[Z];if(!Array.isArray(X))X=[X];return X.map((Q)=>{return[Z].concat(Object.keys(Q).map((G)=>{let Y=Q[G];if(!Array.isArray(Y))Y=[Y];return Y.map((V)=>V===!0?G:`${G}=${V}`).join("; ")})).join("; ")}).join(", ")}).join(", ")}b2.exports={format:QY,parse:GY}});var S6=L((HD,i2)=>{var YY=require("events"),JY=require("https"),VY=require("http"),k2=require("net"),OY=require("tls"),{randomBytes:KY,createHash:HY}=require("crypto"),{Duplex:OD,Readable:KD}=require("stream"),{URL:B5}=require("url"),M8=c4(),qY=_5(),IY=L5(),{isBlob:DY}=e8(),{BINARY_TYPES:c2,EMPTY_BUFFER:E6,GUID:WY,kForOnEventAttribute:x5,kListener:zY,kStatusCode:MY,kWebSocket:g0,NOOP:h2}=s1(),{EventTarget:{addEventListener:UY,removeEventListener:AY}}=w2(),{format:RY,parse:fY}=P5(),{toBuffer:FY}=w4(),d2=Symbol("kAborted"),j5=[8,13],$8=["CONNECTING","OPEN","CLOSING","CLOSED"],TY=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class c extends YY{constructor($,Z,X){super();if(this._binaryType=c2[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=E6,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=c.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,$!==null){if(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Z===void 0)Z=[];else if(!Array.isArray(Z))if(typeof Z==="object"&&Z!==null)X=Z,Z=[];else Z=[Z];y2(this,$,Z,X)}else this._autoPong=X.autoPong,this._isServer=!0}get binaryType(){return this._binaryType}set binaryType($){if(!c2.includes($))return;if(this._binaryType=$,this._receiver)this._receiver._binaryType=$}get bufferedAmount(){if(!this._socket)return this._bufferedAmount;return this._socket._writableState.length+this._sender._bufferedBytes}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket($,Z,X){let Q=new qY({allowSynchronousEvents:X.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:X.maxPayload,skipUTF8Validation:X.skipUTF8Validation}),G=new IY($,this._extensions,X.generateMask);if(this._receiver=Q,this._sender=G,this._socket=$,Q[g0]=this,G[g0]=this,$[g0]=this,Q.on("conclude",_Y),Q.on("drain",SY),Q.on("error",LY),Q.on("message",NY),Q.on("ping",PY),Q.on("pong",BY),G.onerror=xY,$.setTimeout)$.setTimeout(0);if($.setNoDelay)$.setNoDelay();if(Z.length>0)$.unshift(Z);$.on("close",u2),$.on("data",_6),$.on("end",l2),$.on("error",m2),this._readyState=c.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=c.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}if(this._extensions[M8.extensionName])this._extensions[M8.extensionName].cleanup();this._receiver.removeAllListeners(),this._readyState=c.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close($,Z){if(this.readyState===c.CLOSED)return;if(this.readyState===c.CONNECTING){H1(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===c.CLOSING){if(this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted))this._socket.end();return}this._readyState=c.CLOSING,this._sender.close($,Z,!this._isServer,(X)=>{if(X)return;if(this._closeFrameSent=!0,this._closeFrameReceived||this._receiver._writableState.errorEmitted)this._socket.end()}),p2(this)}pause(){if(this.readyState===c.CONNECTING||this.readyState===c.CLOSED)return;this._paused=!0,this._socket.pause()}ping($,Z,X){if(this.readyState===c.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof $==="function")X=$,$=Z=void 0;else if(typeof Z==="function")X=Z,Z=void 0;if(typeof $==="number")$=$.toString();if(this.readyState!==c.OPEN){w5(this,$,X);return}if(Z===void 0)Z=!this._isServer;this._sender.ping($||E6,Z,X)}pong($,Z,X){if(this.readyState===c.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof $==="function")X=$,$=Z=void 0;else if(typeof Z==="function")X=Z,Z=void 0;if(typeof $==="number")$=$.toString();if(this.readyState!==c.OPEN){w5(this,$,X);return}if(Z===void 0)Z=!this._isServer;this._sender.pong($||E6,Z,X)}resume(){if(this.readyState===c.CONNECTING||this.readyState===c.CLOSED)return;if(this._paused=!1,!this._receiver._writableState.needDrain)this._socket.resume()}send($,Z,X){if(this.readyState===c.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof Z==="function")X=Z,Z={};if(typeof $==="number")$=$.toString();if(this.readyState!==c.OPEN){w5(this,$,X);return}let Q={binary:typeof $!=="string",mask:!this._isServer,compress:!0,fin:!0,...Z};if(!this._extensions[M8.extensionName])Q.compress=!1;this._sender.send($||E6,Q,X)}terminate(){if(this.readyState===c.CLOSED)return;if(this.readyState===c.CONNECTING){H1(this,this._req,"WebSocket was closed before the connection was established");return}if(this._socket)this._readyState=c.CLOSING,this._socket.destroy()}}Object.defineProperty(c,"CONNECTING",{enumerable:!0,value:$8.indexOf("CONNECTING")});Object.defineProperty(c.prototype,"CONNECTING",{enumerable:!0,value:$8.indexOf("CONNECTING")});Object.defineProperty(c,"OPEN",{enumerable:!0,value:$8.indexOf("OPEN")});Object.defineProperty(c.prototype,"OPEN",{enumerable:!0,value:$8.indexOf("OPEN")});Object.defineProperty(c,"CLOSING",{enumerable:!0,value:$8.indexOf("CLOSING")});Object.defineProperty(c.prototype,"CLOSING",{enumerable:!0,value:$8.indexOf("CLOSING")});Object.defineProperty(c,"CLOSED",{enumerable:!0,value:$8.indexOf("CLOSED")});Object.defineProperty(c.prototype,"CLOSED",{enumerable:!0,value:$8.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(($)=>{Object.defineProperty(c.prototype,$,{enumerable:!0})});["open","error","close","message"].forEach(($)=>{Object.defineProperty(c.prototype,`on${$}`,{enumerable:!0,get(){for(let Z of this.listeners($))if(Z[x5])return Z[zY];return null},set(Z){for(let X of this.listeners($))if(X[x5]){this.removeListener($,X);break}if(typeof Z!=="function")return;this.addEventListener($,Z,{[x5]:!0})}})});c.prototype.addEventListener=UY;c.prototype.removeEventListener=AY;i2.exports=c;function y2($,Z,X,Q){let G={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:j5[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...Q,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if($._autoPong=G.autoPong,!j5.includes(G.protocolVersion))throw new RangeError(`Unsupported protocol version: ${G.protocolVersion} (supported versions: ${j5.join(", ")})`);let Y;if(Z instanceof B5)Y=Z;else try{Y=new B5(Z)}catch(S){throw new SyntaxError(`Invalid URL: ${Z}`)}if(Y.protocol==="http:")Y.protocol="ws:";else if(Y.protocol==="https:")Y.protocol="wss:";$._url=Y.href;let V=Y.protocol==="wss:",K=Y.protocol==="ws+unix:",q;if(Y.protocol!=="ws:"&&!V&&!K)q=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`;else if(K&&!Y.pathname)q="The URL's pathname is empty";else if(Y.hash)q="The URL contains a fragment identifier";if(q){let S=new SyntaxError(q);if($._redirects===0)throw S;else{C6($,S);return}}let D=V?443:80,W=KY(16).toString("base64"),R=V?JY.request:VY.request,T=new Set,C;if(G.createConnection=G.createConnection||(V?CY:EY),G.defaultPort=G.defaultPort||D,G.port=Y.port||D,G.host=Y.hostname.startsWith("[")?Y.hostname.slice(1,-1):Y.hostname,G.headers={...G.headers,"Sec-WebSocket-Version":G.protocolVersion,"Sec-WebSocket-Key":W,Connection:"Upgrade",Upgrade:"websocket"},G.path=Y.pathname+Y.search,G.timeout=G.handshakeTimeout,G.perMessageDeflate)C=new M8(G.perMessageDeflate!==!0?G.perMessageDeflate:{},!1,G.maxPayload),G.headers["Sec-WebSocket-Extensions"]=RY({[M8.extensionName]:C.offer()});if(X.length){for(let S of X){if(typeof S!=="string"||!TY.test(S)||T.has(S))throw new SyntaxError("An invalid or duplicated subprotocol was specified");T.add(S)}G.headers["Sec-WebSocket-Protocol"]=X.join(",")}if(G.origin)if(G.protocolVersion<13)G.headers["Sec-WebSocket-Origin"]=G.origin;else G.headers.Origin=G.origin;if(Y.username||Y.password)G.auth=`${Y.username}:${Y.password}`;if(K){let S=G.path.split(":");G.socketPath=S[0],G.path=S[1]}let _;if(G.followRedirects){if($._redirects===0){$._originalIpc=K,$._originalSecure=V,$._originalHostOrSocketPath=K?G.socketPath:Y.host;let S=Q&&Q.headers;if(Q={...Q,headers:{}},S)for(let[w,B]of Object.entries(S))Q.headers[w.toLowerCase()]=B}else if($.listenerCount("redirect")===0){let S=K?$._originalIpc?G.socketPath===$._originalHostOrSocketPath:!1:$._originalIpc?!1:Y.host===$._originalHostOrSocketPath;if(!S||$._originalSecure&&!V){if(delete G.headers.authorization,delete G.headers.cookie,!S)delete G.headers.host;G.auth=void 0}}if(G.auth&&!Q.headers.authorization)Q.headers.authorization="Basic "+Buffer.from(G.auth).toString("base64");if(_=$._req=R(G),$._redirects)$.emit("redirect",$.url,_)}else _=$._req=R(G);if(G.timeout)_.on("timeout",()=>{H1($,_,"Opening handshake has timed out")});if(_.on("error",(S)=>{if(_===null||_[d2])return;_=$._req=null,C6($,S)}),_.on("response",(S)=>{let w=S.headers.location,B=S.statusCode;if(w&&G.followRedirects&&B>=300&&B<400){if(++$._redirects>G.maxRedirects){H1($,_,"Maximum redirects exceeded");return}_.abort();let i;try{i=new B5(w,Z)}catch(n){let X0=new SyntaxError(`Invalid URL: ${w}`);C6($,X0);return}y2($,i,X,Q)}else if(!$.emit("unexpected-response",_,S))H1($,_,`Unexpected server response: ${S.statusCode}`)}),_.on("upgrade",(S,w,B)=>{if($.emit("upgrade",S),$.readyState!==c.CONNECTING)return;_=$._req=null;let i=S.headers.upgrade;if(i===void 0||i.toLowerCase()!=="websocket"){H1($,w,"Invalid Upgrade header");return}let n=HY("sha1").update(W+WY).digest("base64");if(S.headers["sec-websocket-accept"]!==n){H1($,w,"Invalid Sec-WebSocket-Accept header");return}let X0=S.headers["sec-websocket-protocol"],s;if(X0!==void 0){if(!T.size)s="Server sent a subprotocol but none was requested";else if(!T.has(X0))s="Server sent an invalid subprotocol"}else if(T.size)s="Server sent no subprotocol";if(s){H1($,w,s);return}if(X0)$._protocol=X0;let m0=S.headers["sec-websocket-extensions"];if(m0!==void 0){if(!C){H1($,w,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let i0;try{i0=fY(m0)}catch(Q0){H1($,w,"Invalid Sec-WebSocket-Extensions header");return}let d=Object.keys(i0);if(d.length!==1||d[0]!==M8.extensionName){H1($,w,"Server indicated an extension that was not requested");return}try{C.accept(i0[M8.extensionName])}catch(Q0){H1($,w,"Invalid Sec-WebSocket-Extensions header");return}$._extensions[M8.extensionName]=C}$.setSocket(w,B,{allowSynchronousEvents:G.allowSynchronousEvents,generateMask:G.generateMask,maxPayload:G.maxPayload,skipUTF8Validation:G.skipUTF8Validation})}),G.finishRequest)G.finishRequest(_,$);else _.end()}function C6($,Z){$._readyState=c.CLOSING,$._errorEmitted=!0,$.emit("error",Z),$.emitClose()}function EY($){return $.path=$.socketPath,k2.connect($)}function CY($){if($.path=void 0,!$.servername&&$.servername!=="")$.servername=k2.isIP($.host)?"":$.host;return OY.connect($)}function H1($,Z,X){$._readyState=c.CLOSING;let Q=new Error(X);if(Error.captureStackTrace(Q,H1),Z.setHeader){if(Z[d2]=!0,Z.abort(),Z.socket&&!Z.socket.destroyed)Z.socket.destroy();process.nextTick(C6,$,Q)}else Z.destroy(Q),Z.once("error",$.emit.bind($,"error")),Z.once("close",$.emitClose.bind($))}function w5($,Z,X){if(Z){let Q=DY(Z)?Z.size:FY(Z).length;if($._socket)$._sender._bufferedBytes+=Q;else $._bufferedAmount+=Q}if(X){let Q=new Error(`WebSocket is not open: readyState ${$.readyState} (${$8[$.readyState]})`);process.nextTick(X,Q)}}function _Y($,Z){let X=this[g0];if(X._closeFrameReceived=!0,X._closeMessage=Z,X._closeCode=$,X._socket[g0]===void 0)return;if(X._socket.removeListener("data",_6),process.nextTick(g2,X._socket),$===1005)X.close();else X.close($,Z)}function SY(){let $=this[g0];if(!$.isPaused)$._socket.resume()}function LY($){let Z=this[g0];if(Z._socket[g0]!==void 0)Z._socket.removeListener("data",_6),process.nextTick(g2,Z._socket),Z.close($[MY]);if(!Z._errorEmitted)Z._errorEmitted=!0,Z.emit("error",$)}function v2(){this[g0].emitClose()}function NY($,Z){this[g0].emit("message",$,Z)}function PY($){let Z=this[g0];if(Z._autoPong)Z.pong($,!this._isServer,h2);Z.emit("ping",$)}function BY($){this[g0].emit("pong",$)}function g2($){$.resume()}function xY($){let Z=this[g0];if(Z.readyState===c.CLOSED)return;if(Z.readyState===c.OPEN)Z._readyState=c.CLOSING,p2(Z);if(this._socket.end(),!Z._errorEmitted)Z._errorEmitted=!0,Z.emit("error",$)}function p2($){$._closeTimer=setTimeout($._socket.destroy.bind($._socket),30000)}function u2(){let $=this[g0];this.removeListener("close",u2),this.removeListener("data",_6),this.removeListener("end",l2),$._readyState=c.CLOSING;let Z;if(!this._readableState.endEmitted&&!$._closeFrameReceived&&!$._receiver._writableState.errorEmitted&&(Z=$._socket.read())!==null)$._receiver.write(Z);if($._receiver.end(),this[g0]=void 0,clearTimeout($._closeTimer),$._receiver._writableState.finished||$._receiver._writableState.errorEmitted)$.emitClose();else $._receiver.on("error",v2),$._receiver.on("finish",v2)}function _6($){if(!this[g0]._receiver.write($))this.pause()}function l2(){let $=this[g0];$._readyState=c.CLOSING,$._receiver.end(),this.end()}function m2(){let $=this[g0];if(this.removeListener("error",m2),this.on("error",h2),$)$._readyState=c.CLOSING,this.destroy()}});var r2=L((ID,o2)=>{var qD=S6(),{Duplex:jY}=require("stream");function n2($){$.emit("close")}function wY(){if(!this.destroyed&&this._writableState.finished)this.destroy()}function a2($){if(this.removeListener("error",a2),this.destroy(),this.listenerCount("error")===0)this.emit("error",$)}function bY($,Z){let X=!0,Q=new jY({...Z,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return $.on("message",function G(Y,V){let K=!V&&Q._readableState.objectMode?Y.toString():Y;if(!Q.push(K))$.pause()}),$.once("error",function G(Y){if(Q.destroyed)return;X=!1,Q.destroy(Y)}),$.once("close",function G(){if(Q.destroyed)return;Q.push(null)}),Q._destroy=function(G,Y){if($.readyState===$.CLOSED){Y(G),process.nextTick(n2,Q);return}let V=!1;if($.once("error",function K(q){V=!0,Y(q)}),$.once("close",function K(){if(!V)Y(G);process.nextTick(n2,Q)}),X)$.terminate()},Q._final=function(G){if($.readyState===$.CONNECTING){$.once("open",function Y(){Q._final(G)});return}if($._socket===null)return;if($._socket._writableState.finished){if(G(),Q._readableState.endEmitted)Q.destroy()}else $._socket.once("finish",function Y(){G()}),$.close()},Q._read=function(){if($.isPaused)$.resume()},Q._write=function(G,Y,V){if($.readyState===$.CONNECTING){$.once("open",function K(){Q._write(G,Y,V)});return}$.send(G,V)},Q.on("end",wY),Q.on("error",a2),Q}o2.exports=bY});var s2=L((DD,t2)=>{var{tokenChars:cY}=e8();function vY($){let Z=new Set,X=-1,Q=-1,G=0;for(G;G<$.length;G++){let V=$.charCodeAt(G);if(Q===-1&&cY[V]===1){if(X===-1)X=G}else if(G!==0&&(V===32||V===9)){if(Q===-1&&X!==-1)Q=G}else if(V===44){if(X===-1)throw new SyntaxError(`Unexpected character at index ${G}`);if(Q===-1)Q=G;let K=$.slice(X,Q);if(Z.has(K))throw new SyntaxError(`The "${K}" subprotocol is duplicated`);Z.add(K),X=Q=-1}else throw new SyntaxError(`Unexpected character at index ${G}`)}if(X===-1||Q!==-1)throw new SyntaxError("Unexpected end of input");let Y=$.slice(X,G);if(Z.has(Y))throw new SyntaxError(`The "${Y}" subprotocol is duplicated`);return Z.add(Y),Z}t2.exports={parse:vY}});var G$=L((zD,X$)=>{var kY=require("events"),L6=require("http"),{Duplex:WD}=require("stream"),{createHash:hY}=require("crypto"),e2=P5(),j8=c4(),dY=s2(),yY=S6(),{GUID:gY,kWebSocket:pY}=s1(),uY=/^[+/0-9A-Za-z]{22}==$/;class Z$ extends kY{constructor($,Z){super();if($={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:yY,...$},$.port==null&&!$.server&&!$.noServer||$.port!=null&&($.server||$.noServer)||$.server&&$.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if($.port!=null)this._server=L6.createServer((X,Q)=>{let G=L6.STATUS_CODES[426];Q.writeHead(426,{"Content-Length":G.length,"Content-Type":"text/plain"}),Q.end(G)}),this._server.listen($.port,$.host,$.backlog,Z);else if($.server)this._server=$.server;if(this._server){let X=this.emit.bind(this,"connection");this._removeListeners=lY(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(Q,G,Y)=>{this.handleUpgrade(Q,G,Y,X)}})}if($.perMessageDeflate===!0)$.perMessageDeflate={};if($.clientTracking)this.clients=new Set,this._shouldEmitClose=!1;this.options=$,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');if(!this._server)return null;return this._server.address()}close($){if(this._state===2){if($)this.once("close",()=>{$(new Error("The server is not running"))});process.nextTick(d4,this);return}if($)this.once("close",$);if(this._state===1)return;if(this._state=1,this.options.noServer||this.options.server){if(this._server)this._removeListeners(),this._removeListeners=this._server=null;if(this.clients)if(!this.clients.size)process.nextTick(d4,this);else this._shouldEmitClose=!0;else process.nextTick(d4,this)}else{let Z=this._server;this._removeListeners(),this._removeListeners=this._server=null,Z.close(()=>{d4(this)})}}shouldHandle($){if(this.options.path){let Z=$.url.indexOf("?");if((Z!==-1?$.url.slice(0,Z):$.url)!==this.options.path)return!1}return!0}handleUpgrade($,Z,X,Q){Z.on("error",$$);let G=$.headers["sec-websocket-key"],Y=$.headers.upgrade,V=+$.headers["sec-websocket-version"];if($.method!=="GET"){w8(this,$,Z,405,"Invalid HTTP method");return}if(Y===void 0||Y.toLowerCase()!=="websocket"){w8(this,$,Z,400,"Invalid Upgrade header");return}if(G===void 0||!uY.test(G)){w8(this,$,Z,400,"Missing or invalid Sec-WebSocket-Key header");return}if(V!==8&&V!==13){w8(this,$,Z,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle($)){y4(Z,400);return}let K=$.headers["sec-websocket-protocol"],q=new Set;if(K!==void 0)try{q=dY.parse(K)}catch(R){w8(this,$,Z,400,"Invalid Sec-WebSocket-Protocol header");return}let D=$.headers["sec-websocket-extensions"],W={};if(this.options.perMessageDeflate&&D!==void 0){let R=new j8(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let T=e2.parse(D);if(T[j8.extensionName])R.accept(T[j8.extensionName]),W[j8.extensionName]=R}catch(T){w8(this,$,Z,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let R={origin:$.headers[`${V===8?"sec-websocket-origin":"origin"}`],secure:!!($.socket.authorized||$.socket.encrypted),req:$};if(this.options.verifyClient.length===2){this.options.verifyClient(R,(T,C,_,S)=>{if(!T)return y4(Z,C||401,_,S);this.completeUpgrade(W,G,q,$,Z,X,Q)});return}if(!this.options.verifyClient(R))return y4(Z,401)}this.completeUpgrade(W,G,q,$,Z,X,Q)}completeUpgrade($,Z,X,Q,G,Y,V){if(!G.readable||!G.writable)return G.destroy();if(G[pY])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return y4(G,503);let q=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${hY("sha1").update(Z+gY).digest("base64")}`],D=new this.options.WebSocket(null,void 0,this.options);if(X.size){let W=this.options.handleProtocols?this.options.handleProtocols(X,Q):X.values().next().value;if(W)q.push(`Sec-WebSocket-Protocol: ${W}`),D._protocol=W}if($[j8.extensionName]){let W=$[j8.extensionName].params,R=e2.format({[j8.extensionName]:[W]});q.push(`Sec-WebSocket-Extensions: ${R}`),D._extensions=$}if(this.emit("headers",q,Q),G.write(q.concat(`\r
`).join(`\r
`)),G.removeListener("error",$$),D.setSocket(G,Y,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients)this.clients.add(D),D.on("close",()=>{if(this.clients.delete(D),this._shouldEmitClose&&!this.clients.size)process.nextTick(d4,this)});V(D,Q)}}X$.exports=Z$;function lY($,Z){for(let X of Object.keys(Z))$.on(X,Z[X]);return function X(){for(let Q of Object.keys(Z))$.removeListener(Q,Z[Q])}}function d4($){$._state=2,$.emit("close")}function $$(){this.destroy()}function y4($,Z,X,Q){X=X||L6.STATUS_CODES[Z],Q={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(X),...Q},$.once("finish",$.destroy),$.end(`HTTP/1.1 ${Z} ${L6.STATUS_CODES[Z]}\r
`+Object.keys(Q).map((G)=>`${G}: ${Q[G]}`).join(`\r
`)+`\r
\r
`+X)}function w8($,Z,X,Q,G){if($.listenerCount("wsClientError")){let Y=new Error(G);Error.captureStackTrace(Y,w8),$.emit("wsClientError",Y,X,Z)}else y4(X,Q,G)}});var Y$=L((MD,Q$)=>{var Z8=S6();Z8.createWebSocketStream=r2();Z8.Server=G$();Z8.Receiver=_5();Z8.Sender=L5();Z8.WebSocket=Z8;Z8.WebSocketServer=Z8.Server;Q$.exports=Z8});var V$=L((Q4)=>{var mY=Q4&&Q4.__awaiter||function($,Z,X,Q){function G(Y){return Y instanceof X?Y:new X(function(V){V(Y)})}return new(X||(X=Promise))(function(Y,V){function K(W){try{D(Q.next(W))}catch(R){V(R)}}function q(W){try{D(Q.throw(W))}catch(R){V(R)}}function D(W){W.done?Y(W.value):G(W.value).then(K,q)}D((Q=Q.apply($,Z||[])).next())})};Object.defineProperty(Q4,"__esModule",{value:!0});Q4.WebSocketSession=void 0;var iY=A5(),nY=U5();class J${send($){return mY(this,void 0,void 0,function*(){yield this.sendRaw(iY.forgeMessage($))})}onMessage($){this.onRawMessage((Z)=>{let X=nY.parseMessage(Z);if(X!==void 0)$(X)})}}Q4.WebSocketSession=J$});var H$=L((N6)=>{Object.defineProperty(N6,"__esModule",{value:!0});N6.BrowserRandomSource=void 0;var O$=65536;class K${constructor(){this.isAvailable=!1,this.isInstantiated=!1;let $=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if($&&$.getRandomValues!==void 0)this._crypto=$,this.isAvailable=!0,this.isInstantiated=!0}randomBytes($){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let Z=new Uint8Array($);for(let X=0;X<Z.length;X+=O$)this._crypto.getRandomValues(Z.subarray(X,X+Math.min(Z.length-X,O$)));return Z}}N6.BrowserRandomSource=K$});var P6=L((b5)=>{Object.defineProperty(b5,"__esModule",{value:!0});function aY($){for(var Z=0;Z<$.length;Z++)$[Z]=0;return $}b5.wipe=aY});var I$=L((B6)=>{Object.defineProperty(B6,"__esModule",{value:!0});B6.NodeRandomSource=void 0;var oY=P6();class q${constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let $=require("crypto");if($&&$.randomBytes)this._crypto=$,this.isAvailable=!0,this.isInstantiated=!0}}randomBytes($){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let Z=this._crypto.randomBytes($);if(Z.length!==$)throw new Error("NodeRandomSource: got fewer bytes than requested");let X=new Uint8Array($);for(let Q=0;Q<X.length;Q++)X[Q]=Z[Q];return oY.wipe(Z),X}}B6.NodeRandomSource=q$});var W$=L((x6)=>{Object.defineProperty(x6,"__esModule",{value:!0});x6.SystemRandomSource=void 0;var rY=H$(),tY=I$();class D${constructor(){if(this.isAvailable=!1,this.name="",this._source=new rY.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new tY.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes($){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes($)}}x6.SystemRandomSource=D$});var z$=L((q1)=>{Object.defineProperty(q1,"__esModule",{value:!0});function sY($,Z){var X=$>>>16&65535,Q=$&65535,G=Z>>>16&65535,Y=Z&65535;return Q*Y+(X*Y+Q*G<<16>>>0)|0}q1.mul=Math.imul||sY;function eY($,Z){return $+Z|0}q1.add=eY;function $J($,Z){return $-Z|0}q1.sub=$J;function ZJ($,Z){return $<<Z|$>>>32-Z}q1.rotl=ZJ;function XJ($,Z){return $<<32-Z|$>>>Z}q1.rotr=XJ;function GJ($){return typeof $==="number"&&isFinite($)&&Math.floor($)===$}q1.isInteger=Number.isInteger||GJ;q1.MAX_SAFE_INTEGER=9007199254740991;q1.isSafeInteger=function($){return q1.isInteger($)&&($>=-q1.MAX_SAFE_INTEGER&&$<=q1.MAX_SAFE_INTEGER)}});var d5=L((k)=>{Object.defineProperty(k,"__esModule",{value:!0});var M$=z$();function QJ($,Z){if(Z===void 0)Z=0;return($[Z+0]<<8|$[Z+1])<<16>>16}k.readInt16BE=QJ;function YJ($,Z){if(Z===void 0)Z=0;return($[Z+0]<<8|$[Z+1])>>>0}k.readUint16BE=YJ;function JJ($,Z){if(Z===void 0)Z=0;return($[Z+1]<<8|$[Z])<<16>>16}k.readInt16LE=JJ;function VJ($,Z){if(Z===void 0)Z=0;return($[Z+1]<<8|$[Z])>>>0}k.readUint16LE=VJ;function U$($,Z,X){if(Z===void 0)Z=new Uint8Array(2);if(X===void 0)X=0;return Z[X+0]=$>>>8,Z[X+1]=$>>>0,Z}k.writeUint16BE=U$;k.writeInt16BE=U$;function A$($,Z,X){if(Z===void 0)Z=new Uint8Array(2);if(X===void 0)X=0;return Z[X+0]=$>>>0,Z[X+1]=$>>>8,Z}k.writeUint16LE=A$;k.writeInt16LE=A$;function c5($,Z){if(Z===void 0)Z=0;return $[Z]<<24|$[Z+1]<<16|$[Z+2]<<8|$[Z+3]}k.readInt32BE=c5;function v5($,Z){if(Z===void 0)Z=0;return($[Z]<<24|$[Z+1]<<16|$[Z+2]<<8|$[Z+3])>>>0}k.readUint32BE=v5;function k5($,Z){if(Z===void 0)Z=0;return $[Z+3]<<24|$[Z+2]<<16|$[Z+1]<<8|$[Z]}k.readInt32LE=k5;function h5($,Z){if(Z===void 0)Z=0;return($[Z+3]<<24|$[Z+2]<<16|$[Z+1]<<8|$[Z])>>>0}k.readUint32LE=h5;function j6($,Z,X){if(Z===void 0)Z=new Uint8Array(4);if(X===void 0)X=0;return Z[X+0]=$>>>24,Z[X+1]=$>>>16,Z[X+2]=$>>>8,Z[X+3]=$>>>0,Z}k.writeUint32BE=j6;k.writeInt32BE=j6;function w6($,Z,X){if(Z===void 0)Z=new Uint8Array(4);if(X===void 0)X=0;return Z[X+0]=$>>>0,Z[X+1]=$>>>8,Z[X+2]=$>>>16,Z[X+3]=$>>>24,Z}k.writeUint32LE=w6;k.writeInt32LE=w6;function OJ($,Z){if(Z===void 0)Z=0;var X=c5($,Z),Q=c5($,Z+4);return X*4294967296+Q-(Q>>31)*4294967296}k.readInt64BE=OJ;function KJ($,Z){if(Z===void 0)Z=0;var X=v5($,Z),Q=v5($,Z+4);return X*4294967296+Q}k.readUint64BE=KJ;function HJ($,Z){if(Z===void 0)Z=0;var X=k5($,Z),Q=k5($,Z+4);return Q*4294967296+X-(X>>31)*4294967296}k.readInt64LE=HJ;function qJ($,Z){if(Z===void 0)Z=0;var X=h5($,Z),Q=h5($,Z+4);return Q*4294967296+X}k.readUint64LE=qJ;function R$($,Z,X){if(Z===void 0)Z=new Uint8Array(8);if(X===void 0)X=0;return j6($/4294967296>>>0,Z,X),j6($>>>0,Z,X+4),Z}k.writeUint64BE=R$;k.writeInt64BE=R$;function f$($,Z,X){if(Z===void 0)Z=new Uint8Array(8);if(X===void 0)X=0;return w6($>>>0,Z,X),w6($/4294967296>>>0,Z,X+4),Z}k.writeUint64LE=f$;k.writeInt64LE=f$;function IJ($,Z,X){if(X===void 0)X=0;if($%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if($/8>Z.length-X)throw new Error("readUintBE: array is too short for the given bitLength");var Q=0,G=1;for(var Y=$/8+X-1;Y>=X;Y--)Q+=Z[Y]*G,G*=256;return Q}k.readUintBE=IJ;function DJ($,Z,X){if(X===void 0)X=0;if($%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if($/8>Z.length-X)throw new Error("readUintLE: array is too short for the given bitLength");var Q=0,G=1;for(var Y=X;Y<X+$/8;Y++)Q+=Z[Y]*G,G*=256;return Q}k.readUintLE=DJ;function WJ($,Z,X,Q){if(X===void 0)X=new Uint8Array($/8);if(Q===void 0)Q=0;if($%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!M$.isSafeInteger(Z))throw new Error("writeUintBE value must be an integer");var G=1;for(var Y=$/8+Q-1;Y>=Q;Y--)X[Y]=Z/G&255,G*=256;return X}k.writeUintBE=WJ;function zJ($,Z,X,Q){if(X===void 0)X=new Uint8Array($/8);if(Q===void 0)Q=0;if($%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!M$.isSafeInteger(Z))throw new Error("writeUintLE value must be an integer");var G=1;for(var Y=Q;Y<Q+$/8;Y++)X[Y]=Z/G&255,G*=256;return X}k.writeUintLE=zJ;function MJ($,Z){if(Z===void 0)Z=0;var X=new DataView($.buffer,$.byteOffset,$.byteLength);return X.getFloat32(Z)}k.readFloat32BE=MJ;function UJ($,Z){if(Z===void 0)Z=0;var X=new DataView($.buffer,$.byteOffset,$.byteLength);return X.getFloat32(Z,!0)}k.readFloat32LE=UJ;function AJ($,Z){if(Z===void 0)Z=0;var X=new DataView($.buffer,$.byteOffset,$.byteLength);return X.getFloat64(Z)}k.readFloat64BE=AJ;function RJ($,Z){if(Z===void 0)Z=0;var X=new DataView($.buffer,$.byteOffset,$.byteLength);return X.getFloat64(Z,!0)}k.readFloat64LE=RJ;function fJ($,Z,X){if(Z===void 0)Z=new Uint8Array(4);if(X===void 0)X=0;var Q=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);return Q.setFloat32(X,$),Z}k.writeFloat32BE=fJ;function FJ($,Z,X){if(Z===void 0)Z=new Uint8Array(4);if(X===void 0)X=0;var Q=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);return Q.setFloat32(X,$,!0),Z}k.writeFloat32LE=FJ;function TJ($,Z,X){if(Z===void 0)Z=new Uint8Array(8);if(X===void 0)X=0;var Q=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);return Q.setFloat64(X,$),Z}k.writeFloat64BE=TJ;function EJ($,Z,X){if(Z===void 0)Z=new Uint8Array(8);if(X===void 0)X=0;var Q=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);return Q.setFloat64(X,$,!0),Z}k.writeFloat64LE=EJ});var C$=L((s0)=>{Object.defineProperty(s0,"__esModule",{value:!0});s0.randomStringForEntropy=s0.randomString=s0.randomUint32=s0.randomBytes=s0.defaultRandomSource=void 0;var CJ=W$(),_J=d5(),F$=P6();s0.defaultRandomSource=new CJ.SystemRandomSource;function y5($,Z=s0.defaultRandomSource){return Z.randomBytes($)}s0.randomBytes=y5;function SJ($=s0.defaultRandomSource){let Z=y5(4,$),X=_J.readUint32LE(Z);return F$.wipe(Z),X}s0.randomUint32=SJ;var T$="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function E$($,Z=T$,X=s0.defaultRandomSource){if(Z.length<2)throw new Error("randomString charset is too short");if(Z.length>256)throw new Error("randomString charset is too long");let Q="",G=Z.length,Y=256-256%G;while($>0){let V=y5(Math.ceil($*256/Y),X);for(let K=0;K<V.length&&$>0;K++){let q=V[K];if(q<Y)Q+=Z.charAt(q%G),$--}F$.wipe(V)}return Q}s0.randomString=E$;function LJ($,Z=T$,X=s0.defaultRandomSource){let Q=Math.ceil($/(Math.log(Z.length)/Math.LN2));return E$(Q,Z,X)}s0.randomStringForEntropy=LJ});var S$=L((U8)=>{Object.defineProperty(U8,"__esModule",{value:!0});var c6=d5(),b6=P6();U8.DIGEST_LENGTH=32;U8.BLOCK_SIZE=64;var _$=function(){function $(){this.digestLength=U8.DIGEST_LENGTH,this.blockSize=U8.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return $.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},$.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},$.prototype.clean=function(){b6.wipe(this._buffer),b6.wipe(this._temp),this.reset()},$.prototype.update=function(Z,X){if(X===void 0)X=Z.length;if(this._finished)throw new Error("SHA256: can't update because hash was finished.");var Q=0;if(this._bytesHashed+=X,this._bufferLength>0){while(this._bufferLength<this.blockSize&&X>0)this._buffer[this._bufferLength++]=Z[Q++],X--;if(this._bufferLength===this.blockSize)g5(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0}if(X>=this.blockSize)Q=g5(this._temp,this._state,Z,Q,X),X%=this.blockSize;while(X>0)this._buffer[this._bufferLength++]=Z[Q++],X--;return this},$.prototype.finish=function(Z){if(!this._finished){var X=this._bytesHashed,Q=this._bufferLength,G=X/536870912|0,Y=X<<3,V=X%64<56?64:128;this._buffer[Q]=128;for(var K=Q+1;K<V-8;K++)this._buffer[K]=0;c6.writeUint32BE(G,this._buffer,V-8),c6.writeUint32BE(Y,this._buffer,V-4),g5(this._temp,this._state,this._buffer,0,V),this._finished=!0}for(var K=0;K<this.digestLength/4;K++)c6.writeUint32BE(this._state[K],Z,K*4);return this},$.prototype.digest=function(){var Z=new Uint8Array(this.digestLength);return this.finish(Z),Z},$.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},$.prototype.restoreState=function(Z){if(this._state.set(Z.state),this._bufferLength=Z.bufferLength,Z.buffer)this._buffer.set(Z.buffer);return this._bytesHashed=Z.bytesHashed,this._finished=!1,this},$.prototype.cleanSavedState=function(Z){if(b6.wipe(Z.state),Z.buffer)b6.wipe(Z.buffer);Z.bufferLength=0,Z.bytesHashed=0},$}();U8.SHA256=_$;var NJ=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function g5($,Z,X,Q,G){while(G>=64){var Y=Z[0],V=Z[1],K=Z[2],q=Z[3],D=Z[4],W=Z[5],R=Z[6],T=Z[7];for(var C=0;C<16;C++){var _=Q+C*4;$[C]=c6.readUint32BE(X,_)}for(var C=16;C<64;C++){var S=$[C-2],w=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10;S=$[C-15];var B=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3;$[C]=(w+$[C-7]|0)+(B+$[C-16]|0)}for(var C=0;C<64;C++){var w=(((D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7))+(D&W^~D&R)|0)+(T+(NJ[C]+$[C]|0)|0)|0,B=((Y>>>2|Y<<30)^(Y>>>13|Y<<19)^(Y>>>22|Y<<10))+(Y&V^Y&K^V&K)|0;T=R,R=W,W=D,D=q+w|0,q=K,K=V,V=Y,Y=w+B|0}Z[0]+=Y,Z[1]+=V,Z[2]+=K,Z[3]+=q,Z[4]+=D,Z[5]+=W,Z[6]+=R,Z[7]+=T,Q+=64,G-=64}return Q}function PJ($){var Z=new _$;Z.update($);var X=Z.digest();return Z.clean(),X}U8.hash=PJ});var L$=L((SD,BJ)=>{BJ.exports={name:"elliptic",version:"6.6.1",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var d1=L((N$,p5)=>{(function($,Z){function X(f,J){if(!f)throw new Error(J||"Assertion failed")}function Q(f,J){f.super_=J;var H=function(){};H.prototype=J.prototype,f.prototype=new H,f.prototype.constructor=f}function G(f,J,H){if(G.isBN(f))return f;if(this.negative=0,this.words=null,this.length=0,this.red=null,f!==null){if(J==="le"||J==="be")H=J,J=10;this._init(f||0,J||10,H||"be")}}if(typeof $==="object")$.exports=G;else Z.BN=G;G.BN=G,G.wordSize=26;var Y;try{if(typeof window!=="undefined"&&typeof window.Buffer!=="undefined")Y=window.Buffer;else Y=require("buffer").Buffer}catch(f){}G.isBN=function f(J){if(J instanceof G)return!0;return J!==null&&typeof J==="object"&&J.constructor.wordSize===G.wordSize&&Array.isArray(J.words)},G.max=function f(J,H){if(J.cmp(H)>0)return J;return H},G.min=function f(J,H){if(J.cmp(H)<0)return J;return H},G.prototype._init=function f(J,H,I){if(typeof J==="number")return this._initNumber(J,H,I);if(typeof J==="object")return this._initArray(J,H,I);if(H==="hex")H=16;X(H===(H|0)&&H>=2&&H<=36),J=J.toString().replace(/\s+/g,"");var z=0;if(J[0]==="-")z++,this.negative=1;if(z<J.length){if(H===16)this._parseHex(J,z,I);else if(this._parseBase(J,H,z),I==="le")this._initArray(this.toArray(),H,I)}},G.prototype._initNumber=function f(J,H,I){if(J<0)this.negative=1,J=-J;if(J<67108864)this.words=[J&67108863],this.length=1;else if(J<4503599627370496)this.words=[J&67108863,J/67108864&67108863],this.length=2;else X(J<9007199254740992),this.words=[J&67108863,J/67108864&67108863,1],this.length=3;if(I!=="le")return;this._initArray(this.toArray(),H,I)},G.prototype._initArray=function f(J,H,I){if(X(typeof J.length==="number"),J.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(J.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var A,F,E=0;if(I==="be"){for(z=J.length-1,A=0;z>=0;z-=3)if(F=J[z]|J[z-1]<<8|J[z-2]<<16,this.words[A]|=F<<E&67108863,this.words[A+1]=F>>>26-E&67108863,E+=24,E>=26)E-=26,A++}else if(I==="le"){for(z=0,A=0;z<J.length;z+=3)if(F=J[z]|J[z+1]<<8|J[z+2]<<16,this.words[A]|=F<<E&67108863,this.words[A+1]=F>>>26-E&67108863,E+=24,E>=26)E-=26,A++}return this.strip()};function V(f,J){var H=f.charCodeAt(J);if(H>=65&&H<=70)return H-55;else if(H>=97&&H<=102)return H-87;else return H-48&15}function K(f,J,H){var I=V(f,H);if(H-1>=J)I|=V(f,H-1)<<4;return I}G.prototype._parseHex=function f(J,H,I){this.length=Math.ceil((J.length-H)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var A=0,F=0,E;if(I==="be")for(z=J.length-1;z>=H;z-=2)if(E=K(J,H,z)<<A,this.words[F]|=E&67108863,A>=18)A-=18,F+=1,this.words[F]|=E>>>26;else A+=8;else{var M=J.length-H;for(z=M%2===0?H+1:H;z<J.length;z+=2)if(E=K(J,H,z)<<A,this.words[F]|=E&67108863,A>=18)A-=18,F+=1,this.words[F]|=E>>>26;else A+=8}this.strip()};function q(f,J,H,I){var z=0,A=Math.min(f.length,H);for(var F=J;F<A;F++){var E=f.charCodeAt(F)-48;if(z*=I,E>=49)z+=E-49+10;else if(E>=17)z+=E-17+10;else z+=E}return z}G.prototype._parseBase=function f(J,H,I){this.words=[0],this.length=1;for(var z=0,A=1;A<=67108863;A*=H)z++;z--,A=A/H|0;var F=J.length-I,E=F%z,M=Math.min(F,F-E)+I,O=0;for(var U=I;U<M;U+=z)if(O=q(J,U,U+z,H),this.imuln(A),this.words[0]+O<67108864)this.words[0]+=O;else this._iaddn(O);if(E!==0){var x=1;O=q(J,U,J.length,H);for(U=0;U<E;U++)x*=H;if(this.imuln(x),this.words[0]+O<67108864)this.words[0]+=O;else this._iaddn(O)}this.strip()},G.prototype.copy=function f(J){J.words=new Array(this.length);for(var H=0;H<this.length;H++)J.words[H]=this.words[H];J.length=this.length,J.negative=this.negative,J.red=this.red},G.prototype.clone=function f(){var J=new G(null);return this.copy(J),J},G.prototype._expand=function f(J){while(this.length<J)this.words[this.length++]=0;return this},G.prototype.strip=function f(){while(this.length>1&&this.words[this.length-1]===0)this.length--;return this._normSign()},G.prototype._normSign=function f(){if(this.length===1&&this.words[0]===0)this.negative=0;return this},G.prototype.inspect=function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],W=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64000000,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,24300000,28629151,33554432,39135393,45435424,52521875,60466176];if(G.prototype.toString=function f(J,H){J=J||10,H=H|0||1;var I;if(J===16||J==="hex"){I="";var z=0,A=0;for(var F=0;F<this.length;F++){var E=this.words[F],M=((E<<z|A)&16777215).toString(16);if(A=E>>>24-z&16777215,z+=2,z>=26)z-=26,F--;if(A!==0||F!==this.length-1)I=D[6-M.length]+M+I;else I=M+I}if(A!==0)I=A.toString(16)+I;while(I.length%H!==0)I="0"+I;if(this.negative!==0)I="-"+I;return I}if(J===(J|0)&&J>=2&&J<=36){var O=W[J],U=R[J];I="";var x=this.clone();x.negative=0;while(!x.isZero()){var j=x.modn(U).toString(J);if(x=x.idivn(U),!x.isZero())I=D[O-j.length]+j+I;else I=j+I}if(this.isZero())I="0"+I;while(I.length%H!==0)I="0"+I;if(this.negative!==0)I="-"+I;return I}X(!1,"Base should be between 2 and 36")},G.prototype.toNumber=function f(){var J=this.words[0];if(this.length===2)J+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)J+=4503599627370496+this.words[1]*67108864;else if(this.length>2)X(!1,"Number can only safely store up to 53 bits");return this.negative!==0?-J:J},G.prototype.toJSON=function f(){return this.toString(16)},G.prototype.toBuffer=function f(J,H){return X(typeof Y!=="undefined"),this.toArrayLike(Y,J,H)},G.prototype.toArray=function f(J,H){return this.toArrayLike(Array,J,H)},G.prototype.toArrayLike=function f(J,H,I){var z=this.byteLength(),A=I||Math.max(1,z);X(z<=A,"byte array longer than desired length"),X(A>0,"Requested array length <= 0"),this.strip();var F=H==="le",E=new J(A),M,O,U=this.clone();if(!F){for(O=0;O<A-z;O++)E[O]=0;for(O=0;!U.isZero();O++)M=U.andln(255),U.iushrn(8),E[A-O-1]=M}else{for(O=0;!U.isZero();O++)M=U.andln(255),U.iushrn(8),E[O]=M;for(;O<A;O++)E[O]=0}return E},Math.clz32)G.prototype._countBits=function f(J){return 32-Math.clz32(J)};else G.prototype._countBits=function f(J){var H=J,I=0;if(H>=4096)I+=13,H>>>=13;if(H>=64)I+=7,H>>>=7;if(H>=8)I+=4,H>>>=4;if(H>=2)I+=2,H>>>=2;return I+H};G.prototype._zeroBits=function f(J){if(J===0)return 26;var H=J,I=0;if((H&8191)===0)I+=13,H>>>=13;if((H&127)===0)I+=7,H>>>=7;if((H&15)===0)I+=4,H>>>=4;if((H&3)===0)I+=2,H>>>=2;if((H&1)===0)I++;return I},G.prototype.bitLength=function f(){var J=this.words[this.length-1],H=this._countBits(J);return(this.length-1)*26+H};function T(f){var J=new Array(f.bitLength());for(var H=0;H<J.length;H++){var I=H/26|0,z=H%26;J[H]=(f.words[I]&1<<z)>>>z}return J}G.prototype.zeroBits=function f(){if(this.isZero())return 0;var J=0;for(var H=0;H<this.length;H++){var I=this._zeroBits(this.words[H]);if(J+=I,I!==26)break}return J},G.prototype.byteLength=function f(){return Math.ceil(this.bitLength()/8)},G.prototype.toTwos=function f(J){if(this.negative!==0)return this.abs().inotn(J).iaddn(1);return this.clone()},G.prototype.fromTwos=function f(J){if(this.testn(J-1))return this.notn(J).iaddn(1).ineg();return this.clone()},G.prototype.isNeg=function f(){return this.negative!==0},G.prototype.neg=function f(){return this.clone().ineg()},G.prototype.ineg=function f(){if(!this.isZero())this.negative^=1;return this},G.prototype.iuor=function f(J){while(this.length<J.length)this.words[this.length++]=0;for(var H=0;H<J.length;H++)this.words[H]=this.words[H]|J.words[H];return this.strip()},G.prototype.ior=function f(J){return X((this.negative|J.negative)===0),this.iuor(J)},G.prototype.or=function f(J){if(this.length>J.length)return this.clone().ior(J);return J.clone().ior(this)},G.prototype.uor=function f(J){if(this.length>J.length)return this.clone().iuor(J);return J.clone().iuor(this)},G.prototype.iuand=function f(J){var H;if(this.length>J.length)H=J;else H=this;for(var I=0;I<H.length;I++)this.words[I]=this.words[I]&J.words[I];return this.length=H.length,this.strip()},G.prototype.iand=function f(J){return X((this.negative|J.negative)===0),this.iuand(J)},G.prototype.and=function f(J){if(this.length>J.length)return this.clone().iand(J);return J.clone().iand(this)},G.prototype.uand=function f(J){if(this.length>J.length)return this.clone().iuand(J);return J.clone().iuand(this)},G.prototype.iuxor=function f(J){var H,I;if(this.length>J.length)H=this,I=J;else H=J,I=this;for(var z=0;z<I.length;z++)this.words[z]=H.words[z]^I.words[z];if(this!==H)for(;z<H.length;z++)this.words[z]=H.words[z];return this.length=H.length,this.strip()},G.prototype.ixor=function f(J){return X((this.negative|J.negative)===0),this.iuxor(J)},G.prototype.xor=function f(J){if(this.length>J.length)return this.clone().ixor(J);return J.clone().ixor(this)},G.prototype.uxor=function f(J){if(this.length>J.length)return this.clone().iuxor(J);return J.clone().iuxor(this)},G.prototype.inotn=function f(J){X(typeof J==="number"&&J>=0);var H=Math.ceil(J/26)|0,I=J%26;if(this._expand(H),I>0)H--;for(var z=0;z<H;z++)this.words[z]=~this.words[z]&67108863;if(I>0)this.words[z]=~this.words[z]&67108863>>26-I;return this.strip()},G.prototype.notn=function f(J){return this.clone().inotn(J)},G.prototype.setn=function f(J,H){X(typeof J==="number"&&J>=0);var I=J/26|0,z=J%26;if(this._expand(I+1),H)this.words[I]=this.words[I]|1<<z;else this.words[I]=this.words[I]&~(1<<z);return this.strip()},G.prototype.iadd=function f(J){var H;if(this.negative!==0&&J.negative===0)return this.negative=0,H=this.isub(J),this.negative^=1,this._normSign();else if(this.negative===0&&J.negative!==0)return J.negative=0,H=this.isub(J),J.negative=1,H._normSign();var I,z;if(this.length>J.length)I=this,z=J;else I=J,z=this;var A=0;for(var F=0;F<z.length;F++)H=(I.words[F]|0)+(z.words[F]|0)+A,this.words[F]=H&67108863,A=H>>>26;for(;A!==0&&F<I.length;F++)H=(I.words[F]|0)+A,this.words[F]=H&67108863,A=H>>>26;if(this.length=I.length,A!==0)this.words[this.length]=A,this.length++;else if(I!==this)for(;F<I.length;F++)this.words[F]=I.words[F];return this},G.prototype.add=function f(J){var H;if(J.negative!==0&&this.negative===0)return J.negative=0,H=this.sub(J),J.negative^=1,H;else if(J.negative===0&&this.negative!==0)return this.negative=0,H=J.sub(this),this.negative=1,H;if(this.length>J.length)return this.clone().iadd(J);return J.clone().iadd(this)},G.prototype.isub=function f(J){if(J.negative!==0){J.negative=0;var H=this.iadd(J);return J.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(J),this.negative=1,this._normSign();var I=this.cmp(J);if(I===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,A;if(I>0)z=this,A=J;else z=J,A=this;var F=0;for(var E=0;E<A.length;E++)H=(z.words[E]|0)-(A.words[E]|0)+F,F=H>>26,this.words[E]=H&67108863;for(;F!==0&&E<z.length;E++)H=(z.words[E]|0)+F,F=H>>26,this.words[E]=H&67108863;if(F===0&&E<z.length&&z!==this)for(;E<z.length;E++)this.words[E]=z.words[E];if(this.length=Math.max(this.length,E),z!==this)this.negative=1;return this.strip()},G.prototype.sub=function f(J){return this.clone().isub(J)};function C(f,J,H){H.negative=J.negative^f.negative;var I=f.length+J.length|0;H.length=I,I=I-1|0;var z=f.words[0]|0,A=J.words[0]|0,F=z*A,E=F&67108863,M=F/67108864|0;H.words[0]=E;for(var O=1;O<I;O++){var U=M>>>26,x=M&67108863,j=Math.min(O,J.length-1);for(var b=Math.max(0,O-f.length+1);b<=j;b++){var v=O-b|0;z=f.words[v]|0,A=J.words[b]|0,F=z*A+x,U+=F/67108864|0,x=F&67108863}H.words[O]=x|0,M=U|0}if(M!==0)H.words[O]=M|0;else H.length--;return H.strip()}var _=function f(J,H,I){var z=J.words,A=H.words,F=I.words,E=0,M,O,U,x=z[0]|0,j=x&8191,b=x>>>13,v=z[1]|0,p=v&8191,o=v>>>13,O8=z[2]|0,r=O8&8191,e=O8>>>13,P7=z[3]|0,Y0=P7&8191,J0=P7>>>13,B7=z[4]|0,V0=B7&8191,O0=B7>>>13,x7=z[5]|0,K0=x7&8191,H0=x7>>>13,j7=z[6]|0,q0=j7&8191,I0=j7>>>13,w7=z[7]|0,D0=w7&8191,W0=w7>>>13,b7=z[8]|0,z0=b7&8191,M0=b7>>>13,c7=z[9]|0,U0=c7&8191,A0=c7>>>13,v7=A[0]|0,R0=v7&8191,f0=v7>>>13,k7=A[1]|0,F0=k7&8191,T0=k7>>>13,h7=A[2]|0,E0=h7&8191,C0=h7>>>13,d7=A[3]|0,_0=d7&8191,S0=d7>>>13,y7=A[4]|0,L0=y7&8191,N0=y7>>>13,g7=A[5]|0,P0=g7&8191,B0=g7>>>13,p7=A[6]|0,x0=p7&8191,j0=p7>>>13,u7=A[7]|0,w0=u7&8191,b0=u7>>>13,l7=A[8]|0,c0=l7&8191,v0=l7>>>13,m7=A[9]|0,k0=m7&8191,h0=m7>>>13;I.negative=J.negative^H.negative,I.length=19,M=Math.imul(j,R0),O=Math.imul(j,f0),O=O+Math.imul(b,R0)|0,U=Math.imul(b,f0);var E9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(E9>>>26)|0,E9&=67108863,M=Math.imul(p,R0),O=Math.imul(p,f0),O=O+Math.imul(o,R0)|0,U=Math.imul(o,f0),M=M+Math.imul(j,F0)|0,O=O+Math.imul(j,T0)|0,O=O+Math.imul(b,F0)|0,U=U+Math.imul(b,T0)|0;var C9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(C9>>>26)|0,C9&=67108863,M=Math.imul(r,R0),O=Math.imul(r,f0),O=O+Math.imul(e,R0)|0,U=Math.imul(e,f0),M=M+Math.imul(p,F0)|0,O=O+Math.imul(p,T0)|0,O=O+Math.imul(o,F0)|0,U=U+Math.imul(o,T0)|0,M=M+Math.imul(j,E0)|0,O=O+Math.imul(j,C0)|0,O=O+Math.imul(b,E0)|0,U=U+Math.imul(b,C0)|0;var _9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(_9>>>26)|0,_9&=67108863,M=Math.imul(Y0,R0),O=Math.imul(Y0,f0),O=O+Math.imul(J0,R0)|0,U=Math.imul(J0,f0),M=M+Math.imul(r,F0)|0,O=O+Math.imul(r,T0)|0,O=O+Math.imul(e,F0)|0,U=U+Math.imul(e,T0)|0,M=M+Math.imul(p,E0)|0,O=O+Math.imul(p,C0)|0,O=O+Math.imul(o,E0)|0,U=U+Math.imul(o,C0)|0,M=M+Math.imul(j,_0)|0,O=O+Math.imul(j,S0)|0,O=O+Math.imul(b,_0)|0,U=U+Math.imul(b,S0)|0;var S9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(S9>>>26)|0,S9&=67108863,M=Math.imul(V0,R0),O=Math.imul(V0,f0),O=O+Math.imul(O0,R0)|0,U=Math.imul(O0,f0),M=M+Math.imul(Y0,F0)|0,O=O+Math.imul(Y0,T0)|0,O=O+Math.imul(J0,F0)|0,U=U+Math.imul(J0,T0)|0,M=M+Math.imul(r,E0)|0,O=O+Math.imul(r,C0)|0,O=O+Math.imul(e,E0)|0,U=U+Math.imul(e,C0)|0,M=M+Math.imul(p,_0)|0,O=O+Math.imul(p,S0)|0,O=O+Math.imul(o,_0)|0,U=U+Math.imul(o,S0)|0,M=M+Math.imul(j,L0)|0,O=O+Math.imul(j,N0)|0,O=O+Math.imul(b,L0)|0,U=U+Math.imul(b,N0)|0;var L9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(L9>>>26)|0,L9&=67108863,M=Math.imul(K0,R0),O=Math.imul(K0,f0),O=O+Math.imul(H0,R0)|0,U=Math.imul(H0,f0),M=M+Math.imul(V0,F0)|0,O=O+Math.imul(V0,T0)|0,O=O+Math.imul(O0,F0)|0,U=U+Math.imul(O0,T0)|0,M=M+Math.imul(Y0,E0)|0,O=O+Math.imul(Y0,C0)|0,O=O+Math.imul(J0,E0)|0,U=U+Math.imul(J0,C0)|0,M=M+Math.imul(r,_0)|0,O=O+Math.imul(r,S0)|0,O=O+Math.imul(e,_0)|0,U=U+Math.imul(e,S0)|0,M=M+Math.imul(p,L0)|0,O=O+Math.imul(p,N0)|0,O=O+Math.imul(o,L0)|0,U=U+Math.imul(o,N0)|0,M=M+Math.imul(j,P0)|0,O=O+Math.imul(j,B0)|0,O=O+Math.imul(b,P0)|0,U=U+Math.imul(b,B0)|0;var N9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(N9>>>26)|0,N9&=67108863,M=Math.imul(q0,R0),O=Math.imul(q0,f0),O=O+Math.imul(I0,R0)|0,U=Math.imul(I0,f0),M=M+Math.imul(K0,F0)|0,O=O+Math.imul(K0,T0)|0,O=O+Math.imul(H0,F0)|0,U=U+Math.imul(H0,T0)|0,M=M+Math.imul(V0,E0)|0,O=O+Math.imul(V0,C0)|0,O=O+Math.imul(O0,E0)|0,U=U+Math.imul(O0,C0)|0,M=M+Math.imul(Y0,_0)|0,O=O+Math.imul(Y0,S0)|0,O=O+Math.imul(J0,_0)|0,U=U+Math.imul(J0,S0)|0,M=M+Math.imul(r,L0)|0,O=O+Math.imul(r,N0)|0,O=O+Math.imul(e,L0)|0,U=U+Math.imul(e,N0)|0,M=M+Math.imul(p,P0)|0,O=O+Math.imul(p,B0)|0,O=O+Math.imul(o,P0)|0,U=U+Math.imul(o,B0)|0,M=M+Math.imul(j,x0)|0,O=O+Math.imul(j,j0)|0,O=O+Math.imul(b,x0)|0,U=U+Math.imul(b,j0)|0;var P9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(P9>>>26)|0,P9&=67108863,M=Math.imul(D0,R0),O=Math.imul(D0,f0),O=O+Math.imul(W0,R0)|0,U=Math.imul(W0,f0),M=M+Math.imul(q0,F0)|0,O=O+Math.imul(q0,T0)|0,O=O+Math.imul(I0,F0)|0,U=U+Math.imul(I0,T0)|0,M=M+Math.imul(K0,E0)|0,O=O+Math.imul(K0,C0)|0,O=O+Math.imul(H0,E0)|0,U=U+Math.imul(H0,C0)|0,M=M+Math.imul(V0,_0)|0,O=O+Math.imul(V0,S0)|0,O=O+Math.imul(O0,_0)|0,U=U+Math.imul(O0,S0)|0,M=M+Math.imul(Y0,L0)|0,O=O+Math.imul(Y0,N0)|0,O=O+Math.imul(J0,L0)|0,U=U+Math.imul(J0,N0)|0,M=M+Math.imul(r,P0)|0,O=O+Math.imul(r,B0)|0,O=O+Math.imul(e,P0)|0,U=U+Math.imul(e,B0)|0,M=M+Math.imul(p,x0)|0,O=O+Math.imul(p,j0)|0,O=O+Math.imul(o,x0)|0,U=U+Math.imul(o,j0)|0,M=M+Math.imul(j,w0)|0,O=O+Math.imul(j,b0)|0,O=O+Math.imul(b,w0)|0,U=U+Math.imul(b,b0)|0;var B9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(B9>>>26)|0,B9&=67108863,M=Math.imul(z0,R0),O=Math.imul(z0,f0),O=O+Math.imul(M0,R0)|0,U=Math.imul(M0,f0),M=M+Math.imul(D0,F0)|0,O=O+Math.imul(D0,T0)|0,O=O+Math.imul(W0,F0)|0,U=U+Math.imul(W0,T0)|0,M=M+Math.imul(q0,E0)|0,O=O+Math.imul(q0,C0)|0,O=O+Math.imul(I0,E0)|0,U=U+Math.imul(I0,C0)|0,M=M+Math.imul(K0,_0)|0,O=O+Math.imul(K0,S0)|0,O=O+Math.imul(H0,_0)|0,U=U+Math.imul(H0,S0)|0,M=M+Math.imul(V0,L0)|0,O=O+Math.imul(V0,N0)|0,O=O+Math.imul(O0,L0)|0,U=U+Math.imul(O0,N0)|0,M=M+Math.imul(Y0,P0)|0,O=O+Math.imul(Y0,B0)|0,O=O+Math.imul(J0,P0)|0,U=U+Math.imul(J0,B0)|0,M=M+Math.imul(r,x0)|0,O=O+Math.imul(r,j0)|0,O=O+Math.imul(e,x0)|0,U=U+Math.imul(e,j0)|0,M=M+Math.imul(p,w0)|0,O=O+Math.imul(p,b0)|0,O=O+Math.imul(o,w0)|0,U=U+Math.imul(o,b0)|0,M=M+Math.imul(j,c0)|0,O=O+Math.imul(j,v0)|0,O=O+Math.imul(b,c0)|0,U=U+Math.imul(b,v0)|0;var x9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(x9>>>26)|0,x9&=67108863,M=Math.imul(U0,R0),O=Math.imul(U0,f0),O=O+Math.imul(A0,R0)|0,U=Math.imul(A0,f0),M=M+Math.imul(z0,F0)|0,O=O+Math.imul(z0,T0)|0,O=O+Math.imul(M0,F0)|0,U=U+Math.imul(M0,T0)|0,M=M+Math.imul(D0,E0)|0,O=O+Math.imul(D0,C0)|0,O=O+Math.imul(W0,E0)|0,U=U+Math.imul(W0,C0)|0,M=M+Math.imul(q0,_0)|0,O=O+Math.imul(q0,S0)|0,O=O+Math.imul(I0,_0)|0,U=U+Math.imul(I0,S0)|0,M=M+Math.imul(K0,L0)|0,O=O+Math.imul(K0,N0)|0,O=O+Math.imul(H0,L0)|0,U=U+Math.imul(H0,N0)|0,M=M+Math.imul(V0,P0)|0,O=O+Math.imul(V0,B0)|0,O=O+Math.imul(O0,P0)|0,U=U+Math.imul(O0,B0)|0,M=M+Math.imul(Y0,x0)|0,O=O+Math.imul(Y0,j0)|0,O=O+Math.imul(J0,x0)|0,U=U+Math.imul(J0,j0)|0,M=M+Math.imul(r,w0)|0,O=O+Math.imul(r,b0)|0,O=O+Math.imul(e,w0)|0,U=U+Math.imul(e,b0)|0,M=M+Math.imul(p,c0)|0,O=O+Math.imul(p,v0)|0,O=O+Math.imul(o,c0)|0,U=U+Math.imul(o,v0)|0,M=M+Math.imul(j,k0)|0,O=O+Math.imul(j,h0)|0,O=O+Math.imul(b,k0)|0,U=U+Math.imul(b,h0)|0;var j9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(j9>>>26)|0,j9&=67108863,M=Math.imul(U0,F0),O=Math.imul(U0,T0),O=O+Math.imul(A0,F0)|0,U=Math.imul(A0,T0),M=M+Math.imul(z0,E0)|0,O=O+Math.imul(z0,C0)|0,O=O+Math.imul(M0,E0)|0,U=U+Math.imul(M0,C0)|0,M=M+Math.imul(D0,_0)|0,O=O+Math.imul(D0,S0)|0,O=O+Math.imul(W0,_0)|0,U=U+Math.imul(W0,S0)|0,M=M+Math.imul(q0,L0)|0,O=O+Math.imul(q0,N0)|0,O=O+Math.imul(I0,L0)|0,U=U+Math.imul(I0,N0)|0,M=M+Math.imul(K0,P0)|0,O=O+Math.imul(K0,B0)|0,O=O+Math.imul(H0,P0)|0,U=U+Math.imul(H0,B0)|0,M=M+Math.imul(V0,x0)|0,O=O+Math.imul(V0,j0)|0,O=O+Math.imul(O0,x0)|0,U=U+Math.imul(O0,j0)|0,M=M+Math.imul(Y0,w0)|0,O=O+Math.imul(Y0,b0)|0,O=O+Math.imul(J0,w0)|0,U=U+Math.imul(J0,b0)|0,M=M+Math.imul(r,c0)|0,O=O+Math.imul(r,v0)|0,O=O+Math.imul(e,c0)|0,U=U+Math.imul(e,v0)|0,M=M+Math.imul(p,k0)|0,O=O+Math.imul(p,h0)|0,O=O+Math.imul(o,k0)|0,U=U+Math.imul(o,h0)|0;var w9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(w9>>>26)|0,w9&=67108863,M=Math.imul(U0,E0),O=Math.imul(U0,C0),O=O+Math.imul(A0,E0)|0,U=Math.imul(A0,C0),M=M+Math.imul(z0,_0)|0,O=O+Math.imul(z0,S0)|0,O=O+Math.imul(M0,_0)|0,U=U+Math.imul(M0,S0)|0,M=M+Math.imul(D0,L0)|0,O=O+Math.imul(D0,N0)|0,O=O+Math.imul(W0,L0)|0,U=U+Math.imul(W0,N0)|0,M=M+Math.imul(q0,P0)|0,O=O+Math.imul(q0,B0)|0,O=O+Math.imul(I0,P0)|0,U=U+Math.imul(I0,B0)|0,M=M+Math.imul(K0,x0)|0,O=O+Math.imul(K0,j0)|0,O=O+Math.imul(H0,x0)|0,U=U+Math.imul(H0,j0)|0,M=M+Math.imul(V0,w0)|0,O=O+Math.imul(V0,b0)|0,O=O+Math.imul(O0,w0)|0,U=U+Math.imul(O0,b0)|0,M=M+Math.imul(Y0,c0)|0,O=O+Math.imul(Y0,v0)|0,O=O+Math.imul(J0,c0)|0,U=U+Math.imul(J0,v0)|0,M=M+Math.imul(r,k0)|0,O=O+Math.imul(r,h0)|0,O=O+Math.imul(e,k0)|0,U=U+Math.imul(e,h0)|0;var b9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(b9>>>26)|0,b9&=67108863,M=Math.imul(U0,_0),O=Math.imul(U0,S0),O=O+Math.imul(A0,_0)|0,U=Math.imul(A0,S0),M=M+Math.imul(z0,L0)|0,O=O+Math.imul(z0,N0)|0,O=O+Math.imul(M0,L0)|0,U=U+Math.imul(M0,N0)|0,M=M+Math.imul(D0,P0)|0,O=O+Math.imul(D0,B0)|0,O=O+Math.imul(W0,P0)|0,U=U+Math.imul(W0,B0)|0,M=M+Math.imul(q0,x0)|0,O=O+Math.imul(q0,j0)|0,O=O+Math.imul(I0,x0)|0,U=U+Math.imul(I0,j0)|0,M=M+Math.imul(K0,w0)|0,O=O+Math.imul(K0,b0)|0,O=O+Math.imul(H0,w0)|0,U=U+Math.imul(H0,b0)|0,M=M+Math.imul(V0,c0)|0,O=O+Math.imul(V0,v0)|0,O=O+Math.imul(O0,c0)|0,U=U+Math.imul(O0,v0)|0,M=M+Math.imul(Y0,k0)|0,O=O+Math.imul(Y0,h0)|0,O=O+Math.imul(J0,k0)|0,U=U+Math.imul(J0,h0)|0;var c9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(c9>>>26)|0,c9&=67108863,M=Math.imul(U0,L0),O=Math.imul(U0,N0),O=O+Math.imul(A0,L0)|0,U=Math.imul(A0,N0),M=M+Math.imul(z0,P0)|0,O=O+Math.imul(z0,B0)|0,O=O+Math.imul(M0,P0)|0,U=U+Math.imul(M0,B0)|0,M=M+Math.imul(D0,x0)|0,O=O+Math.imul(D0,j0)|0,O=O+Math.imul(W0,x0)|0,U=U+Math.imul(W0,j0)|0,M=M+Math.imul(q0,w0)|0,O=O+Math.imul(q0,b0)|0,O=O+Math.imul(I0,w0)|0,U=U+Math.imul(I0,b0)|0,M=M+Math.imul(K0,c0)|0,O=O+Math.imul(K0,v0)|0,O=O+Math.imul(H0,c0)|0,U=U+Math.imul(H0,v0)|0,M=M+Math.imul(V0,k0)|0,O=O+Math.imul(V0,h0)|0,O=O+Math.imul(O0,k0)|0,U=U+Math.imul(O0,h0)|0;var v9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(v9>>>26)|0,v9&=67108863,M=Math.imul(U0,P0),O=Math.imul(U0,B0),O=O+Math.imul(A0,P0)|0,U=Math.imul(A0,B0),M=M+Math.imul(z0,x0)|0,O=O+Math.imul(z0,j0)|0,O=O+Math.imul(M0,x0)|0,U=U+Math.imul(M0,j0)|0,M=M+Math.imul(D0,w0)|0,O=O+Math.imul(D0,b0)|0,O=O+Math.imul(W0,w0)|0,U=U+Math.imul(W0,b0)|0,M=M+Math.imul(q0,c0)|0,O=O+Math.imul(q0,v0)|0,O=O+Math.imul(I0,c0)|0,U=U+Math.imul(I0,v0)|0,M=M+Math.imul(K0,k0)|0,O=O+Math.imul(K0,h0)|0,O=O+Math.imul(H0,k0)|0,U=U+Math.imul(H0,h0)|0;var k9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(k9>>>26)|0,k9&=67108863,M=Math.imul(U0,x0),O=Math.imul(U0,j0),O=O+Math.imul(A0,x0)|0,U=Math.imul(A0,j0),M=M+Math.imul(z0,w0)|0,O=O+Math.imul(z0,b0)|0,O=O+Math.imul(M0,w0)|0,U=U+Math.imul(M0,b0)|0,M=M+Math.imul(D0,c0)|0,O=O+Math.imul(D0,v0)|0,O=O+Math.imul(W0,c0)|0,U=U+Math.imul(W0,v0)|0,M=M+Math.imul(q0,k0)|0,O=O+Math.imul(q0,h0)|0,O=O+Math.imul(I0,k0)|0,U=U+Math.imul(I0,h0)|0;var h9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(h9>>>26)|0,h9&=67108863,M=Math.imul(U0,w0),O=Math.imul(U0,b0),O=O+Math.imul(A0,w0)|0,U=Math.imul(A0,b0),M=M+Math.imul(z0,c0)|0,O=O+Math.imul(z0,v0)|0,O=O+Math.imul(M0,c0)|0,U=U+Math.imul(M0,v0)|0,M=M+Math.imul(D0,k0)|0,O=O+Math.imul(D0,h0)|0,O=O+Math.imul(W0,k0)|0,U=U+Math.imul(W0,h0)|0;var d9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(d9>>>26)|0,d9&=67108863,M=Math.imul(U0,c0),O=Math.imul(U0,v0),O=O+Math.imul(A0,c0)|0,U=Math.imul(A0,v0),M=M+Math.imul(z0,k0)|0,O=O+Math.imul(z0,h0)|0,O=O+Math.imul(M0,k0)|0,U=U+Math.imul(M0,h0)|0;var y9=(E+M|0)+((O&8191)<<13)|0;E=(U+(O>>>13)|0)+(y9>>>26)|0,y9&=67108863,M=Math.imul(U0,k0),O=Math.imul(U0,h0),O=O+Math.imul(A0,k0)|0,U=Math.imul(A0,h0);var g9=(E+M|0)+((O&8191)<<13)|0;if(E=(U+(O>>>13)|0)+(g9>>>26)|0,g9&=67108863,F[0]=E9,F[1]=C9,F[2]=_9,F[3]=S9,F[4]=L9,F[5]=N9,F[6]=P9,F[7]=B9,F[8]=x9,F[9]=j9,F[10]=w9,F[11]=b9,F[12]=c9,F[13]=v9,F[14]=k9,F[15]=h9,F[16]=d9,F[17]=y9,F[18]=g9,E!==0)F[19]=E,I.length++;return I};if(!Math.imul)_=C;function S(f,J,H){H.negative=J.negative^f.negative,H.length=f.length+J.length;var I=0,z=0;for(var A=0;A<H.length-1;A++){var F=z;z=0;var E=I&67108863,M=Math.min(A,J.length-1);for(var O=Math.max(0,A-f.length+1);O<=M;O++){var U=A-O,x=f.words[U]|0,j=J.words[O]|0,b=x*j,v=b&67108863;F=F+(b/67108864|0)|0,v=v+E|0,E=v&67108863,F=F+(v>>>26)|0,z+=F>>>26,F&=67108863}H.words[A]=E,I=F,F=z}if(I!==0)H.words[A]=I;else H.length--;return H.strip()}function w(f,J,H){var I=new B;return I.mulp(f,J,H)}G.prototype.mulTo=function f(J,H){var I,z=this.length+J.length;if(this.length===10&&J.length===10)I=_(this,J,H);else if(z<63)I=C(this,J,H);else if(z<1024)I=S(this,J,H);else I=w(this,J,H);return I};function B(f,J){this.x=f,this.y=J}B.prototype.makeRBT=function f(J){var H=new Array(J),I=G.prototype._countBits(J)-1;for(var z=0;z<J;z++)H[z]=this.revBin(z,I,J);return H},B.prototype.revBin=function f(J,H,I){if(J===0||J===I-1)return J;var z=0;for(var A=0;A<H;A++)z|=(J&1)<<H-A-1,J>>=1;return z},B.prototype.permute=function f(J,H,I,z,A,F){for(var E=0;E<F;E++)z[E]=H[J[E]],A[E]=I[J[E]]},B.prototype.transform=function f(J,H,I,z,A,F){this.permute(F,J,H,I,z,A);for(var E=1;E<A;E<<=1){var M=E<<1,O=Math.cos(2*Math.PI/M),U=Math.sin(2*Math.PI/M);for(var x=0;x<A;x+=M){var j=O,b=U;for(var v=0;v<E;v++){var p=I[x+v],o=z[x+v],O8=I[x+v+E],r=z[x+v+E],e=j*O8-b*r;if(r=j*r+b*O8,O8=e,I[x+v]=p+O8,z[x+v]=o+r,I[x+v+E]=p-O8,z[x+v+E]=o-r,v!==M)e=O*j-U*b,b=O*b+U*j,j=e}}}},B.prototype.guessLen13b=function f(J,H){var I=Math.max(H,J)|1,z=I&1,A=0;for(I=I/2|0;I;I=I>>>1)A++;return 1<<A+1+z},B.prototype.conjugate=function f(J,H,I){if(I<=1)return;for(var z=0;z<I/2;z++){var A=J[z];J[z]=J[I-z-1],J[I-z-1]=A,A=H[z],H[z]=-H[I-z-1],H[I-z-1]=-A}},B.prototype.normalize13b=function f(J,H){var I=0;for(var z=0;z<H/2;z++){var A=Math.round(J[2*z+1]/H)*8192+Math.round(J[2*z]/H)+I;if(J[z]=A&67108863,A<67108864)I=0;else I=A/67108864|0}return J},B.prototype.convert13b=function f(J,H,I,z){var A=0;for(var F=0;F<H;F++)A=A+(J[F]|0),I[2*F]=A&8191,A=A>>>13,I[2*F+1]=A&8191,A=A>>>13;for(F=2*H;F<z;++F)I[F]=0;X(A===0),X((A&-8192)===0)},B.prototype.stub=function f(J){var H=new Array(J);for(var I=0;I<J;I++)H[I]=0;return H},B.prototype.mulp=function f(J,H,I){var z=2*this.guessLen13b(J.length,H.length),A=this.makeRBT(z),F=this.stub(z),E=new Array(z),M=new Array(z),O=new Array(z),U=new Array(z),x=new Array(z),j=new Array(z),b=I.words;b.length=z,this.convert13b(J.words,J.length,E,z),this.convert13b(H.words,H.length,U,z),this.transform(E,F,M,O,z,A),this.transform(U,F,x,j,z,A);for(var v=0;v<z;v++){var p=M[v]*x[v]-O[v]*j[v];O[v]=M[v]*j[v]+O[v]*x[v],M[v]=p}return this.conjugate(M,O,z),this.transform(M,O,b,F,z,A),this.conjugate(b,F,z),this.normalize13b(b,z),I.negative=J.negative^H.negative,I.length=J.length+H.length,I.strip()},G.prototype.mul=function f(J){var H=new G(null);return H.words=new Array(this.length+J.length),this.mulTo(J,H)},G.prototype.mulf=function f(J){var H=new G(null);return H.words=new Array(this.length+J.length),w(this,J,H)},G.prototype.imul=function f(J){return this.clone().mulTo(J,this)},G.prototype.imuln=function f(J){X(typeof J==="number"),X(J<67108864);var H=0;for(var I=0;I<this.length;I++){var z=(this.words[I]|0)*J,A=(z&67108863)+(H&67108863);H>>=26,H+=z/67108864|0,H+=A>>>26,this.words[I]=A&67108863}if(H!==0)this.words[I]=H,this.length++;return this.length=J===0?1:this.length,this},G.prototype.muln=function f(J){return this.clone().imuln(J)},G.prototype.sqr=function f(){return this.mul(this)},G.prototype.isqr=function f(){return this.imul(this.clone())},G.prototype.pow=function f(J){var H=T(J);if(H.length===0)return new G(1);var I=this;for(var z=0;z<H.length;z++,I=I.sqr())if(H[z]!==0)break;if(++z<H.length)for(var A=I.sqr();z<H.length;z++,A=A.sqr()){if(H[z]===0)continue;I=I.mul(A)}return I},G.prototype.iushln=function f(J){X(typeof J==="number"&&J>=0);var H=J%26,I=(J-H)/26,z=67108863>>>26-H<<26-H,A;if(H!==0){var F=0;for(A=0;A<this.length;A++){var E=this.words[A]&z,M=(this.words[A]|0)-E<<H;this.words[A]=M|F,F=E>>>26-H}if(F)this.words[A]=F,this.length++}if(I!==0){for(A=this.length-1;A>=0;A--)this.words[A+I]=this.words[A];for(A=0;A<I;A++)this.words[A]=0;this.length+=I}return this.strip()},G.prototype.ishln=function f(J){return X(this.negative===0),this.iushln(J)},G.prototype.iushrn=function f(J,H,I){X(typeof J==="number"&&J>=0);var z;if(H)z=(H-H%26)/26;else z=0;var A=J%26,F=Math.min((J-A)/26,this.length),E=67108863^67108863>>>A<<A,M=I;if(z-=F,z=Math.max(0,z),M){for(var O=0;O<F;O++)M.words[O]=this.words[O];M.length=F}if(F===0);else if(this.length>F){this.length-=F;for(O=0;O<this.length;O++)this.words[O]=this.words[O+F]}else this.words[0]=0,this.length=1;var U=0;for(O=this.length-1;O>=0&&(U!==0||O>=z);O--){var x=this.words[O]|0;this.words[O]=U<<26-A|x>>>A,U=x&E}if(M&&U!==0)M.words[M.length++]=U;if(this.length===0)this.words[0]=0,this.length=1;return this.strip()},G.prototype.ishrn=function f(J,H,I){return X(this.negative===0),this.iushrn(J,H,I)},G.prototype.shln=function f(J){return this.clone().ishln(J)},G.prototype.ushln=function f(J){return this.clone().iushln(J)},G.prototype.shrn=function f(J){return this.clone().ishrn(J)},G.prototype.ushrn=function f(J){return this.clone().iushrn(J)},G.prototype.testn=function f(J){X(typeof J==="number"&&J>=0);var H=J%26,I=(J-H)/26,z=1<<H;if(this.length<=I)return!1;var A=this.words[I];return!!(A&z)},G.prototype.imaskn=function f(J){X(typeof J==="number"&&J>=0);var H=J%26,I=(J-H)/26;if(X(this.negative===0,"imaskn works only with positive numbers"),this.length<=I)return this;if(H!==0)I++;if(this.length=Math.min(I,this.length),H!==0){var z=67108863^67108863>>>H<<H;this.words[this.length-1]&=z}return this.strip()},G.prototype.maskn=function f(J){return this.clone().imaskn(J)},G.prototype.iaddn=function f(J){if(X(typeof J==="number"),X(J<67108864),J<0)return this.isubn(-J);if(this.negative!==0){if(this.length===1&&(this.words[0]|0)<J)return this.words[0]=J-(this.words[0]|0),this.negative=0,this;return this.negative=0,this.isubn(J),this.negative=1,this}return this._iaddn(J)},G.prototype._iaddn=function f(J){this.words[0]+=J;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)if(this.words[H]-=67108864,H===this.length-1)this.words[H+1]=1;else this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},G.prototype.isubn=function f(J){if(X(typeof J==="number"),X(J<67108864),J<0)return this.iaddn(-J);if(this.negative!==0)return this.negative=0,this.iaddn(J),this.negative=1,this;if(this.words[0]-=J,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},G.prototype.addn=function f(J){return this.clone().iaddn(J)},G.prototype.subn=function f(J){return this.clone().isubn(J)},G.prototype.iabs=function f(){return this.negative=0,this},G.prototype.abs=function f(){return this.clone().iabs()},G.prototype._ishlnsubmul=function f(J,H,I){var z=J.length+I,A;this._expand(z);var F,E=0;for(A=0;A<J.length;A++){F=(this.words[A+I]|0)+E;var M=(J.words[A]|0)*H;F-=M&67108863,E=(F>>26)-(M/67108864|0),this.words[A+I]=F&67108863}for(;A<this.length-I;A++)F=(this.words[A+I]|0)+E,E=F>>26,this.words[A+I]=F&67108863;if(E===0)return this.strip();X(E===-1),E=0;for(A=0;A<this.length;A++)F=-(this.words[A]|0)+E,E=F>>26,this.words[A]=F&67108863;return this.negative=1,this.strip()},G.prototype._wordDiv=function f(J,H){var I=this.length-J.length,z=this.clone(),A=J,F=A.words[A.length-1]|0,E=this._countBits(F);if(I=26-E,I!==0)A=A.ushln(I),z.iushln(I),F=A.words[A.length-1]|0;var M=z.length-A.length,O;if(H!=="mod"){O=new G(null),O.length=M+1,O.words=new Array(O.length);for(var U=0;U<O.length;U++)O.words[U]=0}var x=z.clone()._ishlnsubmul(A,1,M);if(x.negative===0){if(z=x,O)O.words[M]=1}for(var j=M-1;j>=0;j--){var b=(z.words[A.length+j]|0)*67108864+(z.words[A.length+j-1]|0);b=Math.min(b/F|0,67108863),z._ishlnsubmul(A,b,j);while(z.negative!==0)if(b--,z.negative=0,z._ishlnsubmul(A,1,j),!z.isZero())z.negative^=1;if(O)O.words[j]=b}if(O)O.strip();if(z.strip(),H!=="div"&&I!==0)z.iushrn(I);return{div:O||null,mod:z}},G.prototype.divmod=function f(J,H,I){if(X(!J.isZero()),this.isZero())return{div:new G(0),mod:new G(0)};var z,A,F;if(this.negative!==0&&J.negative===0){if(F=this.neg().divmod(J,H),H!=="mod")z=F.div.neg();if(H!=="div"){if(A=F.mod.neg(),I&&A.negative!==0)A.iadd(J)}return{div:z,mod:A}}if(this.negative===0&&J.negative!==0){if(F=this.divmod(J.neg(),H),H!=="mod")z=F.div.neg();return{div:z,mod:F.mod}}if((this.negative&J.negative)!==0){if(F=this.neg().divmod(J.neg(),H),H!=="div"){if(A=F.mod.neg(),I&&A.negative!==0)A.isub(J)}return{div:F.div,mod:A}}if(J.length>this.length||this.cmp(J)<0)return{div:new G(0),mod:this};if(J.length===1){if(H==="div")return{div:this.divn(J.words[0]),mod:null};if(H==="mod")return{div:null,mod:new G(this.modn(J.words[0]))};return{div:this.divn(J.words[0]),mod:new G(this.modn(J.words[0]))}}return this._wordDiv(J,H)},G.prototype.div=function f(J){return this.divmod(J,"div",!1).div},G.prototype.mod=function f(J){return this.divmod(J,"mod",!1).mod},G.prototype.umod=function f(J){return this.divmod(J,"mod",!0).mod},G.prototype.divRound=function f(J){var H=this.divmod(J);if(H.mod.isZero())return H.div;var I=H.div.negative!==0?H.mod.isub(J):H.mod,z=J.ushrn(1),A=J.andln(1),F=I.cmp(z);if(F<0||A===1&&F===0)return H.div;return H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},G.prototype.modn=function f(J){X(J<=67108863);var H=67108864%J,I=0;for(var z=this.length-1;z>=0;z--)I=(H*I+(this.words[z]|0))%J;return I},G.prototype.idivn=function f(J){X(J<=67108863);var H=0;for(var I=this.length-1;I>=0;I--){var z=(this.words[I]|0)+H*67108864;this.words[I]=z/J|0,H=z%J}return this.strip()},G.prototype.divn=function f(J){return this.clone().idivn(J)},G.prototype.egcd=function f(J){X(J.negative===0),X(!J.isZero());var H=this,I=J.clone();if(H.negative!==0)H=H.umod(J);else H=H.clone();var z=new G(1),A=new G(0),F=new G(0),E=new G(1),M=0;while(H.isEven()&&I.isEven())H.iushrn(1),I.iushrn(1),++M;var O=I.clone(),U=H.clone();while(!H.isZero()){for(var x=0,j=1;(H.words[0]&j)===0&&x<26;++x,j<<=1);if(x>0){H.iushrn(x);while(x-- >0){if(z.isOdd()||A.isOdd())z.iadd(O),A.isub(U);z.iushrn(1),A.iushrn(1)}}for(var b=0,v=1;(I.words[0]&v)===0&&b<26;++b,v<<=1);if(b>0){I.iushrn(b);while(b-- >0){if(F.isOdd()||E.isOdd())F.iadd(O),E.isub(U);F.iushrn(1),E.iushrn(1)}}if(H.cmp(I)>=0)H.isub(I),z.isub(F),A.isub(E);else I.isub(H),F.isub(z),E.isub(A)}return{a:F,b:E,gcd:I.iushln(M)}},G.prototype._invmp=function f(J){X(J.negative===0),X(!J.isZero());var H=this,I=J.clone();if(H.negative!==0)H=H.umod(J);else H=H.clone();var z=new G(1),A=new G(0),F=I.clone();while(H.cmpn(1)>0&&I.cmpn(1)>0){for(var E=0,M=1;(H.words[0]&M)===0&&E<26;++E,M<<=1);if(E>0){H.iushrn(E);while(E-- >0){if(z.isOdd())z.iadd(F);z.iushrn(1)}}for(var O=0,U=1;(I.words[0]&U)===0&&O<26;++O,U<<=1);if(O>0){I.iushrn(O);while(O-- >0){if(A.isOdd())A.iadd(F);A.iushrn(1)}}if(H.cmp(I)>=0)H.isub(I),z.isub(A);else I.isub(H),A.isub(z)}var x;if(H.cmpn(1)===0)x=z;else x=A;if(x.cmpn(0)<0)x.iadd(J);return x},G.prototype.gcd=function f(J){if(this.isZero())return J.abs();if(J.isZero())return this.abs();var H=this.clone(),I=J.clone();H.negative=0,I.negative=0;for(var z=0;H.isEven()&&I.isEven();z++)H.iushrn(1),I.iushrn(1);do{while(H.isEven())H.iushrn(1);while(I.isEven())I.iushrn(1);var A=H.cmp(I);if(A<0){var F=H;H=I,I=F}else if(A===0||I.cmpn(1)===0)break;H.isub(I)}while(!0);return I.iushln(z)},G.prototype.invm=function f(J){return this.egcd(J).a.umod(J)},G.prototype.isEven=function f(){return(this.words[0]&1)===0},G.prototype.isOdd=function f(){return(this.words[0]&1)===1},G.prototype.andln=function f(J){return this.words[0]&J},G.prototype.bincn=function f(J){X(typeof J==="number");var H=J%26,I=(J-H)/26,z=1<<H;if(this.length<=I)return this._expand(I+1),this.words[I]|=z,this;var A=z;for(var F=I;A!==0&&F<this.length;F++){var E=this.words[F]|0;E+=A,A=E>>>26,E&=67108863,this.words[F]=E}if(A!==0)this.words[F]=A,this.length++;return this},G.prototype.isZero=function f(){return this.length===1&&this.words[0]===0},G.prototype.cmpn=function f(J){var H=J<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var I;if(this.length>1)I=1;else{if(H)J=-J;X(J<=67108863,"Number is too big");var z=this.words[0]|0;I=z===J?0:z<J?-1:1}if(this.negative!==0)return-I|0;return I},G.prototype.cmp=function f(J){if(this.negative!==0&&J.negative===0)return-1;if(this.negative===0&&J.negative!==0)return 1;var H=this.ucmp(J);if(this.negative!==0)return-H|0;return H},G.prototype.ucmp=function f(J){if(this.length>J.length)return 1;if(this.length<J.length)return-1;var H=0;for(var I=this.length-1;I>=0;I--){var z=this.words[I]|0,A=J.words[I]|0;if(z===A)continue;if(z<A)H=-1;else if(z>A)H=1;break}return H},G.prototype.gtn=function f(J){return this.cmpn(J)===1},G.prototype.gt=function f(J){return this.cmp(J)===1},G.prototype.gten=function f(J){return this.cmpn(J)>=0},G.prototype.gte=function f(J){return this.cmp(J)>=0},G.prototype.ltn=function f(J){return this.cmpn(J)===-1},G.prototype.lt=function f(J){return this.cmp(J)===-1},G.prototype.lten=function f(J){return this.cmpn(J)<=0},G.prototype.lte=function f(J){return this.cmp(J)<=0},G.prototype.eqn=function f(J){return this.cmpn(J)===0},G.prototype.eq=function f(J){return this.cmp(J)===0},G.red=function f(J){return new d(J)},G.prototype.toRed=function f(J){return X(!this.red,"Already a number in reduction context"),X(this.negative===0,"red works only with positives"),J.convertTo(this)._forceRed(J)},G.prototype.fromRed=function f(){return X(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},G.prototype._forceRed=function f(J){return this.red=J,this},G.prototype.forceRed=function f(J){return X(!this.red,"Already a number in reduction context"),this._forceRed(J)},G.prototype.redAdd=function f(J){return X(this.red,"redAdd works only with red numbers"),this.red.add(this,J)},G.prototype.redIAdd=function f(J){return X(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,J)},G.prototype.redSub=function f(J){return X(this.red,"redSub works only with red numbers"),this.red.sub(this,J)},G.prototype.redISub=function f(J){return X(this.red,"redISub works only with red numbers"),this.red.isub(this,J)},G.prototype.redShl=function f(J){return X(this.red,"redShl works only with red numbers"),this.red.shl(this,J)},G.prototype.redMul=function f(J){return X(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.mul(this,J)},G.prototype.redIMul=function f(J){return X(this.red,"redMul works only with red numbers"),this.red._verify2(this,J),this.red.imul(this,J)},G.prototype.redSqr=function f(){return X(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},G.prototype.redISqr=function f(){return X(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},G.prototype.redSqrt=function f(){return X(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},G.prototype.redInvm=function f(){return X(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},G.prototype.redNeg=function f(){return X(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},G.prototype.redPow=function f(J){return X(this.red&&!J.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,J)};var i={k256:null,p224:null,p192:null,p25519:null};function n(f,J){this.name=f,this.p=new G(J,16),this.n=this.p.bitLength(),this.k=new G(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}n.prototype._tmp=function f(){var J=new G(null);return J.words=new Array(Math.ceil(this.n/13)),J},n.prototype.ireduce=function f(J){var H=J,I;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),I=H.bitLength();while(I>this.n);var z=I<this.n?-1:H.ucmp(this.p);if(z===0)H.words[0]=0,H.length=1;else if(z>0)H.isub(this.p);else if(H.strip!==void 0)H.strip();else H._strip();return H},n.prototype.split=function f(J,H){J.iushrn(this.n,0,H)},n.prototype.imulK=function f(J){return J.imul(this.k)};function X0(){n.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}Q(X0,n),X0.prototype.split=function f(J,H){var I=4194303,z=Math.min(J.length,9);for(var A=0;A<z;A++)H.words[A]=J.words[A];if(H.length=z,J.length<=9){J.words[0]=0,J.length=1;return}var F=J.words[9];H.words[H.length++]=F&I;for(A=10;A<J.length;A++){var E=J.words[A]|0;J.words[A-10]=(E&I)<<4|F>>>22,F=E}if(F>>>=22,J.words[A-10]=F,F===0&&J.length>10)J.length-=10;else J.length-=9},X0.prototype.imulK=function f(J){J.words[J.length]=0,J.words[J.length+1]=0,J.length+=2;var H=0;for(var I=0;I<J.length;I++){var z=J.words[I]|0;H+=z*977,J.words[I]=H&67108863,H=z*64+(H/67108864|0)}if(J.words[J.length-1]===0){if(J.length--,J.words[J.length-1]===0)J.length--}return J};function s(){n.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}Q(s,n);function m0(){n.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}Q(m0,n);function i0(){n.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}Q(i0,n),i0.prototype.imulK=function f(J){var H=0;for(var I=0;I<J.length;I++){var z=(J.words[I]|0)*19+H,A=z&67108863;z>>>=26,J.words[I]=A,H=z}if(H!==0)J.words[J.length++]=H;return J},G._prime=function f(J){if(i[J])return i[J];var H;if(J==="k256")H=new X0;else if(J==="p224")H=new s;else if(J==="p192")H=new m0;else if(J==="p25519")H=new i0;else throw new Error("Unknown prime "+J);return i[J]=H,H};function d(f){if(typeof f==="string"){var J=G._prime(f);this.m=J.p,this.prime=J}else X(f.gtn(1),"modulus must be greater than 1"),this.m=f,this.prime=null}d.prototype._verify1=function f(J){X(J.negative===0,"red works only with positives"),X(J.red,"red works only with red numbers")},d.prototype._verify2=function f(J,H){X((J.negative|H.negative)===0,"red works only with positives"),X(J.red&&J.red===H.red,"red works only with red numbers")},d.prototype.imod=function f(J){if(this.prime)return this.prime.ireduce(J)._forceRed(this);return J.umod(this.m)._forceRed(this)},d.prototype.neg=function f(J){if(J.isZero())return J.clone();return this.m.sub(J)._forceRed(this)},d.prototype.add=function f(J,H){this._verify2(J,H);var I=J.add(H);if(I.cmp(this.m)>=0)I.isub(this.m);return I._forceRed(this)},d.prototype.iadd=function f(J,H){this._verify2(J,H);var I=J.iadd(H);if(I.cmp(this.m)>=0)I.isub(this.m);return I},d.prototype.sub=function f(J,H){this._verify2(J,H);var I=J.sub(H);if(I.cmpn(0)<0)I.iadd(this.m);return I._forceRed(this)},d.prototype.isub=function f(J,H){this._verify2(J,H);var I=J.isub(H);if(I.cmpn(0)<0)I.iadd(this.m);return I},d.prototype.shl=function f(J,H){return this._verify1(J),this.imod(J.ushln(H))},d.prototype.imul=function f(J,H){return this._verify2(J,H),this.imod(J.imul(H))},d.prototype.mul=function f(J,H){return this._verify2(J,H),this.imod(J.mul(H))},d.prototype.isqr=function f(J){return this.imul(J,J.clone())},d.prototype.sqr=function f(J){return this.mul(J,J)},d.prototype.sqrt=function f(J){if(J.isZero())return J.clone();var H=this.m.andln(3);if(X(H%2===1),H===3){var I=this.m.add(new G(1)).iushrn(2);return this.pow(J,I)}var z=this.m.subn(1),A=0;while(!z.isZero()&&z.andln(1)===0)A++,z.iushrn(1);X(!z.isZero());var F=new G(1).toRed(this),E=F.redNeg(),M=this.m.subn(1).iushrn(1),O=this.m.bitLength();O=new G(2*O*O).toRed(this);while(this.pow(O,M).cmp(E)!==0)O.redIAdd(E);var U=this.pow(O,z),x=this.pow(J,z.addn(1).iushrn(1)),j=this.pow(J,z),b=A;while(j.cmp(F)!==0){var v=j;for(var p=0;v.cmp(F)!==0;p++)v=v.redSqr();X(p<b);var o=this.pow(U,new G(1).iushln(b-p-1));x=x.redMul(o),U=o.redSqr(),j=j.redMul(U),b=p}return x},d.prototype.invm=function f(J){var H=J._invmp(this.m);if(H.negative!==0)return H.negative=0,this.imod(H).redNeg();else return this.imod(H)},d.prototype.pow=function f(J,H){if(H.isZero())return new G(1).toRed(this);if(H.cmpn(1)===0)return J.clone();var I=4,z=new Array(1<<I);z[0]=new G(1).toRed(this),z[1]=J;for(var A=2;A<z.length;A++)z[A]=this.mul(z[A-1],J);var F=z[0],E=0,M=0,O=H.bitLength()%26;if(O===0)O=26;for(A=H.length-1;A>=0;A--){var U=H.words[A];for(var x=O-1;x>=0;x--){var j=U>>x&1;if(F!==z[0])F=this.sqr(F);if(j===0&&E===0){M=0;continue}if(E<<=1,E|=j,M++,M!==I&&(A!==0||x!==0))continue;F=this.mul(F,z[E]),M=0,E=0}O=26}return F},d.prototype.convertTo=function f(J){var H=J.umod(this.m);return H===J?H.clone():H},d.prototype.convertFrom=function f(J){var H=J.clone();return H.red=null,H},G.mont=function f(J){return new Q0(J)};function Q0(f){if(d.call(this,f),this.shift=this.m.bitLength(),this.shift%26!==0)this.shift+=26-this.shift%26;this.r=new G(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Q(Q0,d),Q0.prototype.convertTo=function f(J){return this.imod(J.ushln(this.shift))},Q0.prototype.convertFrom=function f(J){var H=this.imod(J.mul(this.rinv));return H.red=null,H},Q0.prototype.imul=function f(J,H){if(J.isZero()||H.isZero())return J.words[0]=0,J.length=1,J;var I=J.imul(H),z=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=I.isub(z).iushrn(this.shift),F=A;if(A.cmp(this.m)>=0)F=A.isub(this.m);else if(A.cmpn(0)<0)F=A.iadd(this.m);return F._forceRed(this)},Q0.prototype.mul=function f(J,H){if(J.isZero()||H.isZero())return new G(0)._forceRed(this);var I=J.mul(H),z=I.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=I.isub(z).iushrn(this.shift),F=A;if(A.cmp(this.m)>=0)F=A.isub(this.m);else if(A.cmpn(0)<0)F=A.iadd(this.m);return F._forceRed(this)},Q0.prototype.invm=function f(J){var H=this.imod(J._invmp(this.m).mul(this.r2));return H._forceRed(this)}})(typeof p5==="undefined"||p5,N$)});var A8=L((LD,B$)=>{B$.exports=P$;function P$($,Z){if(!$)throw new Error(Z||"Assertion failed")}P$.equal=function $(Z,X,Q){if(Z!=X)throw new Error(Q||"Assertion failed: "+Z+" != "+X)}});var u5=L((w$)=>{var v6=w$;function xJ($,Z){if(Array.isArray($))return $.slice();if(!$)return[];var X=[];if(typeof $!=="string"){for(var Q=0;Q<$.length;Q++)X[Q]=$[Q]|0;return X}if(Z==="hex"){if($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0)$="0"+$;for(var Q=0;Q<$.length;Q+=2)X.push(parseInt($[Q]+$[Q+1],16))}else for(var Q=0;Q<$.length;Q++){var G=$.charCodeAt(Q),Y=G>>8,V=G&255;if(Y)X.push(Y,V);else X.push(V)}return X}v6.toArray=xJ;function x$($){if($.length===1)return"0"+$;else return $}v6.zero2=x$;function j$($){var Z="";for(var X=0;X<$.length;X++)Z+=x$($[X].toString(16));return Z}v6.toHex=j$;v6.encode=function $(Z,X){if(X==="hex")return j$(Z);else return Z}});var I1=L((b$)=>{var L1=b$,jJ=d1(),wJ=A8(),k6=u5();L1.assert=wJ;L1.toArray=k6.toArray;L1.zero2=k6.zero2;L1.toHex=k6.toHex;L1.encode=k6.encode;function bJ($,Z,X){var Q=new Array(Math.max($.bitLength(),X)+1),G;for(G=0;G<Q.length;G+=1)Q[G]=0;var Y=1<<Z+1,V=$.clone();for(G=0;G<Q.length;G++){var K,q=V.andln(Y-1);if(V.isOdd()){if(q>(Y>>1)-1)K=(Y>>1)-q;else K=q;V.isubn(K)}else K=0;Q[G]=K,V.iushrn(1)}return Q}L1.getNAF=bJ;function cJ($,Z){var X=[[],[]];$=$.clone(),Z=Z.clone();var Q=0,G=0,Y;while($.cmpn(-Q)>0||Z.cmpn(-G)>0){var V=$.andln(3)+Q&3,K=Z.andln(3)+G&3;if(V===3)V=-1;if(K===3)K=-1;var q;if((V&1)===0)q=0;else if(Y=$.andln(7)+Q&7,(Y===3||Y===5)&&K===2)q=-V;else q=V;X[0].push(q);var D;if((K&1)===0)D=0;else if(Y=Z.andln(7)+G&7,(Y===3||Y===5)&&V===2)D=-K;else D=K;if(X[1].push(D),2*Q===q+1)Q=1-Q;if(2*G===D+1)G=1-G;$.iushrn(1),Z.iushrn(1)}return X}L1.getJSF=cJ;function vJ($,Z,X){var Q="_"+Z;$.prototype[Z]=function G(){return this[Q]!==void 0?this[Q]:this[Q]=X.call(this)}}L1.cachedProperty=vJ;function kJ($){return typeof $==="string"?L1.toArray($,"hex"):$}L1.parseBytes=kJ;function hJ($){return new jJ($,"hex","le")}L1.intFromLE=hJ});var i5=L((BD,m5)=>{var l5;m5.exports=function $(Z){if(!l5)l5=new R8(null);return l5.generate(Z)};function R8($){this.rand=$}m5.exports.Rand=R8;R8.prototype.generate=function $(Z){return this._rand(Z)};R8.prototype._rand=function $(Z){if(this.rand.getBytes)return this.rand.getBytes(Z);var X=new Uint8Array(Z);for(var Q=0;Q<X.length;Q++)X[Q]=this.rand.getByte();return X};if(typeof self==="object"){if(self.crypto&&self.crypto.getRandomValues)R8.prototype._rand=function $(Z){var X=new Uint8Array(Z);return self.crypto.getRandomValues(X),X};else if(self.msCrypto&&self.msCrypto.getRandomValues)R8.prototype._rand=function $(Z){var X=new Uint8Array(Z);return self.msCrypto.getRandomValues(X),X};else if(typeof window==="object")R8.prototype._rand=function(){throw new Error("Not implemented yet")}}else try{if(h6=require("crypto"),typeof h6.randomBytes!=="function")throw new Error("Not supported");R8.prototype._rand=function $(Z){return h6.randomBytes(Z)}}catch($){}var h6});var p4=L((xD,c$)=>{var b8=d1(),g4=I1(),d6=g4.getNAF,dJ=g4.getJSF,y6=g4.assert;function f8($,Z){this.type=$,this.p=new b8(Z.p,16),this.red=Z.prime?b8.red(Z.prime):b8.mont(this.p),this.zero=new b8(0).toRed(this.red),this.one=new b8(1).toRed(this.red),this.two=new b8(2).toRed(this.red),this.n=Z.n&&new b8(Z.n,16),this.g=Z.g&&this.pointFromJSON(Z.g,Z.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var X=this.n&&this.p.div(this.n);if(!X||X.cmpn(100)>0)this.redN=null;else this._maxwellTrick=!0,this.redN=this.n.toRed(this.red)}c$.exports=f8;f8.prototype.point=function $(){throw new Error("Not implemented")};f8.prototype.validate=function $(){throw new Error("Not implemented")};f8.prototype._fixedNafMul=function $(Z,X){y6(Z.precomputed);var Q=Z._getDoubles(),G=d6(X,1,this._bitLength),Y=(1<<Q.step+1)-(Q.step%2===0?2:1);Y/=3;var V=[],K,q;for(K=0;K<G.length;K+=Q.step){q=0;for(var D=K+Q.step-1;D>=K;D--)q=(q<<1)+G[D];V.push(q)}var W=this.jpoint(null,null,null),R=this.jpoint(null,null,null);for(var T=Y;T>0;T--){for(K=0;K<V.length;K++)if(q=V[K],q===T)R=R.mixedAdd(Q.points[K]);else if(q===-T)R=R.mixedAdd(Q.points[K].neg());W=W.add(R)}return W.toP()};f8.prototype._wnafMul=function $(Z,X){var Q=4,G=Z._getNAFPoints(Q);Q=G.wnd;var Y=G.points,V=d6(X,Q,this._bitLength),K=this.jpoint(null,null,null);for(var q=V.length-1;q>=0;q--){for(var D=0;q>=0&&V[q]===0;q--)D++;if(q>=0)D++;if(K=K.dblp(D),q<0)break;var W=V[q];if(y6(W!==0),Z.type==="affine")if(W>0)K=K.mixedAdd(Y[W-1>>1]);else K=K.mixedAdd(Y[-W-1>>1].neg());else if(W>0)K=K.add(Y[W-1>>1]);else K=K.add(Y[-W-1>>1].neg())}return Z.type==="affine"?K.toP():K};f8.prototype._wnafMulAdd=function $(Z,X,Q,G,Y){var V=this._wnafT1,K=this._wnafT2,q=this._wnafT3,D=0,W,R,T;for(W=0;W<G;W++){T=X[W];var C=T._getNAFPoints(Z);V[W]=C.wnd,K[W]=C.points}for(W=G-1;W>=1;W-=2){var _=W-1,S=W;if(V[_]!==1||V[S]!==1){q[_]=d6(Q[_],V[_],this._bitLength),q[S]=d6(Q[S],V[S],this._bitLength),D=Math.max(q[_].length,D),D=Math.max(q[S].length,D);continue}var w=[X[_],null,null,X[S]];if(X[_].y.cmp(X[S].y)===0)w[1]=X[_].add(X[S]),w[2]=X[_].toJ().mixedAdd(X[S].neg());else if(X[_].y.cmp(X[S].y.redNeg())===0)w[1]=X[_].toJ().mixedAdd(X[S]),w[2]=X[_].add(X[S].neg());else w[1]=X[_].toJ().mixedAdd(X[S]),w[2]=X[_].toJ().mixedAdd(X[S].neg());var B=[-3,-1,-5,-7,0,7,5,1,3],i=dJ(Q[_],Q[S]);D=Math.max(i[0].length,D),q[_]=new Array(D),q[S]=new Array(D);for(R=0;R<D;R++){var n=i[0][R]|0,X0=i[1][R]|0;q[_][R]=B[(n+1)*3+(X0+1)],q[S][R]=0,K[_]=w}}var s=this.jpoint(null,null,null),m0=this._wnafT4;for(W=D;W>=0;W--){var i0=0;while(W>=0){var d=!0;for(R=0;R<G;R++)if(m0[R]=q[R][W]|0,m0[R]!==0)d=!1;if(!d)break;i0++,W--}if(W>=0)i0++;if(s=s.dblp(i0),W<0)break;for(R=0;R<G;R++){var Q0=m0[R];if(Q0===0)continue;else if(Q0>0)T=K[R][Q0-1>>1];else if(Q0<0)T=K[R][-Q0-1>>1].neg();if(T.type==="affine")s=s.mixedAdd(T);else s=s.add(T)}}for(W=0;W<G;W++)K[W]=null;if(Y)return s;else return s.toP()};function A1($,Z){this.curve=$,this.type=Z,this.precomputed=null}f8.BasePoint=A1;A1.prototype.eq=function $(){throw new Error("Not implemented")};A1.prototype.validate=function $(){return this.curve.validate(this)};f8.prototype.decodePoint=function $(Z,X){Z=g4.toArray(Z,X);var Q=this.p.byteLength();if((Z[0]===4||Z[0]===6||Z[0]===7)&&Z.length-1===2*Q){if(Z[0]===6)y6(Z[Z.length-1]%2===0);else if(Z[0]===7)y6(Z[Z.length-1]%2===1);var G=this.point(Z.slice(1,1+Q),Z.slice(1+Q,1+2*Q));return G}else if((Z[0]===2||Z[0]===3)&&Z.length-1===Q)return this.pointFromX(Z.slice(1,1+Q),Z[0]===3);throw new Error("Unknown point format")};A1.prototype.encodeCompressed=function $(Z){return this.encode(Z,!0)};A1.prototype._encode=function $(Z){var X=this.curve.p.byteLength(),Q=this.getX().toArray("be",X);if(Z)return[this.getY().isEven()?2:3].concat(Q);return[4].concat(Q,this.getY().toArray("be",X))};A1.prototype.encode=function $(Z,X){return g4.encode(this._encode(X),Z)};A1.prototype.precompute=function $(Z){if(this.precomputed)return this;var X={doubles:null,naf:null,beta:null};return X.naf=this._getNAFPoints(8),X.doubles=this._getDoubles(4,Z),X.beta=this._getBeta(),this.precomputed=X,this};A1.prototype._hasDoubles=function $(Z){if(!this.precomputed)return!1;var X=this.precomputed.doubles;if(!X)return!1;return X.points.length>=Math.ceil((Z.bitLength()+1)/X.step)};A1.prototype._getDoubles=function $(Z,X){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;var Q=[this],G=this;for(var Y=0;Y<X;Y+=Z){for(var V=0;V<Z;V++)G=G.dbl();Q.push(G)}return{step:Z,points:Q}};A1.prototype._getNAFPoints=function $(Z){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;var X=[this],Q=(1<<Z)-1,G=Q===1?null:this.dbl();for(var Y=1;Y<Q;Y++)X[Y]=X[Y-1].add(G);return{wnd:Z,points:X}};A1.prototype._getBeta=function $(){return null};A1.prototype.dblp=function $(Z){var X=this;for(var Q=0;Q<Z;Q++)X=X.dbl();return X}});var v$=L((jD,n5)=>{if(typeof Object.create==="function")n5.exports=function $(Z,X){if(X)Z.super_=X,Z.prototype=Object.create(X.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}})};else n5.exports=function $(Z,X){if(X){Z.super_=X;var Q=function(){};Q.prototype=X.prototype,Z.prototype=new Q,Z.prototype.constructor=Z}}});var u4=L((wD,a5)=>{try{if(g6=require("util"),typeof g6.inherits!=="function")throw"";a5.exports=g6.inherits}catch($){a5.exports=v$()}var g6});var h$=L((bD,k$)=>{var yJ=I1(),G0=d1(),o5=u4(),Y4=p4(),gJ=yJ.assert;function R1($){Y4.call(this,"short",$),this.a=new G0($.a,16).toRed(this.red),this.b=new G0($.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism($),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}o5(R1,Y4);k$.exports=R1;R1.prototype._getEndomorphism=function $(Z){if(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)return;var X,Q;if(Z.beta)X=new G0(Z.beta,16).toRed(this.red);else{var G=this._getEndoRoots(this.p);X=G[0].cmp(G[1])<0?G[0]:G[1],X=X.toRed(this.red)}if(Z.lambda)Q=new G0(Z.lambda,16);else{var Y=this._getEndoRoots(this.n);if(this.g.mul(Y[0]).x.cmp(this.g.x.redMul(X))===0)Q=Y[0];else Q=Y[1],gJ(this.g.mul(Q).x.cmp(this.g.x.redMul(X))===0)}var V;if(Z.basis)V=Z.basis.map(function(K){return{a:new G0(K.a,16),b:new G0(K.b,16)}});else V=this._getEndoBasis(Q);return{beta:X,lambda:Q,basis:V}};R1.prototype._getEndoRoots=function $(Z){var X=Z===this.p?this.red:G0.mont(Z),Q=new G0(2).toRed(X).redInvm(),G=Q.redNeg(),Y=new G0(3).toRed(X).redNeg().redSqrt().redMul(Q),V=G.redAdd(Y).fromRed(),K=G.redSub(Y).fromRed();return[V,K]};R1.prototype._getEndoBasis=function $(Z){var X=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Q=Z,G=this.n.clone(),Y=new G0(1),V=new G0(0),K=new G0(0),q=new G0(1),D,W,R,T,C,_,S,w=0,B,i;while(Q.cmpn(0)!==0){var n=G.div(Q);B=G.sub(n.mul(Q)),i=K.sub(n.mul(Y));var X0=q.sub(n.mul(V));if(!R&&B.cmp(X)<0)D=S.neg(),W=Y,R=B.neg(),T=i;else if(R&&++w===2)break;S=B,G=Q,Q=B,K=Y,Y=i,q=V,V=X0}C=B.neg(),_=i;var s=R.sqr().add(T.sqr()),m0=C.sqr().add(_.sqr());if(m0.cmp(s)>=0)C=D,_=W;if(R.negative)R=R.neg(),T=T.neg();if(C.negative)C=C.neg(),_=_.neg();return[{a:R,b:T},{a:C,b:_}]};R1.prototype._endoSplit=function $(Z){var X=this.endo.basis,Q=X[0],G=X[1],Y=G.b.mul(Z).divRound(this.n),V=Q.b.neg().mul(Z).divRound(this.n),K=Y.mul(Q.a),q=V.mul(G.a),D=Y.mul(Q.b),W=V.mul(G.b),R=Z.sub(K).sub(q),T=D.add(W).neg();return{k1:R,k2:T}};R1.prototype.pointFromX=function $(Z,X){if(Z=new G0(Z,16),!Z.red)Z=Z.toRed(this.red);var Q=Z.redSqr().redMul(Z).redIAdd(Z.redMul(this.a)).redIAdd(this.b),G=Q.redSqrt();if(G.redSqr().redSub(Q).cmp(this.zero)!==0)throw new Error("invalid point");var Y=G.fromRed().isOdd();if(X&&!Y||!X&&Y)G=G.redNeg();return this.point(Z,G)};R1.prototype.validate=function $(Z){if(Z.inf)return!0;var{x:X,y:Q}=Z,G=this.a.redMul(X),Y=X.redSqr().redMul(X).redIAdd(G).redIAdd(this.b);return Q.redSqr().redISub(Y).cmpn(0)===0};R1.prototype._endoWnafMulAdd=function $(Z,X,Q){var G=this._endoWnafT1,Y=this._endoWnafT2;for(var V=0;V<Z.length;V++){var K=this._endoSplit(X[V]),q=Z[V],D=q._getBeta();if(K.k1.negative)K.k1.ineg(),q=q.neg(!0);if(K.k2.negative)K.k2.ineg(),D=D.neg(!0);G[V*2]=q,G[V*2+1]=D,Y[V*2]=K.k1,Y[V*2+1]=K.k2}var W=this._wnafMulAdd(1,G,Y,V*2,Q);for(var R=0;R<V*2;R++)G[R]=null,Y[R]=null;return W};function p0($,Z,X,Q){if(Y4.BasePoint.call(this,$,"affine"),Z===null&&X===null)this.x=null,this.y=null,this.inf=!0;else{if(this.x=new G0(Z,16),this.y=new G0(X,16),Q)this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);this.inf=!1}}o5(p0,Y4.BasePoint);R1.prototype.point=function $(Z,X,Q){return new p0(this,Z,X,Q)};R1.prototype.pointFromJSON=function $(Z,X){return p0.fromJSON(this,Z,X)};p0.prototype._getBeta=function $(){if(!this.curve.endo)return;var Z=this.precomputed;if(Z&&Z.beta)return Z.beta;var X=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Z){var Q=this.curve,G=function(Y){return Q.point(Y.x.redMul(Q.endo.beta),Y.y)};Z.beta=X,X.precomputed={beta:null,naf:Z.naf&&{wnd:Z.naf.wnd,points:Z.naf.points.map(G)},doubles:Z.doubles&&{step:Z.doubles.step,points:Z.doubles.points.map(G)}}}return X};p0.prototype.toJSON=function $(){if(!this.precomputed)return[this.x,this.y];return[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]};p0.fromJSON=function $(Z,X,Q){if(typeof X==="string")X=JSON.parse(X);var G=Z.point(X[0],X[1],Q);if(!X[2])return G;function Y(K){return Z.point(K[0],K[1],Q)}var V=X[2];return G.precomputed={beta:null,doubles:V.doubles&&{step:V.doubles.step,points:[G].concat(V.doubles.points.map(Y))},naf:V.naf&&{wnd:V.naf.wnd,points:[G].concat(V.naf.points.map(Y))}},G};p0.prototype.inspect=function $(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};p0.prototype.isInfinity=function $(){return this.inf};p0.prototype.add=function $(Z){if(this.inf)return Z;if(Z.inf)return this;if(this.eq(Z))return this.dbl();if(this.neg().eq(Z))return this.curve.point(null,null);if(this.x.cmp(Z.x)===0)return this.curve.point(null,null);var X=this.y.redSub(Z.y);if(X.cmpn(0)!==0)X=X.redMul(this.x.redSub(Z.x).redInvm());var Q=X.redSqr().redISub(this.x).redISub(Z.x),G=X.redMul(this.x.redSub(Q)).redISub(this.y);return this.curve.point(Q,G)};p0.prototype.dbl=function $(){if(this.inf)return this;var Z=this.y.redAdd(this.y);if(Z.cmpn(0)===0)return this.curve.point(null,null);var X=this.curve.a,Q=this.x.redSqr(),G=Z.redInvm(),Y=Q.redAdd(Q).redIAdd(Q).redIAdd(X).redMul(G),V=Y.redSqr().redISub(this.x.redAdd(this.x)),K=Y.redMul(this.x.redSub(V)).redISub(this.y);return this.curve.point(V,K)};p0.prototype.getX=function $(){return this.x.fromRed()};p0.prototype.getY=function $(){return this.y.fromRed()};p0.prototype.mul=function $(Z){if(Z=new G0(Z,16),this.isInfinity())return this;else if(this._hasDoubles(Z))return this.curve._fixedNafMul(this,Z);else if(this.curve.endo)return this.curve._endoWnafMulAdd([this],[Z]);else return this.curve._wnafMul(this,Z)};p0.prototype.mulAdd=function $(Z,X,Q){var G=[this,X],Y=[Z,Q];if(this.curve.endo)return this.curve._endoWnafMulAdd(G,Y);else return this.curve._wnafMulAdd(1,G,Y,2)};p0.prototype.jmulAdd=function $(Z,X,Q){var G=[this,X],Y=[Z,Q];if(this.curve.endo)return this.curve._endoWnafMulAdd(G,Y,!0);else return this.curve._wnafMulAdd(1,G,Y,2,!0)};p0.prototype.eq=function $(Z){return this===Z||this.inf===Z.inf&&(this.inf||this.x.cmp(Z.x)===0&&this.y.cmp(Z.y)===0)};p0.prototype.neg=function $(Z){if(this.inf)return this;var X=this.curve.point(this.x,this.y.redNeg());if(Z&&this.precomputed){var Q=this.precomputed,G=function(Y){return Y.neg()};X.precomputed={naf:Q.naf&&{wnd:Q.naf.wnd,points:Q.naf.points.map(G)},doubles:Q.doubles&&{step:Q.doubles.step,points:Q.doubles.points.map(G)}}}return X};p0.prototype.toJ=function $(){if(this.inf)return this.curve.jpoint(null,null,null);var Z=this.curve.jpoint(this.x,this.y,this.curve.one);return Z};function a0($,Z,X,Q){if(Y4.BasePoint.call(this,$,"jacobian"),Z===null&&X===null&&Q===null)this.x=this.curve.one,this.y=this.curve.one,this.z=new G0(0);else this.x=new G0(Z,16),this.y=new G0(X,16),this.z=new G0(Q,16);if(!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);this.zOne=this.z===this.curve.one}o5(a0,Y4.BasePoint);R1.prototype.jpoint=function $(Z,X,Q){return new a0(this,Z,X,Q)};a0.prototype.toP=function $(){if(this.isInfinity())return this.curve.point(null,null);var Z=this.z.redInvm(),X=Z.redSqr(),Q=this.x.redMul(X),G=this.y.redMul(X).redMul(Z);return this.curve.point(Q,G)};a0.prototype.neg=function $(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};a0.prototype.add=function $(Z){if(this.isInfinity())return Z;if(Z.isInfinity())return this;var X=Z.z.redSqr(),Q=this.z.redSqr(),G=this.x.redMul(X),Y=Z.x.redMul(Q),V=this.y.redMul(X.redMul(Z.z)),K=Z.y.redMul(Q.redMul(this.z)),q=G.redSub(Y),D=V.redSub(K);if(q.cmpn(0)===0)if(D.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var W=q.redSqr(),R=W.redMul(q),T=G.redMul(W),C=D.redSqr().redIAdd(R).redISub(T).redISub(T),_=D.redMul(T.redISub(C)).redISub(V.redMul(R)),S=this.z.redMul(Z.z).redMul(q);return this.curve.jpoint(C,_,S)};a0.prototype.mixedAdd=function $(Z){if(this.isInfinity())return Z.toJ();if(Z.isInfinity())return this;var X=this.z.redSqr(),Q=this.x,G=Z.x.redMul(X),Y=this.y,V=Z.y.redMul(X).redMul(this.z),K=Q.redSub(G),q=Y.redSub(V);if(K.cmpn(0)===0)if(q.cmpn(0)!==0)return this.curve.jpoint(null,null,null);else return this.dbl();var D=K.redSqr(),W=D.redMul(K),R=Q.redMul(D),T=q.redSqr().redIAdd(W).redISub(R).redISub(R),C=q.redMul(R.redISub(T)).redISub(Y.redMul(W)),_=this.z.redMul(K);return this.curve.jpoint(T,C,_)};a0.prototype.dblp=function $(Z){if(Z===0)return this;if(this.isInfinity())return this;if(!Z)return this.dbl();var X;if(this.curve.zeroA||this.curve.threeA){var Q=this;for(X=0;X<Z;X++)Q=Q.dbl();return Q}var G=this.curve.a,Y=this.curve.tinv,V=this.x,K=this.y,q=this.z,D=q.redSqr().redSqr(),W=K.redAdd(K);for(X=0;X<Z;X++){var R=V.redSqr(),T=W.redSqr(),C=T.redSqr(),_=R.redAdd(R).redIAdd(R).redIAdd(G.redMul(D)),S=V.redMul(T),w=_.redSqr().redISub(S.redAdd(S)),B=S.redISub(w),i=_.redMul(B);i=i.redIAdd(i).redISub(C);var n=W.redMul(q);if(X+1<Z)D=D.redMul(C);V=w,q=n,W=i}return this.curve.jpoint(V,W.redMul(Y),q)};a0.prototype.dbl=function $(){if(this.isInfinity())return this;if(this.curve.zeroA)return this._zeroDbl();else if(this.curve.threeA)return this._threeDbl();else return this._dbl()};a0.prototype._zeroDbl=function $(){var Z,X,Q;if(this.zOne){var G=this.x.redSqr(),Y=this.y.redSqr(),V=Y.redSqr(),K=this.x.redAdd(Y).redSqr().redISub(G).redISub(V);K=K.redIAdd(K);var q=G.redAdd(G).redIAdd(G),D=q.redSqr().redISub(K).redISub(K),W=V.redIAdd(V);W=W.redIAdd(W),W=W.redIAdd(W),Z=D,X=q.redMul(K.redISub(D)).redISub(W),Q=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),T=this.y.redSqr(),C=T.redSqr(),_=this.x.redAdd(T).redSqr().redISub(R).redISub(C);_=_.redIAdd(_);var S=R.redAdd(R).redIAdd(R),w=S.redSqr(),B=C.redIAdd(C);B=B.redIAdd(B),B=B.redIAdd(B),Z=w.redISub(_).redISub(_),X=S.redMul(_.redISub(Z)).redISub(B),Q=this.y.redMul(this.z),Q=Q.redIAdd(Q)}return this.curve.jpoint(Z,X,Q)};a0.prototype._threeDbl=function $(){var Z,X,Q;if(this.zOne){var G=this.x.redSqr(),Y=this.y.redSqr(),V=Y.redSqr(),K=this.x.redAdd(Y).redSqr().redISub(G).redISub(V);K=K.redIAdd(K);var q=G.redAdd(G).redIAdd(G).redIAdd(this.curve.a),D=q.redSqr().redISub(K).redISub(K);Z=D;var W=V.redIAdd(V);W=W.redIAdd(W),W=W.redIAdd(W),X=q.redMul(K.redISub(D)).redISub(W),Q=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),T=this.y.redSqr(),C=this.x.redMul(T),_=this.x.redSub(R).redMul(this.x.redAdd(R));_=_.redAdd(_).redIAdd(_);var S=C.redIAdd(C);S=S.redIAdd(S);var w=S.redAdd(S);Z=_.redSqr().redISub(w),Q=this.y.redAdd(this.z).redSqr().redISub(T).redISub(R);var B=T.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),X=_.redMul(S.redISub(Z)).redISub(B)}return this.curve.jpoint(Z,X,Q)};a0.prototype._dbl=function $(){var Z=this.curve.a,X=this.x,Q=this.y,G=this.z,Y=G.redSqr().redSqr(),V=X.redSqr(),K=Q.redSqr(),q=V.redAdd(V).redIAdd(V).redIAdd(Z.redMul(Y)),D=X.redAdd(X);D=D.redIAdd(D);var W=D.redMul(K),R=q.redSqr().redISub(W.redAdd(W)),T=W.redISub(R),C=K.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var _=q.redMul(T).redISub(C),S=Q.redAdd(Q).redMul(G);return this.curve.jpoint(R,_,S)};a0.prototype.trpl=function $(){if(!this.curve.zeroA)return this.dbl().add(this);var Z=this.x.redSqr(),X=this.y.redSqr(),Q=this.z.redSqr(),G=X.redSqr(),Y=Z.redAdd(Z).redIAdd(Z),V=Y.redSqr(),K=this.x.redAdd(X).redSqr().redISub(Z).redISub(G);K=K.redIAdd(K),K=K.redAdd(K).redIAdd(K),K=K.redISub(V);var q=K.redSqr(),D=G.redIAdd(G);D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var W=Y.redIAdd(K).redSqr().redISub(V).redISub(q).redISub(D),R=X.redMul(W);R=R.redIAdd(R),R=R.redIAdd(R);var T=this.x.redMul(q).redISub(R);T=T.redIAdd(T),T=T.redIAdd(T);var C=this.y.redMul(W.redMul(D.redISub(W)).redISub(K.redMul(q)));C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C);var _=this.z.redAdd(K).redSqr().redISub(Q).redISub(q);return this.curve.jpoint(T,C,_)};a0.prototype.mul=function $(Z,X){return Z=new G0(Z,X),this.curve._wnafMul(this,Z)};a0.prototype.eq=function $(Z){if(Z.type==="affine")return this.eq(Z.toJ());if(this===Z)return!0;var X=this.z.redSqr(),Q=Z.z.redSqr();if(this.x.redMul(Q).redISub(Z.x.redMul(X)).cmpn(0)!==0)return!1;var G=X.redMul(this.z),Y=Q.redMul(Z.z);return this.y.redMul(Y).redISub(Z.y.redMul(G)).cmpn(0)===0};a0.prototype.eqXToP=function $(Z){var X=this.z.redSqr(),Q=Z.toRed(this.curve.red).redMul(X);if(this.x.cmp(Q)===0)return!0;var G=Z.clone(),Y=this.curve.redN.redMul(X);for(;;){if(G.iadd(this.curve.n),G.cmp(this.curve.p)>=0)return!1;if(Q.redIAdd(Y),this.x.cmp(Q)===0)return!0}};a0.prototype.inspect=function $(){if(this.isInfinity())return"<EC JPoint Infinity>";return"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};a0.prototype.isInfinity=function $(){return this.z.cmpn(0)===0}});var g$=L((cD,y$)=>{var J4=d1(),d$=u4(),p6=p4(),pJ=I1();function V4($){p6.call(this,"mont",$),this.a=new J4($.a,16).toRed(this.red),this.b=new J4($.b,16).toRed(this.red),this.i4=new J4(4).toRed(this.red).redInvm(),this.two=new J4(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}d$(V4,p6);y$.exports=V4;V4.prototype.validate=function $(Z){var X=Z.normalize().x,Q=X.redSqr(),G=Q.redMul(X).redAdd(Q.redMul(this.a)).redAdd(X),Y=G.redSqrt();return Y.redSqr().cmp(G)===0};function u0($,Z,X){if(p6.BasePoint.call(this,$,"projective"),Z===null&&X===null)this.x=this.curve.one,this.z=this.curve.zero;else{if(this.x=new J4(Z,16),this.z=new J4(X,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red)}}d$(u0,p6.BasePoint);V4.prototype.decodePoint=function $(Z,X){return this.point(pJ.toArray(Z,X),1)};V4.prototype.point=function $(Z,X){return new u0(this,Z,X)};V4.prototype.pointFromJSON=function $(Z){return u0.fromJSON(this,Z)};u0.prototype.precompute=function $(){};u0.prototype._encode=function $(){return this.getX().toArray("be",this.curve.p.byteLength())};u0.fromJSON=function $(Z,X){return new u0(Z,X[0],X[1]||Z.one)};u0.prototype.inspect=function $(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};u0.prototype.isInfinity=function $(){return this.z.cmpn(0)===0};u0.prototype.dbl=function $(){var Z=this.x.redAdd(this.z),X=Z.redSqr(),Q=this.x.redSub(this.z),G=Q.redSqr(),Y=X.redSub(G),V=X.redMul(G),K=Y.redMul(G.redAdd(this.curve.a24.redMul(Y)));return this.curve.point(V,K)};u0.prototype.add=function $(){throw new Error("Not supported on Montgomery curve")};u0.prototype.diffAdd=function $(Z,X){var Q=this.x.redAdd(this.z),G=this.x.redSub(this.z),Y=Z.x.redAdd(Z.z),V=Z.x.redSub(Z.z),K=V.redMul(Q),q=Y.redMul(G),D=X.z.redMul(K.redAdd(q).redSqr()),W=X.x.redMul(K.redISub(q).redSqr());return this.curve.point(D,W)};u0.prototype.mul=function $(Z){var X=Z.clone(),Q=this,G=this.curve.point(null,null),Y=this;for(var V=[];X.cmpn(0)!==0;X.iushrn(1))V.push(X.andln(1));for(var K=V.length-1;K>=0;K--)if(V[K]===0)Q=Q.diffAdd(G,Y),G=G.dbl();else G=Q.diffAdd(G,Y),Q=Q.dbl();return G};u0.prototype.mulAdd=function $(){throw new Error("Not supported on Montgomery curve")};u0.prototype.jumlAdd=function $(){throw new Error("Not supported on Montgomery curve")};u0.prototype.eq=function $(Z){return this.getX().cmp(Z.getX())===0};u0.prototype.normalize=function $(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};u0.prototype.getX=function $(){return this.normalize(),this.x.fromRed()}});var l$=L((vD,u$)=>{var uJ=I1(),X8=d1(),p$=u4(),u6=p4(),lJ=uJ.assert;function y1($){this.twisted=($.a|0)!==1,this.mOneA=this.twisted&&($.a|0)===-1,this.extended=this.mOneA,u6.call(this,"edwards",$),this.a=new X8($.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new X8($.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new X8($.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),lJ(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=($.c|0)===1}p$(y1,u6);u$.exports=y1;y1.prototype._mulA=function $(Z){if(this.mOneA)return Z.redNeg();else return this.a.redMul(Z)};y1.prototype._mulC=function $(Z){if(this.oneC)return Z;else return this.c.redMul(Z)};y1.prototype.jpoint=function $(Z,X,Q,G){return this.point(Z,X,Q,G)};y1.prototype.pointFromX=function $(Z,X){if(Z=new X8(Z,16),!Z.red)Z=Z.toRed(this.red);var Q=Z.redSqr(),G=this.c2.redSub(this.a.redMul(Q)),Y=this.one.redSub(this.c2.redMul(this.d).redMul(Q)),V=G.redMul(Y.redInvm()),K=V.redSqrt();if(K.redSqr().redSub(V).cmp(this.zero)!==0)throw new Error("invalid point");var q=K.fromRed().isOdd();if(X&&!q||!X&&q)K=K.redNeg();return this.point(Z,K)};y1.prototype.pointFromY=function $(Z,X){if(Z=new X8(Z,16),!Z.red)Z=Z.toRed(this.red);var Q=Z.redSqr(),G=Q.redSub(this.c2),Y=Q.redMul(this.d).redMul(this.c2).redSub(this.a),V=G.redMul(Y.redInvm());if(V.cmp(this.zero)===0)if(X)throw new Error("invalid point");else return this.point(this.zero,Z);var K=V.redSqrt();if(K.redSqr().redSub(V).cmp(this.zero)!==0)throw new Error("invalid point");if(K.fromRed().isOdd()!==X)K=K.redNeg();return this.point(K,Z)};y1.prototype.validate=function $(Z){if(Z.isInfinity())return!0;Z.normalize();var X=Z.x.redSqr(),Q=Z.y.redSqr(),G=X.redMul(this.a).redAdd(Q),Y=this.c2.redMul(this.one.redAdd(this.d.redMul(X).redMul(Q)));return G.cmp(Y)===0};function t($,Z,X,Q,G){if(u6.BasePoint.call(this,$,"projective"),Z===null&&X===null&&Q===null)this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0;else{if(this.x=new X8(Z,16),this.y=new X8(X,16),this.z=Q?new X8(Q,16):this.curve.one,this.t=G&&new X8(G,16),!this.x.red)this.x=this.x.toRed(this.curve.red);if(!this.y.red)this.y=this.y.toRed(this.curve.red);if(!this.z.red)this.z=this.z.toRed(this.curve.red);if(this.t&&!this.t.red)this.t=this.t.toRed(this.curve.red);if(this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t){if(this.t=this.x.redMul(this.y),!this.zOne)this.t=this.t.redMul(this.z.redInvm())}}}p$(t,u6.BasePoint);y1.prototype.pointFromJSON=function $(Z){return t.fromJSON(this,Z)};y1.prototype.point=function $(Z,X,Q,G){return new t(this,Z,X,Q,G)};t.fromJSON=function $(Z,X){return new t(Z,X[0],X[1],X[2])};t.prototype.inspect=function $(){if(this.isInfinity())return"<EC Point Infinity>";return"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};t.prototype.isInfinity=function $(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};t.prototype._extDbl=function $(){var Z=this.x.redSqr(),X=this.y.redSqr(),Q=this.z.redSqr();Q=Q.redIAdd(Q);var G=this.curve._mulA(Z),Y=this.x.redAdd(this.y).redSqr().redISub(Z).redISub(X),V=G.redAdd(X),K=V.redSub(Q),q=G.redSub(X),D=Y.redMul(K),W=V.redMul(q),R=Y.redMul(q),T=K.redMul(V);return this.curve.point(D,W,T,R)};t.prototype._projDbl=function $(){var Z=this.x.redAdd(this.y).redSqr(),X=this.x.redSqr(),Q=this.y.redSqr(),G,Y,V,K,q,D;if(this.curve.twisted){K=this.curve._mulA(X);var W=K.redAdd(Q);if(this.zOne)G=Z.redSub(X).redSub(Q).redMul(W.redSub(this.curve.two)),Y=W.redMul(K.redSub(Q)),V=W.redSqr().redSub(W).redSub(W);else q=this.z.redSqr(),D=W.redSub(q).redISub(q),G=Z.redSub(X).redISub(Q).redMul(D),Y=W.redMul(K.redSub(Q)),V=W.redMul(D)}else K=X.redAdd(Q),q=this.curve._mulC(this.z).redSqr(),D=K.redSub(q).redSub(q),G=this.curve._mulC(Z.redISub(K)).redMul(D),Y=this.curve._mulC(K).redMul(X.redISub(Q)),V=K.redMul(D);return this.curve.point(G,Y,V)};t.prototype.dbl=function $(){if(this.isInfinity())return this;if(this.curve.extended)return this._extDbl();else return this._projDbl()};t.prototype._extAdd=function $(Z){var X=this.y.redSub(this.x).redMul(Z.y.redSub(Z.x)),Q=this.y.redAdd(this.x).redMul(Z.y.redAdd(Z.x)),G=this.t.redMul(this.curve.dd).redMul(Z.t),Y=this.z.redMul(Z.z.redAdd(Z.z)),V=Q.redSub(X),K=Y.redSub(G),q=Y.redAdd(G),D=Q.redAdd(X),W=V.redMul(K),R=q.redMul(D),T=V.redMul(D),C=K.redMul(q);return this.curve.point(W,R,C,T)};t.prototype._projAdd=function $(Z){var X=this.z.redMul(Z.z),Q=X.redSqr(),G=this.x.redMul(Z.x),Y=this.y.redMul(Z.y),V=this.curve.d.redMul(G).redMul(Y),K=Q.redSub(V),q=Q.redAdd(V),D=this.x.redAdd(this.y).redMul(Z.x.redAdd(Z.y)).redISub(G).redISub(Y),W=X.redMul(K).redMul(D),R,T;if(this.curve.twisted)R=X.redMul(q).redMul(Y.redSub(this.curve._mulA(G))),T=K.redMul(q);else R=X.redMul(q).redMul(Y.redSub(G)),T=this.curve._mulC(K).redMul(q);return this.curve.point(W,R,T)};t.prototype.add=function $(Z){if(this.isInfinity())return Z;if(Z.isInfinity())return this;if(this.curve.extended)return this._extAdd(Z);else return this._projAdd(Z)};t.prototype.mul=function $(Z){if(this._hasDoubles(Z))return this.curve._fixedNafMul(this,Z);else return this.curve._wnafMul(this,Z)};t.prototype.mulAdd=function $(Z,X,Q){return this.curve._wnafMulAdd(1,[this,X],[Z,Q],2,!1)};t.prototype.jmulAdd=function $(Z,X,Q){return this.curve._wnafMulAdd(1,[this,X],[Z,Q],2,!0)};t.prototype.normalize=function $(){if(this.zOne)return this;var Z=this.z.redInvm();if(this.x=this.x.redMul(Z),this.y=this.y.redMul(Z),this.t)this.t=this.t.redMul(Z);return this.z=this.curve.one,this.zOne=!0,this};t.prototype.neg=function $(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};t.prototype.getX=function $(){return this.normalize(),this.x.fromRed()};t.prototype.getY=function $(){return this.normalize(),this.y.fromRed()};t.prototype.eq=function $(Z){return this===Z||this.getX().cmp(Z.getX())===0&&this.getY().cmp(Z.getY())===0};t.prototype.eqXToP=function $(Z){var X=Z.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(X)===0)return!0;var Q=Z.clone(),G=this.curve.redN.redMul(this.z);for(;;){if(Q.iadd(this.curve.n),Q.cmp(this.curve.p)>=0)return!1;if(X.redIAdd(G),this.x.cmp(X)===0)return!0}};t.prototype.toP=t.prototype.normalize;t.prototype.mixedAdd=t.prototype.add});var r5=L((m$)=>{var l6=m$;l6.base=p4();l6.short=h$();l6.mont=g$();l6.edwards=l$()});var N1=L((a)=>{var mJ=A8(),iJ=u4();a.inherits=iJ;function nJ($,Z){if(($.charCodeAt(Z)&64512)!==55296)return!1;if(Z<0||Z+1>=$.length)return!1;return($.charCodeAt(Z+1)&64512)===56320}function aJ($,Z){if(Array.isArray($))return $.slice();if(!$)return[];var X=[];if(typeof $==="string"){if(!Z){var Q=0;for(var G=0;G<$.length;G++){var Y=$.charCodeAt(G);if(Y<128)X[Q++]=Y;else if(Y<2048)X[Q++]=Y>>6|192,X[Q++]=Y&63|128;else if(nJ($,G))Y=65536+((Y&1023)<<10)+($.charCodeAt(++G)&1023),X[Q++]=Y>>18|240,X[Q++]=Y>>12&63|128,X[Q++]=Y>>6&63|128,X[Q++]=Y&63|128;else X[Q++]=Y>>12|224,X[Q++]=Y>>6&63|128,X[Q++]=Y&63|128}}else if(Z==="hex"){if($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0)$="0"+$;for(G=0;G<$.length;G+=2)X.push(parseInt($[G]+$[G+1],16))}}else for(G=0;G<$.length;G++)X[G]=$[G]|0;return X}a.toArray=aJ;function oJ($){var Z="";for(var X=0;X<$.length;X++)Z+=n$($[X].toString(16));return Z}a.toHex=oJ;function i$($){var Z=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return Z>>>0}a.htonl=i$;function rJ($,Z){var X="";for(var Q=0;Q<$.length;Q++){var G=$[Q];if(Z==="little")G=i$(G);X+=a$(G.toString(16))}return X}a.toHex32=rJ;function n$($){if($.length===1)return"0"+$;else return $}a.zero2=n$;function a$($){if($.length===7)return"0"+$;else if($.length===6)return"00"+$;else if($.length===5)return"000"+$;else if($.length===4)return"0000"+$;else if($.length===3)return"00000"+$;else if($.length===2)return"000000"+$;else if($.length===1)return"0000000"+$;else return $}a.zero8=a$;function tJ($,Z,X,Q){var G=X-Z;mJ(G%4===0);var Y=new Array(G/4);for(var V=0,K=Z;V<Y.length;V++,K+=4){var q;if(Q==="big")q=$[K]<<24|$[K+1]<<16|$[K+2]<<8|$[K+3];else q=$[K+3]<<24|$[K+2]<<16|$[K+1]<<8|$[K];Y[V]=q>>>0}return Y}a.join32=tJ;function sJ($,Z){var X=new Array($.length*4);for(var Q=0,G=0;Q<$.length;Q++,G+=4){var Y=$[Q];if(Z==="big")X[G]=Y>>>24,X[G+1]=Y>>>16&255,X[G+2]=Y>>>8&255,X[G+3]=Y&255;else X[G+3]=Y>>>24,X[G+2]=Y>>>16&255,X[G+1]=Y>>>8&255,X[G]=Y&255}return X}a.split32=sJ;function eJ($,Z){return $>>>Z|$<<32-Z}a.rotr32=eJ;function $V($,Z){return $<<Z|$>>>32-Z}a.rotl32=$V;function ZV($,Z){return $+Z>>>0}a.sum32=ZV;function XV($,Z,X){return $+Z+X>>>0}a.sum32_3=XV;function GV($,Z,X,Q){return $+Z+X+Q>>>0}a.sum32_4=GV;function QV($,Z,X,Q,G){return $+Z+X+Q+G>>>0}a.sum32_5=QV;function YV($,Z,X,Q){var G=$[Z],Y=$[Z+1],V=Q+Y>>>0,K=(V<Q?1:0)+X+G;$[Z]=K>>>0,$[Z+1]=V}a.sum64=YV;function JV($,Z,X,Q){var G=Z+Q>>>0,Y=(G<Z?1:0)+$+X;return Y>>>0}a.sum64_hi=JV;function VV($,Z,X,Q){var G=Z+Q;return G>>>0}a.sum64_lo=VV;function OV($,Z,X,Q,G,Y,V,K){var q=0,D=Z;D=D+Q>>>0,q+=D<Z?1:0,D=D+Y>>>0,q+=D<Y?1:0,D=D+K>>>0,q+=D<K?1:0;var W=$+X+G+V+q;return W>>>0}a.sum64_4_hi=OV;function KV($,Z,X,Q,G,Y,V,K){var q=Z+Q+Y+K;return q>>>0}a.sum64_4_lo=KV;function HV($,Z,X,Q,G,Y,V,K,q,D){var W=0,R=Z;R=R+Q>>>0,W+=R<Z?1:0,R=R+Y>>>0,W+=R<Y?1:0,R=R+K>>>0,W+=R<K?1:0,R=R+D>>>0,W+=R<D?1:0;var T=$+X+G+V+q+W;return T>>>0}a.sum64_5_hi=HV;function qV($,Z,X,Q,G,Y,V,K,q,D){var W=Z+Q+Y+K+D;return W>>>0}a.sum64_5_lo=qV;function IV($,Z,X){var Q=Z<<32-X|$>>>X;return Q>>>0}a.rotr64_hi=IV;function DV($,Z,X){var Q=$<<32-X|Z>>>X;return Q>>>0}a.rotr64_lo=DV;function WV($,Z,X){return $>>>X}a.shr64_hi=WV;function zV($,Z,X){var Q=$<<32-X|Z>>>X;return Q>>>0}a.shr64_lo=zV});var O4=L((r$)=>{var o$=N1(),MV=A8();function m6(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r$.BlockHash=m6;m6.prototype.update=function $(Z,X){if(Z=o$.toArray(Z,X),!this.pending)this.pending=Z;else this.pending=this.pending.concat(Z);if(this.pendingTotal+=Z.length,this.pending.length>=this._delta8){Z=this.pending;var Q=Z.length%this._delta8;if(this.pending=Z.slice(Z.length-Q,Z.length),this.pending.length===0)this.pending=null;Z=o$.join32(Z,0,Z.length-Q,this.endian);for(var G=0;G<Z.length;G+=this._delta32)this._update(Z,G,G+this._delta32)}return this};m6.prototype.digest=function $(Z){return this.update(this._pad()),MV(this.pending===null),this._digest(Z)};m6.prototype._pad=function $(){var Z=this.pendingTotal,X=this._delta8,Q=X-(Z+this.padLength)%X,G=new Array(Q+this.padLength);G[0]=128;for(var Y=1;Y<Q;Y++)G[Y]=0;if(Z<<=3,this.endian==="big"){for(var V=8;V<this.padLength;V++)G[Y++]=0;G[Y++]=0,G[Y++]=0,G[Y++]=0,G[Y++]=0,G[Y++]=Z>>>24&255,G[Y++]=Z>>>16&255,G[Y++]=Z>>>8&255,G[Y++]=Z&255}else{G[Y++]=Z&255,G[Y++]=Z>>>8&255,G[Y++]=Z>>>16&255,G[Y++]=Z>>>24&255,G[Y++]=0,G[Y++]=0,G[Y++]=0,G[Y++]=0;for(V=8;V<this.padLength;V++)G[Y++]=0}return G}});var t5=L((G8)=>{var UV=N1(),g1=UV.rotr32;function AV($,Z,X,Q){if($===0)return t$(Z,X,Q);if($===1||$===3)return e$(Z,X,Q);if($===2)return s$(Z,X,Q)}G8.ft_1=AV;function t$($,Z,X){return $&Z^~$&X}G8.ch32=t$;function s$($,Z,X){return $&Z^$&X^Z&X}G8.maj32=s$;function e$($,Z,X){return $^Z^X}G8.p32=e$;function RV($){return g1($,2)^g1($,13)^g1($,22)}G8.s0_256=RV;function fV($){return g1($,6)^g1($,11)^g1($,25)}G8.s1_256=fV;function FV($){return g1($,7)^g1($,18)^$>>>3}G8.g0_256=FV;function TV($){return g1($,17)^g1($,19)^$>>>10}G8.g1_256=TV});var XZ=L((gD,ZZ)=>{var K4=N1(),EV=O4(),CV=t5(),s5=K4.rotl32,l4=K4.sum32,_V=K4.sum32_5,SV=CV.ft_1,$Z=EV.BlockHash,LV=[1518500249,1859775393,2400959708,3395469782];function p1(){if(!(this instanceof p1))return new p1;$Z.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}K4.inherits(p1,$Z);ZZ.exports=p1;p1.blockSize=512;p1.outSize=160;p1.hmacStrength=80;p1.padLength=64;p1.prototype._update=function $(Z,X){var Q=this.W;for(var G=0;G<16;G++)Q[G]=Z[X+G];for(;G<Q.length;G++)Q[G]=s5(Q[G-3]^Q[G-8]^Q[G-14]^Q[G-16],1);var Y=this.h[0],V=this.h[1],K=this.h[2],q=this.h[3],D=this.h[4];for(G=0;G<Q.length;G++){var W=~~(G/20),R=_V(s5(Y,5),SV(W,V,K,q),D,Q[G],LV[W]);D=q,q=K,K=s5(V,30),V=Y,Y=R}this.h[0]=l4(this.h[0],Y),this.h[1]=l4(this.h[1],V),this.h[2]=l4(this.h[2],K),this.h[3]=l4(this.h[3],q),this.h[4]=l4(this.h[4],D)};p1.prototype._digest=function $(Z){if(Z==="hex")return K4.toHex32(this.h,"big");else return K4.split32(this.h,"big")}});var e5=L((pD,QZ)=>{var H4=N1(),NV=O4(),q4=t5(),PV=A8(),P1=H4.sum32,BV=H4.sum32_4,xV=H4.sum32_5,jV=q4.ch32,wV=q4.maj32,bV=q4.s0_256,cV=q4.s1_256,vV=q4.g0_256,kV=q4.g1_256,GZ=NV.BlockHash,hV=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function u1(){if(!(this instanceof u1))return new u1;GZ.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hV,this.W=new Array(64)}H4.inherits(u1,GZ);QZ.exports=u1;u1.blockSize=512;u1.outSize=256;u1.hmacStrength=192;u1.padLength=64;u1.prototype._update=function $(Z,X){var Q=this.W;for(var G=0;G<16;G++)Q[G]=Z[X+G];for(;G<Q.length;G++)Q[G]=BV(kV(Q[G-2]),Q[G-7],vV(Q[G-15]),Q[G-16]);var Y=this.h[0],V=this.h[1],K=this.h[2],q=this.h[3],D=this.h[4],W=this.h[5],R=this.h[6],T=this.h[7];PV(this.k.length===Q.length);for(G=0;G<Q.length;G++){var C=xV(T,cV(D),jV(D,W,R),this.k[G],Q[G]),_=P1(bV(Y),wV(Y,V,K));T=R,R=W,W=D,D=P1(q,C),q=K,K=V,V=Y,Y=P1(C,_)}this.h[0]=P1(this.h[0],Y),this.h[1]=P1(this.h[1],V),this.h[2]=P1(this.h[2],K),this.h[3]=P1(this.h[3],q),this.h[4]=P1(this.h[4],D),this.h[5]=P1(this.h[5],W),this.h[6]=P1(this.h[6],R),this.h[7]=P1(this.h[7],T)};u1.prototype._digest=function $(Z){if(Z==="hex")return H4.toHex32(this.h,"big");else return H4.split32(this.h,"big")}});var VZ=L((uD,JZ)=>{var $7=N1(),YZ=e5();function Q8(){if(!(this instanceof Q8))return new Q8;YZ.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}$7.inherits(Q8,YZ);JZ.exports=Q8;Q8.blockSize=512;Q8.outSize=224;Q8.hmacStrength=192;Q8.padLength=64;Q8.prototype._digest=function $(Z){if(Z==="hex")return $7.toHex32(this.h.slice(0,7),"big");else return $7.split32(this.h.slice(0,7),"big")}});var G7=L((lD,qZ)=>{var J1=N1(),dV=O4(),yV=A8(),l1=J1.rotr64_hi,m1=J1.rotr64_lo,OZ=J1.shr64_hi,KZ=J1.shr64_lo,F8=J1.sum64,Z7=J1.sum64_hi,X7=J1.sum64_lo,gV=J1.sum64_4_hi,pV=J1.sum64_4_lo,uV=J1.sum64_5_hi,lV=J1.sum64_5_lo,HZ=dV.BlockHash,mV=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function B1(){if(!(this instanceof B1))return new B1;HZ.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=mV,this.W=new Array(160)}J1.inherits(B1,HZ);qZ.exports=B1;B1.blockSize=1024;B1.outSize=512;B1.hmacStrength=192;B1.padLength=128;B1.prototype._prepareBlock=function $(Z,X){var Q=this.W;for(var G=0;G<32;G++)Q[G]=Z[X+G];for(;G<Q.length;G+=2){var Y=XO(Q[G-4],Q[G-3]),V=GO(Q[G-4],Q[G-3]),K=Q[G-14],q=Q[G-13],D=$O(Q[G-30],Q[G-29]),W=ZO(Q[G-30],Q[G-29]),R=Q[G-32],T=Q[G-31];Q[G]=gV(Y,V,K,q,D,W,R,T),Q[G+1]=pV(Y,V,K,q,D,W,R,T)}};B1.prototype._update=function $(Z,X){this._prepareBlock(Z,X);var Q=this.W,G=this.h[0],Y=this.h[1],V=this.h[2],K=this.h[3],q=this.h[4],D=this.h[5],W=this.h[6],R=this.h[7],T=this.h[8],C=this.h[9],_=this.h[10],S=this.h[11],w=this.h[12],B=this.h[13],i=this.h[14],n=this.h[15];yV(this.k.length===Q.length);for(var X0=0;X0<Q.length;X0+=2){var s=i,m0=n,i0=sV(T,C),d=eV(T,C),Q0=iV(T,C,_,S,w,B),f=nV(T,C,_,S,w,B),J=this.k[X0],H=this.k[X0+1],I=Q[X0],z=Q[X0+1],A=uV(s,m0,i0,d,Q0,f,J,H,I,z),F=lV(s,m0,i0,d,Q0,f,J,H,I,z);s=rV(G,Y),m0=tV(G,Y),i0=aV(G,Y,V,K,q,D),d=oV(G,Y,V,K,q,D);var E=Z7(s,m0,i0,d),M=X7(s,m0,i0,d);i=w,n=B,w=_,B=S,_=T,S=C,T=Z7(W,R,A,F),C=X7(R,R,A,F),W=q,R=D,q=V,D=K,V=G,K=Y,G=Z7(A,F,E,M),Y=X7(A,F,E,M)}F8(this.h,0,G,Y),F8(this.h,2,V,K),F8(this.h,4,q,D),F8(this.h,6,W,R),F8(this.h,8,T,C),F8(this.h,10,_,S),F8(this.h,12,w,B),F8(this.h,14,i,n)};B1.prototype._digest=function $(Z){if(Z==="hex")return J1.toHex32(this.h,"big");else return J1.split32(this.h,"big")};function iV($,Z,X,Q,G){var Y=$&X^~$&G;if(Y<0)Y+=4294967296;return Y}function nV($,Z,X,Q,G,Y){var V=Z&Q^~Z&Y;if(V<0)V+=4294967296;return V}function aV($,Z,X,Q,G){var Y=$&X^$&G^X&G;if(Y<0)Y+=4294967296;return Y}function oV($,Z,X,Q,G,Y){var V=Z&Q^Z&Y^Q&Y;if(V<0)V+=4294967296;return V}function rV($,Z){var X=l1($,Z,28),Q=l1(Z,$,2),G=l1(Z,$,7),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function tV($,Z){var X=m1($,Z,28),Q=m1(Z,$,2),G=m1(Z,$,7),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function sV($,Z){var X=l1($,Z,14),Q=l1($,Z,18),G=l1(Z,$,9),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function eV($,Z){var X=m1($,Z,14),Q=m1($,Z,18),G=m1(Z,$,9),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function $O($,Z){var X=l1($,Z,1),Q=l1($,Z,8),G=OZ($,Z,7),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function ZO($,Z){var X=m1($,Z,1),Q=m1($,Z,8),G=KZ($,Z,7),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function XO($,Z){var X=l1($,Z,19),Q=l1(Z,$,29),G=OZ($,Z,6),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}function GO($,Z){var X=m1($,Z,19),Q=m1(Z,$,29),G=KZ($,Z,6),Y=X^Q^G;if(Y<0)Y+=4294967296;return Y}});var WZ=L((mD,DZ)=>{var Q7=N1(),IZ=G7();function Y8(){if(!(this instanceof Y8))return new Y8;IZ.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Q7.inherits(Y8,IZ);DZ.exports=Y8;Y8.blockSize=1024;Y8.outSize=384;Y8.hmacStrength=192;Y8.padLength=128;Y8.prototype._digest=function $(Z){if(Z==="hex")return Q7.toHex32(this.h.slice(0,12),"big");else return Q7.split32(this.h.slice(0,12),"big")}});var zZ=L((I4)=>{I4.sha1=XZ();I4.sha224=VZ();I4.sha256=e5();I4.sha384=WZ();I4.sha512=G7()});var FZ=L((fZ)=>{var c8=N1(),QO=O4(),i6=c8.rotl32,MZ=c8.sum32,m4=c8.sum32_3,UZ=c8.sum32_4,RZ=QO.BlockHash;function i1(){if(!(this instanceof i1))return new i1;RZ.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}c8.inherits(i1,RZ);fZ.ripemd160=i1;i1.blockSize=512;i1.outSize=160;i1.hmacStrength=192;i1.padLength=64;i1.prototype._update=function $(Z,X){var Q=this.h[0],G=this.h[1],Y=this.h[2],V=this.h[3],K=this.h[4],q=Q,D=G,W=Y,R=V,T=K;for(var C=0;C<80;C++){var _=MZ(i6(UZ(Q,AZ(C,G,Y,V),Z[VO[C]+X],YO(C)),KO[C]),K);Q=K,K=V,V=i6(Y,10),Y=G,G=_,_=MZ(i6(UZ(q,AZ(79-C,D,W,R),Z[OO[C]+X],JO(C)),HO[C]),T),q=T,T=R,R=i6(W,10),W=D,D=_}_=m4(this.h[1],Y,R),this.h[1]=m4(this.h[2],V,T),this.h[2]=m4(this.h[3],K,q),this.h[3]=m4(this.h[4],Q,D),this.h[4]=m4(this.h[0],G,W),this.h[0]=_};i1.prototype._digest=function $(Z){if(Z==="hex")return c8.toHex32(this.h,"little");else return c8.split32(this.h,"little")};function AZ($,Z,X,Q){if($<=15)return Z^X^Q;else if($<=31)return Z&X|~Z&Q;else if($<=47)return(Z|~X)^Q;else if($<=63)return Z&Q|X&~Q;else return Z^(X|~Q)}function YO($){if($<=15)return 0;else if($<=31)return 1518500249;else if($<=47)return 1859775393;else if($<=63)return 2400959708;else return 2840853838}function JO($){if($<=15)return 1352829926;else if($<=31)return 1548603684;else if($<=47)return 1836072691;else if($<=63)return 2053994217;else return 0}var VO=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],OO=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],KO=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],HO=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var EZ=L((aD,TZ)=>{var qO=N1(),IO=A8();function D4($,Z,X){if(!(this instanceof D4))return new D4($,Z,X);this.Hash=$,this.blockSize=$.blockSize/8,this.outSize=$.outSize/8,this.inner=null,this.outer=null,this._init(qO.toArray(Z,X))}TZ.exports=D4;D4.prototype._init=function $(Z){if(Z.length>this.blockSize)Z=new this.Hash().update(Z).digest();IO(Z.length<=this.blockSize);for(var X=Z.length;X<this.blockSize;X++)Z.push(0);for(X=0;X<Z.length;X++)Z[X]^=54;this.inner=new this.Hash().update(Z);for(X=0;X<Z.length;X++)Z[X]^=106;this.outer=new this.Hash().update(Z)};D4.prototype.update=function $(Z,X){return this.inner.update(Z,X),this};D4.prototype.digest=function $(Z){return this.outer.update(this.inner.digest()),this.outer.digest(Z)}});var n6=L((CZ)=>{var o0=CZ;o0.utils=N1();o0.common=O4();o0.sha=zZ();o0.ripemd=FZ();o0.hmac=EZ();o0.sha1=o0.sha.sha1;o0.sha256=o0.sha.sha256;o0.sha224=o0.sha.sha224;o0.sha384=o0.sha.sha384;o0.sha512=o0.sha.sha512;o0.ripemd160=o0.ripemd.ripemd160});var SZ=L((rD,_Z)=>{_Z.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var a6=L((PZ)=>{var J7=PZ,T8=n6(),Y7=r5(),DO=I1(),LZ=DO.assert;function NZ($){if($.type==="short")this.curve=new Y7.short($);else if($.type==="edwards")this.curve=new Y7.edwards($);else this.curve=new Y7.mont($);this.g=this.curve.g,this.n=this.curve.n,this.hash=$.hash,LZ(this.g.validate(),"Invalid curve"),LZ(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}J7.PresetCurve=NZ;function E8($,Z){Object.defineProperty(J7,$,{configurable:!0,enumerable:!0,get:function(){var X=new NZ(Z);return Object.defineProperty(J7,$,{configurable:!0,enumerable:!0,value:X}),X}})}E8("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:T8.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});E8("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:T8.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});E8("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:T8.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});E8("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:T8.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});E8("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:T8.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});E8("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:T8.sha256,gRed:!1,g:["9"]});E8("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:T8.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var V7;try{V7=SZ()}catch($){V7=void 0}E8("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:T8.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",V7]})});var jZ=L((sD,xZ)=>{var WO=n6(),v8=u5(),BZ=A8();function C8($){if(!(this instanceof C8))return new C8($);this.hash=$.hash,this.predResist=!!$.predResist,this.outLen=this.hash.outSize,this.minEntropy=$.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var Z=v8.toArray($.entropy,$.entropyEnc||"hex"),X=v8.toArray($.nonce,$.nonceEnc||"hex"),Q=v8.toArray($.pers,$.persEnc||"hex");BZ(Z.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(Z,X,Q)}xZ.exports=C8;C8.prototype._init=function $(Z,X,Q){var G=Z.concat(X).concat(Q);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Y=0;Y<this.V.length;Y++)this.K[Y]=0,this.V[Y]=1;this._update(G),this._reseed=1,this.reseedInterval=281474976710656};C8.prototype._hmac=function $(){return new WO.hmac(this.hash,this.K)};C8.prototype._update=function $(Z){var X=this._hmac().update(this.V).update([0]);if(Z)X=X.update(Z);if(this.K=X.digest(),this.V=this._hmac().update(this.V).digest(),!Z)return;this.K=this._hmac().update(this.V).update([1]).update(Z).digest(),this.V=this._hmac().update(this.V).digest()};C8.prototype.reseed=function $(Z,X,Q,G){if(typeof X!=="string")G=Q,Q=X,X=null;Z=v8.toArray(Z,X),Q=v8.toArray(Q,G),BZ(Z.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(Z.concat(Q||[])),this._reseed=1};C8.prototype.generate=function $(Z,X,Q,G){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");if(typeof X!=="string")G=Q,Q=X,X=null;if(Q)Q=v8.toArray(Q,G||"hex"),this._update(Q);var Y=[];while(Y.length<Z)this.V=this._hmac().update(this.V).digest(),Y=Y.concat(this.V);var V=Y.slice(0,Z);return this._update(Q),this._reseed++,v8.encode(V,X)}});var bZ=L((eD,wZ)=>{var zO=d1(),MO=I1(),O7=MO.assert;function e0($,Z){if(this.ec=$,this.priv=null,this.pub=null,Z.priv)this._importPrivate(Z.priv,Z.privEnc);if(Z.pub)this._importPublic(Z.pub,Z.pubEnc)}wZ.exports=e0;e0.fromPublic=function $(Z,X,Q){if(X instanceof e0)return X;return new e0(Z,{pub:X,pubEnc:Q})};e0.fromPrivate=function $(Z,X,Q){if(X instanceof e0)return X;return new e0(Z,{priv:X,privEnc:Q})};e0.prototype.validate=function $(){var Z=this.getPublic();if(Z.isInfinity())return{result:!1,reason:"Invalid public key"};if(!Z.validate())return{result:!1,reason:"Public key is not a point"};if(!Z.mul(this.ec.curve.n).isInfinity())return{result:!1,reason:"Public key * N != O"};return{result:!0,reason:null}};e0.prototype.getPublic=function $(Z,X){if(typeof Z==="string")X=Z,Z=null;if(!this.pub)this.pub=this.ec.g.mul(this.priv);if(!X)return this.pub;return this.pub.encode(X,Z)};e0.prototype.getPrivate=function $(Z){if(Z==="hex")return this.priv.toString(16,2);else return this.priv};e0.prototype._importPrivate=function $(Z,X){this.priv=new zO(Z,X||16),this.priv=this.priv.umod(this.ec.curve.n)};e0.prototype._importPublic=function $(Z,X){if(Z.x||Z.y){if(this.ec.curve.type==="mont")O7(Z.x,"Need x coordinate");else if(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")O7(Z.x&&Z.y,"Need both x and y coordinate");this.pub=this.ec.curve.point(Z.x,Z.y);return}this.pub=this.ec.curve.decodePoint(Z,X)};e0.prototype.derive=function $(Z){if(!Z.validate())O7(Z.validate(),"public point not validated");return Z.mul(this.priv).getX()};e0.prototype.sign=function $(Z,X,Q){return this.ec.sign(Z,this,X,Q)};e0.prototype.verify=function $(Z,X,Q){return this.ec.verify(Z,X,this,void 0,Q)};e0.prototype.inspect=function $(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var kZ=L(($W,vZ)=>{var o6=d1(),q7=I1(),UO=q7.assert;function r6($,Z){if($ instanceof r6)return $;if(this._importDER($,Z))return;if(UO($.r&&$.s,"Signature without r or s"),this.r=new o6($.r,16),this.s=new o6($.s,16),$.recoveryParam===void 0)this.recoveryParam=null;else this.recoveryParam=$.recoveryParam}vZ.exports=r6;function AO(){this.place=0}function K7($,Z){var X=$[Z.place++];if(!(X&128))return X;var Q=X&15;if(Q===0||Q>4)return!1;if($[Z.place]===0)return!1;var G=0;for(var Y=0,V=Z.place;Y<Q;Y++,V++)G<<=8,G|=$[V],G>>>=0;if(G<=127)return!1;return Z.place=V,G}function cZ($){var Z=0,X=$.length-1;while(!$[Z]&&!($[Z+1]&128)&&Z<X)Z++;if(Z===0)return $;return $.slice(Z)}r6.prototype._importDER=function $(Z,X){Z=q7.toArray(Z,X);var Q=new AO;if(Z[Q.place++]!==48)return!1;var G=K7(Z,Q);if(G===!1)return!1;if(G+Q.place!==Z.length)return!1;if(Z[Q.place++]!==2)return!1;var Y=K7(Z,Q);if(Y===!1)return!1;if((Z[Q.place]&128)!==0)return!1;var V=Z.slice(Q.place,Y+Q.place);if(Q.place+=Y,Z[Q.place++]!==2)return!1;var K=K7(Z,Q);if(K===!1)return!1;if(Z.length!==K+Q.place)return!1;if((Z[Q.place]&128)!==0)return!1;var q=Z.slice(Q.place,K+Q.place);if(V[0]===0)if(V[1]&128)V=V.slice(1);else return!1;if(q[0]===0)if(q[1]&128)q=q.slice(1);else return!1;return this.r=new o6(V),this.s=new o6(q),this.recoveryParam=null,!0};function H7($,Z){if(Z<128){$.push(Z);return}var X=1+(Math.log(Z)/Math.LN2>>>3);$.push(X|128);while(--X)$.push(Z>>>(X<<3)&255);$.push(Z)}r6.prototype.toDER=function $(Z){var X=this.r.toArray(),Q=this.s.toArray();if(X[0]&128)X=[0].concat(X);if(Q[0]&128)Q=[0].concat(Q);X=cZ(X),Q=cZ(Q);while(!Q[0]&&!(Q[1]&128))Q=Q.slice(1);var G=[2];H7(G,X.length),G=G.concat(X),G.push(2),H7(G,Q.length);var Y=G.concat(Q),V=[48];return H7(V,Y.length),V=V.concat(Y),q7.encode(V,Z)}});var yZ=L((ZW,dZ)=>{var x1=d1(),hZ=jZ(),RO=I1(),I7=a6(),fO=i5(),k8=RO.assert,D7=bZ(),t6=kZ();function f1($){if(!(this instanceof f1))return new f1($);if(typeof $==="string")k8(Object.prototype.hasOwnProperty.call(I7,$),"Unknown curve "+$),$=I7[$];if($ instanceof I7.PresetCurve)$={curve:$};this.curve=$.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=$.curve.g,this.g.precompute($.curve.n.bitLength()+1),this.hash=$.hash||$.curve.hash}dZ.exports=f1;f1.prototype.keyPair=function $(Z){return new D7(this,Z)};f1.prototype.keyFromPrivate=function $(Z,X){return D7.fromPrivate(this,Z,X)};f1.prototype.keyFromPublic=function $(Z,X){return D7.fromPublic(this,Z,X)};f1.prototype.genKeyPair=function $(Z){if(!Z)Z={};var X=new hZ({hash:this.hash,pers:Z.pers,persEnc:Z.persEnc||"utf8",entropy:Z.entropy||fO(this.hash.hmacStrength),entropyEnc:Z.entropy&&Z.entropyEnc||"utf8",nonce:this.n.toArray()}),Q=this.n.byteLength(),G=this.n.sub(new x1(2));for(;;){var Y=new x1(X.generate(Q));if(Y.cmp(G)>0)continue;return Y.iaddn(1),this.keyFromPrivate(Y)}};f1.prototype._truncateToN=function $(Z,X,Q){var G;if(x1.isBN(Z)||typeof Z==="number")Z=new x1(Z,16),G=Z.byteLength();else if(typeof Z==="object")G=Z.length,Z=new x1(Z,16);else{var Y=Z.toString();G=Y.length+1>>>1,Z=new x1(Y,16)}if(typeof Q!=="number")Q=G*8;var V=Q-this.n.bitLength();if(V>0)Z=Z.ushrn(V);if(!X&&Z.cmp(this.n)>=0)return Z.sub(this.n);else return Z};f1.prototype.sign=function $(Z,X,Q,G){if(typeof Q==="object")G=Q,Q=null;if(!G)G={};if(typeof Z!=="string"&&typeof Z!=="number"&&!x1.isBN(Z)){k8(typeof Z==="object"&&Z&&typeof Z.length==="number","Expected message to be an array-like, a hex string, or a BN instance"),k8(Z.length>>>0===Z.length);for(var Y=0;Y<Z.length;Y++)k8((Z[Y]&255)===Z[Y])}X=this.keyFromPrivate(X,Q),Z=this._truncateToN(Z,!1,G.msgBitLength),k8(!Z.isNeg(),"Can not sign a negative message");var V=this.n.byteLength(),K=X.getPrivate().toArray("be",V),q=Z.toArray("be",V);k8(new x1(q).eq(Z),"Can not sign message");var D=new hZ({hash:this.hash,entropy:K,nonce:q,pers:G.pers,persEnc:G.persEnc||"utf8"}),W=this.n.sub(new x1(1));for(var R=0;;R++){var T=G.k?G.k(R):new x1(D.generate(this.n.byteLength()));if(T=this._truncateToN(T,!0),T.cmpn(1)<=0||T.cmp(W)>=0)continue;var C=this.g.mul(T);if(C.isInfinity())continue;var _=C.getX(),S=_.umod(this.n);if(S.cmpn(0)===0)continue;var w=T.invm(this.n).mul(S.mul(X.getPrivate()).iadd(Z));if(w=w.umod(this.n),w.cmpn(0)===0)continue;var B=(C.getY().isOdd()?1:0)|(_.cmp(S)!==0?2:0);if(G.canonical&&w.cmp(this.nh)>0)w=this.n.sub(w),B^=1;return new t6({r:S,s:w,recoveryParam:B})}};f1.prototype.verify=function $(Z,X,Q,G,Y){if(!Y)Y={};Z=this._truncateToN(Z,!1,Y.msgBitLength),Q=this.keyFromPublic(Q,G),X=new t6(X,"hex");var{r:V,s:K}=X;if(V.cmpn(1)<0||V.cmp(this.n)>=0)return!1;if(K.cmpn(1)<0||K.cmp(this.n)>=0)return!1;var q=K.invm(this.n),D=q.mul(Z).umod(this.n),W=q.mul(V).umod(this.n),R;if(!this.curve._maxwellTrick){if(R=this.g.mulAdd(D,Q.getPublic(),W),R.isInfinity())return!1;return R.getX().umod(this.n).cmp(V)===0}if(R=this.g.jmulAdd(D,Q.getPublic(),W),R.isInfinity())return!1;return R.eqXToP(V)};f1.prototype.recoverPubKey=function($,Z,X,Q){k8((3&X)===X,"The recovery param is more than two bits"),Z=new t6(Z,Q);var G=this.n,Y=new x1($),V=Z.r,K=Z.s,q=X&1,D=X>>1;if(V.cmp(this.curve.p.umod(this.curve.n))>=0&&D)throw new Error("Unable to find sencond key candinate");if(D)V=this.curve.pointFromX(V.add(this.curve.n),q);else V=this.curve.pointFromX(V,q);var W=Z.r.invm(G),R=G.sub(Y).mul(W).umod(G),T=K.mul(W).umod(G);return this.g.mulAdd(R,V,T)};f1.prototype.getKeyRecoveryParam=function($,Z,X,Q){if(Z=new t6(Z,Q),Z.recoveryParam!==null)return Z.recoveryParam;for(var G=0;G<4;G++){var Y;try{Y=this.recoverPubKey($,Z,G)}catch(V){continue}if(Y.eq(X))return G}throw new Error("Unable to find valid recovery factor")}});var lZ=L((XW,uZ)=>{var i4=I1(),pZ=i4.assert,gZ=i4.parseBytes,W4=i4.cachedProperty;function l0($,Z){if(this.eddsa=$,this._secret=gZ(Z.secret),$.isPoint(Z.pub))this._pub=Z.pub;else this._pubBytes=gZ(Z.pub)}l0.fromPublic=function $(Z,X){if(X instanceof l0)return X;return new l0(Z,{pub:X})};l0.fromSecret=function $(Z,X){if(X instanceof l0)return X;return new l0(Z,{secret:X})};l0.prototype.secret=function $(){return this._secret};W4(l0,"pubBytes",function $(){return this.eddsa.encodePoint(this.pub())});W4(l0,"pub",function $(){if(this._pubBytes)return this.eddsa.decodePoint(this._pubBytes);return this.eddsa.g.mul(this.priv())});W4(l0,"privBytes",function $(){var Z=this.eddsa,X=this.hash(),Q=Z.encodingLength-1,G=X.slice(0,Z.encodingLength);return G[0]&=248,G[Q]&=127,G[Q]|=64,G});W4(l0,"priv",function $(){return this.eddsa.decodeInt(this.privBytes())});W4(l0,"hash",function $(){return this.eddsa.hash().update(this.secret()).digest()});W4(l0,"messagePrefix",function $(){return this.hash().slice(this.eddsa.encodingLength)});l0.prototype.sign=function $(Z){return pZ(this._secret,"KeyPair can only verify"),this.eddsa.sign(Z,this)};l0.prototype.verify=function $(Z,X){return this.eddsa.verify(Z,X,this)};l0.prototype.getSecret=function $(Z){return pZ(this._secret,"KeyPair is public only"),i4.encode(this.secret(),Z)};l0.prototype.getPublic=function $(Z){return i4.encode(this.pubBytes(),Z)};uZ.exports=l0});var nZ=L((GW,iZ)=>{var FO=d1(),s6=I1(),mZ=s6.assert,e6=s6.cachedProperty,TO=s6.parseBytes;function h8($,Z){if(this.eddsa=$,typeof Z!=="object")Z=TO(Z);if(Array.isArray(Z))mZ(Z.length===$.encodingLength*2,"Signature has invalid size"),Z={R:Z.slice(0,$.encodingLength),S:Z.slice($.encodingLength)};if(mZ(Z.R&&Z.S,"Signature without R or S"),$.isPoint(Z.R))this._R=Z.R;if(Z.S instanceof FO)this._S=Z.S;this._Rencoded=Array.isArray(Z.R)?Z.R:Z.Rencoded,this._Sencoded=Array.isArray(Z.S)?Z.S:Z.Sencoded}e6(h8,"S",function $(){return this.eddsa.decodeInt(this.Sencoded())});e6(h8,"R",function $(){return this.eddsa.decodePoint(this.Rencoded())});e6(h8,"Rencoded",function $(){return this.eddsa.encodePoint(this.R())});e6(h8,"Sencoded",function $(){return this.eddsa.encodeInt(this.S())});h8.prototype.toBytes=function $(){return this.Rencoded().concat(this.Sencoded())};h8.prototype.toHex=function $(){return s6.encode(this.toBytes(),"hex").toUpperCase()};iZ.exports=h8});var sZ=L((QW,tZ)=>{var EO=n6(),CO=a6(),z4=I1(),_O=z4.assert,oZ=z4.parseBytes,rZ=lZ(),aZ=nZ();function V1($){if(_O($==="ed25519","only tested with ed25519 so far"),!(this instanceof V1))return new V1($);$=CO[$].curve,this.curve=$,this.g=$.g,this.g.precompute($.n.bitLength()+1),this.pointClass=$.point().constructor,this.encodingLength=Math.ceil($.n.bitLength()/8),this.hash=EO.sha512}tZ.exports=V1;V1.prototype.sign=function $(Z,X){Z=oZ(Z);var Q=this.keyFromSecret(X),G=this.hashInt(Q.messagePrefix(),Z),Y=this.g.mul(G),V=this.encodePoint(Y),K=this.hashInt(V,Q.pubBytes(),Z).mul(Q.priv()),q=G.add(K).umod(this.curve.n);return this.makeSignature({R:Y,S:q,Rencoded:V})};V1.prototype.verify=function $(Z,X,Q){if(Z=oZ(Z),X=this.makeSignature(X),X.S().gte(X.eddsa.curve.n)||X.S().isNeg())return!1;var G=this.keyFromPublic(Q),Y=this.hashInt(X.Rencoded(),G.pubBytes(),Z),V=this.g.mul(X.S()),K=X.R().add(G.pub().mul(Y));return K.eq(V)};V1.prototype.hashInt=function $(){var Z=this.hash();for(var X=0;X<arguments.length;X++)Z.update(arguments[X]);return z4.intFromLE(Z.digest()).umod(this.curve.n)};V1.prototype.keyFromPublic=function $(Z){return rZ.fromPublic(this,Z)};V1.prototype.keyFromSecret=function $(Z){return rZ.fromSecret(this,Z)};V1.prototype.makeSignature=function $(Z){if(Z instanceof aZ)return Z;return new aZ(this,Z)};V1.prototype.encodePoint=function $(Z){var X=Z.getY().toArray("le",this.encodingLength);return X[this.encodingLength-1]|=Z.getX().isOdd()?128:0,X};V1.prototype.decodePoint=function $(Z){Z=z4.parseBytes(Z);var X=Z.length-1,Q=Z.slice(0,X).concat(Z[X]&-129),G=(Z[X]&128)!==0,Y=z4.intFromLE(Q);return this.curve.pointFromY(Y,G)};V1.prototype.encodeInt=function $(Z){return Z.toArray("le",this.encodingLength)};V1.prototype.decodeInt=function $(Z){return z4.intFromLE(Z)};V1.prototype.isPoint=function $(Z){return Z instanceof this.pointClass}});var W7=L((eZ)=>{var d8=eZ;d8.version=L$().version;d8.utils=I1();d8.rand=i5();d8.curve=r5();d8.curves=a6();d8.ec=yZ();d8.eddsa=sZ()});var z7=L(($9)=>{Object.defineProperty($9,"__esModule",{value:!0});$9.Crypto=void 0;var SO=C$(),LO=S$(),$X=W7();class ZX{getRandomValues($){return SO.randomBytes($)}sha256($){let Z=new LO.SHA256;return Z.update($),Z.digest()}compressP256PublicKey($){let X=new $X.ec("p256").keyFromPublic($).getPublic(!0,"hex");return Buffer.from(X,"hex")}signP256($,Z){let Q=new $X.ec("p256").keyFromPrivate(Z).sign($);return Buffer.concat([Q.r.toArrayLike(Buffer,"be",32),Q.s.toArrayLike(Buffer,"be",32)])}senderId($){if($.length===16)return $;return this.sha256($).slice(0,16)}}$9.Crypto=ZX});var GX=L((M4)=>{var Z9=M4&&M4.__awaiter||function($,Z,X,Q){function G(Y){return Y instanceof X?Y:new X(function(V){V(Y)})}return new(X||(X=Promise))(function(Y,V){function K(W){try{D(Q.next(W))}catch(R){V(R)}}function q(W){try{D(Q.throw(W))}catch(R){V(R)}}function D(W){W.done?Y(W.value):G(W.value).then(K,q)}D((Q=Q.apply($,Z||[])).next())})};Object.defineProperty(M4,"__esModule",{value:!0});M4.V1MessageProcessor=void 0;var NO=z7(),M7=x4();class XX{constructor($,Z=new NO.Crypto){this.sender=$,this.crypto=Z}init(){return Z9(this,void 0,void 0,function*(){return{type:"send",message:M7.createInitMessage(this.sender)}})}processMessage($,Z){return Z9(this,void 0,void 0,function*(){if($.version!==1)return;switch($.type){case"challenge":return yield this.onChallenge($,Z);case"accepted":return this.onAccepted($);case"payload":return this.onPayload($);default:return}})}prepareMessage($,Z){return Z9(this,void 0,void 0,function*(){return M7.createPayloadMessage(this.sender,$,Z)})}onChallenge($,Z){return Z9(this,void 0,void 0,function*(){let X=new Uint8Array(16),Q=Buffer.concat([$.challenge,Z.publicKey,X]),G=this.crypto.signP256(this.crypto.sha256(Q),Z.secretKey);return{type:"send",message:M7.createResponseMessage(this.sender,$.challenge,Z.publicKey,X,G)}})}onAccepted($){return{type:"connected"}}onPayload($){return{type:"notify",message:{sender:$.sender,recipient:$.recipient,payload:$.payload}}}}M4.V1MessageProcessor=XX});var YX=L((X9)=>{Object.defineProperty(X9,"__esModule",{value:!0});X9.Deferred=void 0;class QX{constructor(){this.promise=new Promise(($,Z)=>{this.resolve=$,this.reject=Z})}}X9.Deferred=QX});var JX=L((U4)=>{var PO=U4&&U4.__awaiter||function($,Z,X,Q){function G(Y){return Y instanceof X?Y:new X(function(V){V(Y)})}return new(X||(X=Promise))(function(Y,V){function K(W){try{D(Q.next(W))}catch(R){V(R)}}function q(W){try{D(Q.throw(W))}catch(R){V(R)}}function D(W){W.done?Y(W.value):G(W.value).then(K,q)}D((Q=Q.apply($,Z||[])).next())})};Object.defineProperty(U4,"__esModule",{value:!0});U4.timeoutPromise=void 0;function BO($,Z){return PO(this,void 0,void 0,function*(){let X=new Promise((Q,G)=>{setTimeout(()=>{G(new Error("The execution timed out."))},$)});return yield Promise.race([Z,X])})}U4.timeoutPromise=BO});var OX=L((A4)=>{var y8=A4&&A4.__awaiter||function($,Z,X,Q){function G(Y){return Y instanceof X?Y:new X(function(V){V(Y)})}return new(X||(X=Promise))(function(Y,V){function K(W){try{D(Q.next(W))}catch(R){V(R)}}function q(W){try{D(Q.throw(W))}catch(R){V(R)}}function D(W){W.done?Y(W.value):G(W.value).then(K,q)}D((Q=Q.apply($,Z||[])).next())})};Object.defineProperty(A4,"__esModule",{value:!0});A4.WebSocketTransportClient=void 0;var xO=z7(),jO=GX(),wO=YX(),bO=R5(),cO=JX();class VX{constructor($,Z,X,Q=new xO.Crypto,G=100,Y=!1){this.urls=$,this.connectionTimeoutMillis=Z,this.session=X,this.crypto=Q,this.maxPayloadLogLength=G,this.enableLogging=Y,this.version=1,this.isConnected=new wO.Deferred,this.messageProcessors={},this.messageListeners=[]}tryConnectingToUrls(){return y8(this,void 0,void 0,function*(){let $=null;if(this.lastSelectedURL)try{yield this.session.open(this.lastSelectedURL),this.log(`Connected to: ${this.lastSelectedURL}`);return}catch(X){this.log(`Failed to connect to: ${this.lastSelectedURL}`),$=X}let Z=this.urls.filter((X)=>X!==this.lastSelectedURL);for(let X of Z)try{this.lastSelectedURL=X,yield this.session.open(X),this.log(`Connected to ${X}`);return}catch(Q){this.log(`Failed to connect to ${X}`),$=Q}if($)throw new Error(`All connections failed: ${$.message}`);else throw new Error("No URL provided.")})}connect($){return y8(this,void 0,void 0,function*(){yield this.tryConnectingToUrls(),this.log("Session opened");let Z={secretKey:$.secretKey,publicKey:this.crypto.compressP256PublicKey($.publicKey)},X=this.crypto.senderId(Z.publicKey);this.messageProcessors={1:new jO.V1MessageProcessor(X,this.crypto)},this.session.onMessage((Y)=>y8(this,void 0,void 0,function*(){this.log("Got message",Y.type!=="payload"?Y:Object.assign(Object.assign({},Y),{payload:Y.payload.slice(0,this.maxPayloadLogLength)}));let V=this.messageProcessors[Y.version];if(V===void 0)return;let K=yield V.processMessage(Y,Z);yield this.onAction(K)})),this.session.onClose(()=>{setTimeout(()=>{this.connect($)},200)});let Q=this.messageProcessors[this.version];if(Q===void 0)return;let G=yield Q.init();yield this.onAction(G),yield cO.timeoutPromise(this.connectionTimeoutMillis,this.isConnected.promise).catch(()=>{throw new Error(`The connection with ${this.lastSelectedURL} could not be established.`)}),this.log("Connected")})}send($,Z){return y8(this,void 0,void 0,function*(){let X=this.messageProcessors[this.version];if(X===void 0)return;let Q=this.crypto.senderId($),G=yield X.prepareMessage(Q,Z);yield this.session.send(G),this.log("Sent payload","Sent",this.maxPayloadLogLength>0?Z.slice(0,this.maxPayloadLogLength):Z,"to",$)})}onMessage($){this.messageListeners.push($)}close(){return y8(this,void 0,void 0,function*(){this.messageListeners=[],yield this.session.close()})}idFromPublicKey($){return this.crypto.senderId($)}onAction($){return y8(this,void 0,void 0,function*(){switch($===null||$===void 0?void 0:$.type){case"connected":this.onConnected($);break;case"send":yield this.onSend($);break;case"notify":this.onNotify($);break}})}onConnected($){this.isConnected.resolve()}onSend($){return y8(this,void 0,void 0,function*(){yield this.session.send($.message)})}onNotify($){this.messageListeners.forEach((Z)=>{Z($.message)})}log($,...Z){if(this.enableLogging)bO.log(`[ACURAST-TRANSPORT-WEBSOCKET:${this.lastSelectedURL}] ${$}`,...Z)}}A4.WebSocketTransportClient=VX});var qX=L((_8)=>{var U7=_8&&_8.__awaiter||function($,Z,X,Q){function G(Y){return Y instanceof X?Y:new X(function(V){V(Y)})}return new(X||(X=Promise))(function(Y,V){function K(W){try{D(Q.next(W))}catch(R){V(R)}}function q(W){try{D(Q.throw(W))}catch(R){V(R)}}function D(W){W.done?Y(W.value):G(W.value).then(K,q)}D((Q=Q.apply($,Z||[])).next())})},vO=_8&&_8.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(_8,"__esModule",{value:!0});_8.NodeWebSocketTransportClient=void 0;var kO=vO(Y$()),hO=V$(),dO=OX();class KX extends hO.WebSocketSession{get ws(){if(this._ws===void 0)throw new Error("WebSocket implementation not found");return this._ws}open($){return U7(this,void 0,void 0,function*(){this._ws=new kO.default($),this.ws.binaryType="nodebuffer",yield new Promise((Z,X)=>{let Q=(Y)=>{this.ws.removeAllListeners("open"),X(Y)},G=()=>{this.ws.removeAllListeners("open"),this.ws.removeListener("error",Q),Z()};this.ws.on("open",G),this.ws.on("error",Q)})})}close(){var $;return U7(this,void 0,void 0,function*(){this.ws.onclose=null,($=this._ws)===null||$===void 0||$.close()})}onRawMessage($){this.ws.on("message",(Z)=>{let X=Buffer.isBuffer(Z)?Z:Z instanceof ArrayBuffer?Buffer.from(Z):void 0;if(X!==void 0)$(X)})}sendRaw($){return U7(this,void 0,void 0,function*(){this.ws.send($)})}onClose($){this.ws.onclose=()=>{this.ws.onopen=null,this.ws.onerror=null,$()}}}class HX extends dO.WebSocketTransportClient{constructor($,Z,X=100,Q=!1){super($,Z,new KX,void 0,X,Q)}}_8.NodeWebSocketTransportClient=HX});var IX=L((J8)=>{var yO=J8&&J8.__createBinding||(Object.create?function($,Z,X,Q){if(Q===void 0)Q=X;var G=Object.getOwnPropertyDescriptor(Z,X);if(!G||("get"in G?!Z.__esModule:G.writable||G.configurable))G={enumerable:!0,get:function(){return Z[X]}};Object.defineProperty($,Q,G)}:function($,Z,X,Q){if(Q===void 0)Q=X;$[Q]=Z[X]}),gO=J8&&J8.__exportStar||function($,Z){for(var X in $)if(X!=="default"&&!Object.prototype.hasOwnProperty.call(Z,X))yO(Z,$,X)};Object.defineProperty(J8,"__esModule",{value:!0});J8.WebSocketTransportClient=void 0;gO(Z2(),J8);var pO=qX();Object.defineProperty(J8,"WebSocketTransportClient",{enumerable:!0,get:function(){return pO.NodeWebSocketTransportClient}})});var WX=L((R4)=>{Object.defineProperty(R4,"__esModule",{value:!0});R4.isHex=R4.uint8ArrayFrom=void 0;function uO($){return typeof $==="string"?DX($)?Buffer.from($.replace(/^0x/,""),"hex"):Buffer.from($,"utf-8"):$}R4.uint8ArrayFrom=uO;function DX($){return/^(0x)?[0-9a-fA-F]*$/.test($)}R4.isHex=DX});var MX=L((f4)=>{var A7=f4&&f4.__awaiter||function($,Z,X,Q){function G(Y){return Y instanceof X?Y:new X(function(V){V(Y)})}return new(X||(X=Promise))(function(Y,V){function K(W){try{D(Q.next(W))}catch(R){V(R)}}function q(W){try{D(Q.throw(W))}catch(R){V(R)}}function D(W){W.done?Y(W.value):G(W.value).then(K,q)}D((Q=Q.apply($,Z||[])).next())})};Object.defineProperty(f4,"__esModule",{value:!0});f4.AcurastClient=void 0;var lO=IX(),n4=WX(),mO=15000;class zX{get transport(){if(this._transport===void 0)throw new Error("AcurastClient has not started yet");return this._transport}constructor($,Z=mO,X=100,Q=!1){this.urls=$,this.connectionTimeoutMillis=Z,this.maxPayloadLogLength=X,this.enableLogging=Q,this.messageListenerBuffer=[]}start($){return A7(this,void 0,void 0,function*(){if(this._transport!==void 0)return;let Z=new lO.WebSocketTransportClient(this.urls,this.connectionTimeoutMillis,this.maxPayloadLogLength,this.enableLogging);this.messageListenerBuffer.forEach((X)=>{Z.onMessage(X)}),this.messageListenerBuffer=[],yield Z.connect({secretKey:n4.uint8ArrayFrom($.secretKey),publicKey:n4.uint8ArrayFrom($.publicKey)}),this._transport=Z})}onMessage($){if(this._transport===void 0)this.messageListenerBuffer.push($);else this._transport.onMessage($)}send($,Z){return A7(this,void 0,void 0,function*(){yield this.transport.send(n4.uint8ArrayFrom($),n4.uint8ArrayFrom(Z))})}close(){var $;return A7(this,void 0,void 0,function*(){yield($=this._transport)===null||$===void 0?void 0:$.close(),this._transport=void 0})}idFromPublicKey($){let Z=this.transport.idFromPublicKey(n4.uint8ArrayFrom($));return Buffer.from(Z).toString("hex")}}f4.AcurastClient=zX});var UX=L((G9)=>{Object.defineProperty(G9,"__esModule",{value:!0});G9.AcurastClient=void 0;var iO=MX();Object.defineProperty(G9,"AcurastClient",{enumerable:!0,get:function(){return iO.AcurastClient}})});var AX=L((Q9)=>{Object.defineProperty(Q9,"__esModule",{value:!0});Q9.default=void 0;var MW=Q9.default="ffffffff-ffff-ffff-ffff-ffffffffffff"});var RX=L((Y9)=>{Object.defineProperty(Y9,"__esModule",{value:!0});Y9.default=void 0;var AW=Y9.default="00000000-0000-0000-0000-000000000000"});var fX=L((J9)=>{Object.defineProperty(J9,"__esModule",{value:!0});J9.default=void 0;var fW=J9.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i});var a4=L((V9)=>{Object.defineProperty(V9,"__esModule",{value:!0});V9.default=void 0;var nO=aO(fX());function aO($){return $&&$.__esModule?$:{default:$}}function oO($){return typeof $==="string"&&nO.default.test($)}var TW=V9.default=oO});var o4=L((O9)=>{Object.defineProperty(O9,"__esModule",{value:!0});O9.default=void 0;var rO=tO(a4());function tO($){return $&&$.__esModule?$:{default:$}}function sO($){if(!rO.default($))throw TypeError("Invalid UUID");let Z,X=new Uint8Array(16);return X[0]=(Z=parseInt($.slice(0,8),16))>>>24,X[1]=Z>>>16&255,X[2]=Z>>>8&255,X[3]=Z&255,X[4]=(Z=parseInt($.slice(9,13),16))>>>8,X[5]=Z&255,X[6]=(Z=parseInt($.slice(14,18),16))>>>8,X[7]=Z&255,X[8]=(Z=parseInt($.slice(19,23),16))>>>8,X[9]=Z&255,X[10]=(Z=parseInt($.slice(24,36),16))/1099511627776&255,X[11]=Z/4294967296&255,X[12]=Z>>>24&255,X[13]=Z>>>16&255,X[14]=Z>>>8&255,X[15]=Z&255,X}var CW=O9.default=sO});var V8=L((r4)=>{Object.defineProperty(r4,"__esModule",{value:!0});r4.default=void 0;r4.unsafeStringify=FX;var eO=$K(a4());function $K($){return $&&$.__esModule?$:{default:$}}var r0=[];for(let $=0;$<256;++$)r0.push(($+256).toString(16).slice(1));function FX($,Z=0){return(r0[$[Z+0]]+r0[$[Z+1]]+r0[$[Z+2]]+r0[$[Z+3]]+"-"+r0[$[Z+4]]+r0[$[Z+5]]+"-"+r0[$[Z+6]]+r0[$[Z+7]]+"-"+r0[$[Z+8]]+r0[$[Z+9]]+"-"+r0[$[Z+10]]+r0[$[Z+11]]+r0[$[Z+12]]+r0[$[Z+13]]+r0[$[Z+14]]+r0[$[Z+15]]).toLowerCase()}function ZK($,Z=0){let X=FX($,Z);if(!eO.default(X))throw TypeError("Stringified UUID is invalid");return X}var SW=r4.default=ZK});var q9=L((R7)=>{Object.defineProperty(R7,"__esModule",{value:!0});R7.default=QK;var XK=GK(require("node:crypto"));function GK($){return $&&$.__esModule?$:{default:$}}var H9=new Uint8Array(256),K9=H9.length;function QK(){if(K9>H9.length-16)XK.default.randomFillSync(H9),K9=0;return H9.slice(K9,K9+=16)}});var E7=L((D9)=>{Object.defineProperty(D9,"__esModule",{value:!0});D9.default=void 0;var YK=VK(q9()),JK=V8();function VK($){return $&&$.__esModule?$:{default:$}}var f7,I9,F7=0,T7=0;function OK($,Z,X){let Q=Z&&X||0,G=Z||new Array(16);$=$||{};let{node:Y,clockseq:V}=$;if(!$._v6){if(!Y)Y=f7;if(V==null)V=I9}if(Y==null||V==null){let T=$.random||($.rng||YK.default)();if(Y==null){if(Y=[T[0],T[1],T[2],T[3],T[4],T[5]],!f7&&!$._v6)Y[0]|=1,f7=Y}if(V==null){if(V=(T[6]<<8|T[7])&16383,I9===void 0&&!$._v6)I9=V}}let K=$.msecs!==void 0?$.msecs:Date.now(),q=$.nsecs!==void 0?$.nsecs:T7+1,D=K-F7+(q-T7)/1e4;if(D<0&&$.clockseq===void 0)V=V+1&16383;if((D<0||K>F7)&&$.nsecs===void 0)q=0;if(q>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");F7=K,T7=q,I9=V,K+=12219292800000;let W=((K&268435455)*1e4+q)%4294967296;G[Q++]=W>>>24&255,G[Q++]=W>>>16&255,G[Q++]=W>>>8&255,G[Q++]=W&255;let R=K/4294967296*1e4&268435455;G[Q++]=R>>>8&255,G[Q++]=R&255,G[Q++]=R>>>24&15|16,G[Q++]=R>>>16&255,G[Q++]=V>>>8|128,G[Q++]=V&255;for(let T=0;T<6;++T)G[Q+T]=Y[T];return Z||JK.unsafeStringify(G)}var PW=D9.default=OK});var _7=L((C7)=>{Object.defineProperty(C7,"__esModule",{value:!0});C7.default=IK;var KK=qK(o4()),HK=V8();function qK($){return $&&$.__esModule?$:{default:$}}function IK($){let Z=typeof $==="string"?KK.default($):$,X=DK(Z);return typeof $==="string"?HK.unsafeStringify(X):X}function DK($,Z=!1){return Uint8Array.of(($[6]&15)<<4|$[7]>>4&15,($[7]&15)<<4|($[4]&240)>>4,($[4]&15)<<4|($[5]&240)>>4,($[5]&15)<<4|($[0]&240)>>4,($[0]&15)<<4|($[1]&240)>>4,($[1]&15)<<4|($[2]&240)>>4,96|$[2]&15,$[3],$[8],$[9],$[10],$[11],$[12],$[13],$[14],$[15])}});var S7=L((g8)=>{Object.defineProperty(g8,"__esModule",{value:!0});g8.URL=g8.DNS=void 0;g8.default=fK;var WK=V8(),zK=MK(o4());function MK($){return $&&$.__esModule?$:{default:$}}function UK($){$=unescape(encodeURIComponent($));let Z=[];for(let X=0;X<$.length;++X)Z.push($.charCodeAt(X));return Z}var AK=g8.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",RK=g8.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function fK($,Z,X){function Q(G,Y,V,K){var q;if(typeof G==="string")G=UK(G);if(typeof Y==="string")Y=zK.default(Y);if(((q=Y)===null||q===void 0?void 0:q.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let D=new Uint8Array(16+G.length);if(D.set(Y),D.set(G,Y.length),D=X(D),D[6]=D[6]&15|Z,D[8]=D[8]&63|128,V){K=K||0;for(let W=0;W<16;++W)V[K+W]=D[W];return V}return WK.unsafeStringify(D)}try{Q.name=$}catch(G){}return Q.DNS=AK,Q.URL=RK,Q}});var TX=L((W9)=>{Object.defineProperty(W9,"__esModule",{value:!0});W9.default=void 0;var FK=TK(require("node:crypto"));function TK($){return $&&$.__esModule?$:{default:$}}function EK($){if(Array.isArray($))$=Buffer.from($);else if(typeof $==="string")$=Buffer.from($,"utf8");return FK.default.createHash("md5").update($).digest()}var wW=W9.default=EK});var CX=L((z9)=>{Object.defineProperty(z9,"__esModule",{value:!0});z9.default=void 0;var CK=EX(S7()),_K=EX(TX());function EX($){return $&&$.__esModule?$:{default:$}}var SK=CK.default("v3",48,_K.default),cW=z9.default=SK});var _X=L((M9)=>{Object.defineProperty(M9,"__esModule",{value:!0});M9.default=void 0;var LK=NK(require("node:crypto"));function NK($){return $&&$.__esModule?$:{default:$}}var kW=M9.default={randomUUID:LK.default.randomUUID}});var NX=L((U9)=>{Object.defineProperty(U9,"__esModule",{value:!0});U9.default=void 0;var SX=LX(_X()),PK=LX(q9()),BK=V8();function LX($){return $&&$.__esModule?$:{default:$}}function xK($,Z,X){if(SX.default.randomUUID&&!Z&&!$)return SX.default.randomUUID();$=$||{};let Q=$.random||($.rng||PK.default)();if(Q[6]=Q[6]&15|64,Q[8]=Q[8]&63|128,Z){X=X||0;for(let G=0;G<16;++G)Z[X+G]=Q[G];return Z}return BK.unsafeStringify(Q)}var dW=U9.default=xK});var PX=L((A9)=>{Object.defineProperty(A9,"__esModule",{value:!0});A9.default=void 0;var jK=wK(require("node:crypto"));function wK($){return $&&$.__esModule?$:{default:$}}function bK($){if(Array.isArray($))$=Buffer.from($);else if(typeof $==="string")$=Buffer.from($,"utf8");return jK.default.createHash("sha1").update($).digest()}var gW=A9.default=bK});var xX=L((R9)=>{Object.defineProperty(R9,"__esModule",{value:!0});R9.default=void 0;var cK=BX(S7()),vK=BX(PX());function BX($){return $&&$.__esModule?$:{default:$}}var kK=cK.default("v5",80,vK.default),uW=R9.default=kK});var wX=L((L7)=>{Object.defineProperty(L7,"__esModule",{value:!0});L7.default=gK;var hK=V8(),dK=jX(E7()),yK=jX(_7());function jX($){return $&&$.__esModule?$:{default:$}}function gK($={},Z,X=0){let Q=dK.default({...$,_v6:!0},new Uint8Array(16));if(Q=yK.default(Q),Z){for(let G=0;G<16;G++)Z[X+G]=Q[G];return Z}return hK.unsafeStringify(Q)}});var bX=L((N7)=>{Object.defineProperty(N7,"__esModule",{value:!0});N7.default=mK;var pK=lK(o4()),uK=V8();function lK($){return $&&$.__esModule?$:{default:$}}function mK($){let Z=typeof $==="string"?pK.default($):$,X=iK(Z);return typeof $==="string"?uK.unsafeStringify(X):X}function iK($){return Uint8Array.of(($[3]&15)<<4|$[4]>>4&15,($[4]&15)<<4|($[5]&240)>>4,($[5]&15)<<4|$[6]&15,$[7],($[1]&15)<<4|($[2]&240)>>4,($[2]&15)<<4|($[3]&240)>>4,16|($[0]&240)>>4,($[0]&15)<<4|($[1]&240)>>4,$[8],$[9],$[10],$[11],$[12],$[13],$[14],$[15])}});var kX=L((f9)=>{Object.defineProperty(f9,"__esModule",{value:!0});f9.default=void 0;var nK=oK(q9()),aK=V8();function oK($){return $&&$.__esModule?$:{default:$}}var cX=null,vX=null,j1=0;function rK($,Z,X){$=$||{};let Q=Z&&X||0,G=Z||new Uint8Array(16),Y=$.random||($.rng||nK.default)(),V=$.msecs!==void 0?$.msecs:Date.now(),K=$.seq!==void 0?$.seq:null,q=vX,D=cX;if(V>j1&&$.msecs===void 0){if(j1=V,K!==null)q=null,D=null}if(K!==null){if(K>2147483647)K=2147483647;q=K>>>19&4095,D=K&524287}if(q===null||D===null)q=Y[6]&127,q=q<<8|Y[7],D=Y[8]&63,D=D<<8|Y[9],D=D<<5|Y[10]>>>3;if(V+1e4>j1&&K===null){if(++D>524287){if(D=0,++q>4095)q=0,j1++}}else j1=V;return vX=q,cX=D,G[Q++]=j1/1099511627776&255,G[Q++]=j1/4294967296&255,G[Q++]=j1/16777216&255,G[Q++]=j1/65536&255,G[Q++]=j1/256&255,G[Q++]=j1&255,G[Q++]=q>>>4&15|112,G[Q++]=q&255,G[Q++]=D>>>13&63|128,G[Q++]=D>>>5&255,G[Q++]=D<<3&255|Y[10]&7,G[Q++]=Y[11],G[Q++]=Y[12],G[Q++]=Y[13],G[Q++]=Y[14],G[Q++]=Y[15],Z||aK.unsafeStringify(G)}var nW=f9.default=rK});var hX=L((F9)=>{Object.defineProperty(F9,"__esModule",{value:!0});F9.default=void 0;var tK=sK(a4());function sK($){return $&&$.__esModule?$:{default:$}}function eK($){if(!tK.default($))throw TypeError("Invalid UUID");return parseInt($.slice(14,15),16)}var oW=F9.default=eK});var dX=L(($1)=>{Object.defineProperty($1,"__esModule",{value:!0});Object.defineProperty($1,"MAX",{enumerable:!0,get:function(){return $H.default}});Object.defineProperty($1,"NIL",{enumerable:!0,get:function(){return ZH.default}});Object.defineProperty($1,"parse",{enumerable:!0,get:function(){return XH.default}});Object.defineProperty($1,"stringify",{enumerable:!0,get:function(){return GH.default}});Object.defineProperty($1,"v1",{enumerable:!0,get:function(){return QH.default}});Object.defineProperty($1,"v1ToV6",{enumerable:!0,get:function(){return YH.default}});Object.defineProperty($1,"v3",{enumerable:!0,get:function(){return JH.default}});Object.defineProperty($1,"v4",{enumerable:!0,get:function(){return VH.default}});Object.defineProperty($1,"v5",{enumerable:!0,get:function(){return OH.default}});Object.defineProperty($1,"v6",{enumerable:!0,get:function(){return KH.default}});Object.defineProperty($1,"v6ToV1",{enumerable:!0,get:function(){return HH.default}});Object.defineProperty($1,"v7",{enumerable:!0,get:function(){return qH.default}});Object.defineProperty($1,"validate",{enumerable:!0,get:function(){return IH.default}});Object.defineProperty($1,"version",{enumerable:!0,get:function(){return DH.default}});var $H=O1(AX()),ZH=O1(RX()),XH=O1(o4()),GH=O1(V8()),QH=O1(E7()),YH=O1(_7()),JH=O1(CX()),VH=O1(NX()),OH=O1(xX()),KH=O1(wX()),HH=O1(bX()),qH=O1(kX()),IH=O1(a4()),DH=O1(hX());function O1($){return $&&$.__esModule?$:{default:$}}});var pX=L((T9)=>{Object.defineProperty(T9,"__esModule",{value:!0});T9.AcelonSdk=void 0;var WH=UX(),zH=W7(),yX=require("buffer"),MH=dX();class gX{client;keyPair;pendingRequests=new Map;initPromise;oracles=[];wssUrls=[];timeout;logging;errorThreshold;idToPubKeyMap={};constructor($){this.keyPair=this.generateKeyPair(),this.timeout=$.timeout||20000,this.logging=$.logging||!1,this.errorThreshold=$.errorThreshold||3,this.initPromise=this.init($)}async init($){let Z={wssUrls:[],oracles:[]};if(!$.wssUrls||!$.oracles||$.wssUrls.length===0||$.oracles.length===0)this.log("\uD83D\uDD0D Fetching default settings ..."),Z=await this.fetchDefaultSettings(),this.log(`Fetched default settings: ${Z.wssUrls.length} wssUrls, ${Z.oracles.length} oracles`);if($.oracles&&$.oracles.length>0)this.log("Using provided oracles ..."),this.oracles=$.oracles;else if(Z.oracles.length>0)this.log("Using default oracles ..."),this.oracles=Z.oracles;else throw new Error("No oracles provided");if($.wssUrls&&$.wssUrls.length>0)this.log(`Using provided wssUrls : ${$.wssUrls}`),this.wssUrls=$.wssUrls;else if(Z.wssUrls.length>0)this.log("Using default wssUrls ..."),this.wssUrls=Z.wssUrls;else throw new Error("No wssUrls provided");this.log("\uD83D\uDEDC Opening websocket connection ...");try{this.client=new WH.AcurastClient(this.wssUrls),await this.client.start({secretKey:this.keyPair.privateKey,publicKey:this.keyPair.publicKey}),this.log("✅ Connection opened"),this.idToPubKeyMap={},this.oracles.map((X)=>{let Q=this.client.idFromPublicKey(X);this.idToPubKeyMap[Q]=X}),this.client.onMessage(this.handleMessage.bind(this))}catch(X){throw this.log(`❌ Failed to open connection:, ${X}`),X}}async fetchDefaultSettings(){try{let $=await fetch("https://acurast-oracle-service.storage.googleapis.com/sdk_settings.json");if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);return await $.json()}catch($){return this.log(`Failed to fetch default settings: ${$}`,"error"),{wssUrls:[],oracles:[]}}}generateKeyPair(){let Z=new zH.ec("p256").genKeyPair();return{privateKey:Z.getPrivate("hex"),publicKey:Z.getPublic(!0,"hex")}}handleMessage($){try{let Z=JSON.parse(yX.Buffer.from($.payload,"hex").toString()),X=yX.Buffer.from($.sender).toString("hex");this.log(`\uD83D\uDCE6 Received payload from ${X} for request ${Z.id}`);let Q=this.pendingRequests.get(Z.id);if(Q){if(Z.error){this.log(`❌ Received error from ${X}: ${JSON.stringify(Z.error)}`,"error"),Q.errorResponses.set(X,{error:Z.error,sender:X});let G=Z.error.code,Y=(Q.errorCounts.get(G)||0)+1;if(Q.errorCounts.set(G,Y),Y>=this.errorThreshold){clearTimeout(Q.timer),this.pendingRequests.delete(Z.id),Q.reject(new Error(`${G}: ${Z.error.message} : ${Z.error.data}`));return}}else{let G={result:Z.result,sender:X};if(Q.responses.set(X,G),Q.validCheck&&this.isValidResponse(Z.result,Q.requestedPairsCount||0))Q.validResponses.set(X,G)}Q.checkAndResolve()}}catch(Z){this.log(`❌ Error parsing message: ${Z}`,"error")}}isValidResponse($,Z){if(!$.priceInfos)return this.log("⚠️ Invalid response: priceInfos is missing","warn"),!1;if($.priceInfos.length!==Z)return this.log(`⚠️ Invalid response: ${$.priceInfos.length} / ${Z} expected pairs : ${$.priceInfos.map((X)=>`${X.from}-${X.to}`).join(", ")}`,"warn"),!1;for(let X=0;X<$.priceInfos.length;X++){let Q=$.priceInfos[X];if(!Q.validation)return this.log(`⚠️ Invalid response: Validation missing for pair ${X+1} (${Q.from}-${Q.to})`,"warn"),!1;let G=Object.entries(Q.validation).filter(([Y,V])=>V!==!0).map(([Y])=>Y);if(G.length>0)return this.log(`❌ Invalid response: ${Q.from}-${Q.to} - ${G.join(", ")} : ${JSON.stringify(Q.price)}`,"warn"),!1}return this.log("✅ Valid response: All validations passed","default"),!0}async sendRequestToOracles($,Z,X=0,Q=!0,G=!1){return await this.initPromise,new Promise((Y,V)=>{let K=MH.v4(),q=new Map,D=new Map,W=new Map,R=new Map,T=Z.pairs?.length||void 0,C=setTimeout(()=>{if(this.pendingRequests.has(K))if(Q)this.pendingRequests.delete(K),V(new Error(`⌛ Request ${K} timed out after ${this.timeout}ms`));else{let S=Array.from(G?D.values():q.values());this.pendingRequests.delete(K),Y(S)}},this.timeout),_=()=>{if(G&&D.size>=X||!G&&q.size>=X)clearTimeout(C),this.pendingRequests.delete(K),Y(Array.from(G?D.values():q.values()))};this.pendingRequests.set(K,{resolve:Y,reject:V,timer:C,responses:q,validResponses:D,errorResponses:W,errorCounts:R,requiredResponses:X,validCheck:G,requestedPairsCount:T,checkAndResolve:_}),this.log(`\uD83D\uDCE4 Sending ${$} request ${K} to ${this.oracles.length} oracles :
${JSON.stringify(Z)}`),this.oracles.forEach((S)=>{this.sendRequest($,Z,S,K).catch((w)=>{this.log(`❌ Failed to send request to oracle ${S}: ${w}`,"error")})})})}async sendRequest($,Z,X,Q){let G={jsonrpc:"2.0",id:Q,method:$,params:Z},Y=JSON.stringify(G);await this.client.send(X,Y)}validateFetchPricesParams($){if(!$.pairs||$.pairs.length===0)throw new Error("Pairs array must contain at least one pair");if($.pairs.forEach((X,Q)=>{if(!X.from||!X.to)throw new Error(`Pair at index ${Q} must have 'from' and 'to' fields`);if(X.decimals&&(X.decimals<0||X.decimals>18))throw new Error("Decimals must be between 0 and 18")}),!$.protocol)throw new Error("Protocol field is required");if(!["Substrate","EVM","WASM","Ink!","Gear","Tezos","Youves"].includes($.protocol))throw new Error(`Invalid protocol: ${$.protocol}`);if($.minSources!==void 0&&$.minSources<=0)throw new Error("minSources must be >= 0");if($.pairs.forEach((X,Q)=>{if(X.exchanges&&$.minSources!==void 0&&$.minSources>X.exchanges.length)throw new Error(`minSources (${$.minSources}) cannot be greater than the number of exchanges (${X.exchanges.length}) for pair at index ${Q}`)}),$.tradeAgeLimit!==void 0&&$.tradeAgeLimit<=0)throw new Error("tradeAgeLimit must be positive");if($.aggregation){let X=["median","mean","min","max"];(Array.isArray($.aggregation)?$.aggregation:[$.aggregation]).forEach((G)=>{if(!X.includes(G))throw new Error(`Invalid aggregation type: ${G}`)})}if($.maxSourcesDeviation!==void 0&&$.maxSourcesDeviation<=0)throw new Error("maxSourcesDeviation must be positive");if($.maxValidationDiff!==void 0&&$.maxValidationDiff<=0)throw new Error("maxValidationDiff must be positive")}async getPrices($,Z=0){await this.initPromise,this.validateFetchPricesParams($);let X=async(V,K,q=!1)=>{return this.sendRequestToOracles("fetchPrices",V,K,!0,q)},Q=(V,K)=>{if(V.length<K)throw new Error(`Only ${V.length} valid responses received, ${K} required`)},G=(V)=>{if(V.length>0){let K=V.flatMap((q)=>q.result.priceErrors);if(K.length>0)this.log(`fetchPrices errors: 
${K.map((q)=>`${q.from}-${q.to} : ${q.message}`).join(`,
`)}`,"error")}},Y=(V)=>{let K={},q={};V.forEach((R)=>{R.result.priceInfos.forEach((T)=>{let C=`${T.from}-${T.to}`;if(!K[C])K[C]={price:Object.values(T.price),timestamp:T.timestamp};if(!q[C])q[C]=new Map;T.sources.forEach((_)=>{let S=q[C].get(_.exchangeId)||0;q[C].set(_.exchangeId,S+1)})})}),this.log(`\uD83D\uDCEC Initial prices fetched: ${Object.entries(K).map(([R,T])=>`${R} ${T.price.join(", ")}`).join(" , ")}`);let D={};return Object.keys(q).forEach((R)=>{let T=Array.from(q[R].entries()).sort((C,_)=>_[1]-C[1]).slice(0,$.minSources||3).map(([C])=>C);D[R]=T}),{...$,pairs:$.pairs.filter((R)=>{let T=`${R.from}-${R.to}`;return K.hasOwnProperty(T)}).map((R)=>{let T=`${R.from}-${R.to}`,C=K[T];return{...R,price:C.price,timestamp:C.timestamp,exchanges:D[T]}})}};if(Z===0){let V=await X($,Z,!1);return G(V),Q(V,Z),this.combineSignedPrices(V)}else if($.pairs.every((V)=>V.price!==void 0)){let V=await X($,Z,!0);return G(V),Q(V,Z),this.combineSignedPrices(V)}else{this.log(`⭐ ${$.pairs.map((W)=>W.from+"-"+W.to)} Fetching initial prices for verification...`);let V=Math.min(Z,3)||1,K=await X($,V);G(K),Q(K,V);let q=await Y(K),D=await X(q,Z,!0);return G(D),Q(D,Z),this.log(`\uD83D\uDFE2 Verifications: ${D.length}`),this.combineSignedPrices(D)}}combineSignedPrices($){if($.length===0)return[];return $[0].result.signedPrices.map((X)=>{let Q=$.flatMap((G)=>G.result.signedPrices.filter((Y)=>Y.priceData.from===X.priceData.from&&Y.priceData.to===X.priceData.to));return{priceData:X.priceData,packed:Q.map((G)=>G.packed),signatures:Q.map((G)=>G.signature),pubKeys:Q.map((G)=>G.pubKey)}})}async getExchanges($,Z=0){return this.sendRequestToOracles("checkExchangeHealth",$||{},Z).then((X)=>{let Q=new Set;return X.forEach((G)=>{G.result.healthStatuses.filter((Y)=>Y.status==="up").forEach((Y)=>Q.add(Y.exchangeId))}),Array.from(Q)}).catch((X)=>{throw this.log(`❌ Error checking exchange health: ${X}`,"error"),X})}async ping(){await this.initPromise;try{let $=await this.sendRequestToOracles("ping",{},this.oracles.length,!1);if($.length===0)throw new Error("No response received from oracles");return $.map((X)=>({status:X.result.status,timestamp:X.result.timestamp,pubKey:this.idToPubKeyMap[X.sender]}))}catch($){throw this.log(`❌ Error pinging oracles: ${$}`,"error"),$}}async getOracles(){return await this.initPromise,this.oracles}async close(){await this.initPromise,this.client.close()}log($,Z="default"){switch(Z){case"warn":console.warn($);break;case"error":console.error($);break;default:if(this.logging)console.log($)}}}T9.AcelonSdk=gX});var F4=["https://node.ghostnet.etherlink.com","https://etherlink-testnet.rpc.thirdweb.com","https://etherlink-ghostnet.blockpi.network/v1/rpc/public"],n7="0x09C6fcBe3EcCcD0Ff4B34Ea33460DcfAAA583487",n1={gasLimit:_STD_.env.GAS_LIMIT||"10000000",maxFeePerGas:_STD_.env.MAX_FEE_PER_GAS||"1000000000",maxPriorityFeePerGas:_STD_.env.MAX_PRIORITY_FEE_PER_GAS||"1000000000"};async function oX($,Z=5000){try{let X=new Promise((V,K)=>{setTimeout(()=>K(new Error(`Timeout checking ${$}`)),Z)}),Q=fetch($,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_blockNumber",params:[],id:1})}),G=await Promise.race([Q,X]);if(!G.ok)return!1;let Y=await G.json();return Y&&Y.result&&typeof Y.result==="string"&&Y.result.startsWith("0x")}catch(X){return l(`⚠️ RPC ${$} not reachable: ${X}`,"warn"),!1}}async function a7(){if(!F4||F4.length===0)return l("❌ No RPC URLs provided to check","error"),null;l(`\uD83D\uDD0D Checking ${F4.length} Etherlink RPC endpoints for reachability...`);for(let $ of F4)try{if(await oX($))return l(`✅ Found reachable Etherlink RPC: ${$}`),$}catch(Z){l(`❌ Error checking RPC ${$}: ${Z}`,"error")}return l("❌ No reachable Etherlink RPC endpoints found","error"),null}function l($,Z="default"){switch(Z){case"warn":console.warn($);break;case"error":console.error($);break;default:console.log($)}}var o7="6.14.4";function rX($,Z,X){let Q=Z.split("|").map((Y)=>Y.trim());for(let Y=0;Y<Q.length;Y++)switch(Z){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof $===Z)return}let G=new Error(`invalid value for type ${Z}`);throw G.code="INVALID_ARGUMENT",G.argument=`value.${X}`,G.value=$,G}function h($,Z,X){for(let Q in Z){let G=Z[Q],Y=X?X[Q]:null;if(Y)rX(G,Y,Q);Object.defineProperty($,Q,{enumerable:!0,value:G,writable:!1})}}function p8($,Z){if($==null)return"null";if(Z==null)Z=new Set;if(typeof $==="object"){if(Z.has($))return"[Circular]";Z.add($)}if(Array.isArray($))return"[ "+$.map((X)=>p8(X,Z)).join(", ")+" ]";if($ instanceof Uint8Array){let Q="0x";for(let G=0;G<$.length;G++)Q+="0123456789abcdef"[$[G]>>4],Q+="0123456789abcdef"[$[G]&15];return Q}if(typeof $==="object"&&typeof $.toJSON==="function")return p8($.toJSON(),Z);switch(typeof $){case"boolean":case"number":case"symbol":return $.toString();case"bigint":return BigInt($).toString();case"string":return JSON.stringify($);case"object":{let X=Object.keys($);return X.sort(),"{ "+X.map((Q)=>`${p8(Q,Z)}: ${p8($[Q],Z)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function t4($,Z){return $&&$.code===Z}function s4($,Z,X){let Q=$;{let Y=[];if(X){if("message"in X||"code"in X||"name"in X)throw new Error(`value will overwrite populated values: ${p8(X)}`);for(let V in X){if(V==="shortMessage")continue;let K=X[V];Y.push(V+"="+p8(K))}}if(Y.push(`code=${Z}`),Y.push(`version=${o7}`),Y.length)$+=" ("+Y.join(", ")+")"}let G;switch(Z){case"INVALID_ARGUMENT":G=new TypeError($);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":G=new RangeError($);break;default:G=new Error($)}if(h(G,{code:Z}),X)Object.assign(G,X);if(G.shortMessage==null)h(G,{shortMessage:Q});return G}function u($,Z,X,Q){if(!$)throw s4(Z,X,Q)}function N($,Z,X,Q){u($,Z,"INVALID_ARGUMENT",{argument:X,value:Q})}function T4($,Z,X){if(X==null)X="";if(X)X=": "+X;u($>=Z,"missing argument"+X,"MISSING_ARGUMENT",{count:$,expectedCount:Z}),u($<=Z,"too many arguments"+X,"UNEXPECTED_ARGUMENT",{count:$,expectedCount:Z})}var tX=["NFD","NFC","NFKD","NFKC"].reduce(($,Z)=>{try{if("test".normalize(Z)!=="test")throw new Error("bad");if(Z==="NFD"){let X=String.fromCharCode(233).normalize("NFD"),Q=String.fromCharCode(101,769);if(X!==Q)throw new Error("broken")}$.push(Z)}catch(X){}return $},[]);function p9($){u(tX.indexOf($)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:$}})}function u8($,Z,X){if(X==null)X="";if($!==Z){let Q=X,G="new";if(X)Q+=".",G+=" "+X;u(!1,`private constructor; use ${Q}from* methods`,"UNSUPPORTED_OPERATION",{operation:G})}}function t7($,Z,X){if($ instanceof Uint8Array){if(X)return new Uint8Array($);return $}if(typeof $==="string"&&$.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let Q=new Uint8Array(($.length-2)/2),G=2;for(let Y=0;Y<Q.length;Y++)Q[Y]=parseInt($.substring(G,G+2),16),G+=2;return Q}N(!1,"invalid BytesLike value",Z||"value",$)}function Z1($,Z){return t7($,Z,!1)}function X1($,Z){return t7($,Z,!0)}function l8($,Z){if(typeof $!=="string"||!$.match(/^0x[0-9A-Fa-f]*$/))return!1;if(typeof Z==="number"&&$.length!==2+2*Z)return!1;if(Z===!0&&$.length%2!==0)return!1;return!0}var r7="0123456789abcdef";function $0($){let Z=Z1($),X="0x";for(let Q=0;Q<Z.length;Q++){let G=Z[Q];X+=r7[(G&240)>>4]+r7[G&15]}return X}function a1($){return"0x"+$.map((Z)=>$0(Z).substring(2)).join("")}function K8($,Z,X){let Q=Z1($);if(X!=null&&X>Q.length)u(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:Q,length:Q.length,offset:X});return $0(Q.slice(Z==null?0:Z,X==null?Q.length:X))}function s7($,Z,X){let Q=Z1($);u(Z>=Q.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(Q),length:Z,offset:Z+1});let G=new Uint8Array(Z);if(G.fill(0),X)G.set(Q,Z-Q.length);else G.set(Q,0);return $0(G)}function u9($,Z){return s7($,Z,!0)}function l9($,Z){return s7($,Z,!1)}var e4=BigInt(0),F1=BigInt(1),m8=9007199254740991;function m9($,Z){let X=E4($,"value"),Q=BigInt(T1(Z,"width"));if(u(X>>Q===e4,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:$}),X>>Q-F1){let G=(F1<<Q)-F1;return-((~X&G)+F1)}return X}function i9($,Z){let X=w1($,"value"),Q=BigInt(T1(Z,"width")),G=F1<<Q-F1;if(X<e4){X=-X,u(X<=G,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});let Y=(F1<<Q)-F1;return(~X&Y)+F1}else u(X<G,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});return X}function i8($,Z){let X=E4($,"value"),Q=BigInt(T1(Z,"bits"));return X&(F1<<Q)-F1}function w1($,Z){switch(typeof $){case"bigint":return $;case"number":return N(Number.isInteger($),"underflow",Z||"value",$),N($>=-m8&&$<=m8,"overflow",Z||"value",$),BigInt($);case"string":try{if($==="")throw new Error("empty string");if($[0]==="-"&&$[1]!=="-")return-BigInt($.substring(1));return BigInt($)}catch(X){N(!1,`invalid BigNumberish string: ${X.message}`,Z||"value",$)}}N(!1,"invalid BigNumberish value",Z||"value",$)}function E4($,Z){let X=w1($,Z);return u(X>=e4,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:$}),X}var e7="0123456789abcdef";function $6($){if($ instanceof Uint8Array){let Z="0x0";for(let X of $)Z+=e7[X>>4],Z+=e7[X&15];return BigInt(Z)}return w1($)}function T1($,Z){switch(typeof $){case"bigint":return N($>=-m8&&$<=m8,"overflow",Z||"value",$),Number($);case"number":return N(Number.isInteger($),"underflow",Z||"value",$),N($>=-m8&&$<=m8,"overflow",Z||"value",$),$;case"string":try{if($==="")throw new Error("empty string");return T1(BigInt($),Z)}catch(X){N(!1,`invalid numeric string: ${X.message}`,Z||"value",$)}}N(!1,"invalid numeric value",Z||"value",$)}function n9($){return T1($6($))}function C4($,Z){let Q=E4($,"value").toString(16);if(Z==null){if(Q.length%2)Q="0"+Q}else{let G=T1(Z,"width");u(G*2>=Q.length,`value exceeds width (${G} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:$});while(Q.length<G*2)Q="0"+Q}return"0x"+Q}function a9($){let Z=E4($,"value");if(Z===e4)return new Uint8Array([]);let X=Z.toString(16);if(X.length%2)X="0"+X;let Q=new Uint8Array(X.length/2);for(let G=0;G<Q.length;G++){let Y=G*2;Q[G]=parseInt(X.substring(Y,Y+2),16)}return Q}function sX($,Z,X,Q,G){N(!1,`invalid codepoint at offset ${Z}; ${$}`,"bytes",X)}function $3($,Z,X,Q,G){if($==="BAD_PREFIX"||$==="UNEXPECTED_CONTINUE"){let Y=0;for(let V=Z+1;V<X.length;V++){if(X[V]>>6!==2)break;Y++}return Y}if($==="OVERRUN")return X.length-Z-1;return 0}function eX($,Z,X,Q,G){if($==="OVERLONG")return N(typeof G==="number","invalid bad code point for replacement","badCodepoint",G),Q.push(G),0;return Q.push(65533),$3($,Z,X,Q,G)}var Z3=Object.freeze({error:sX,ignore:$3,replace:eX});function $G($,Z){if(Z==null)Z=Z3.error;let X=Z1($,"bytes"),Q=[],G=0;while(G<X.length){let Y=X[G++];if(Y>>7===0){Q.push(Y);continue}let V=null,K=null;if((Y&224)===192)V=1,K=127;else if((Y&240)===224)V=2,K=2047;else if((Y&248)===240)V=3,K=65535;else{if((Y&192)===128)G+=Z("UNEXPECTED_CONTINUE",G-1,X,Q);else G+=Z("BAD_PREFIX",G-1,X,Q);continue}if(G-1+V>=X.length){G+=Z("OVERRUN",G-1,X,Q);continue}let q=Y&(1<<8-V-1)-1;for(let D=0;D<V;D++){let W=X[G];if((W&192)!=128){G+=Z("MISSING_CONTINUE",G,X,Q),q=null;break}q=q<<6|W&63,G++}if(q===null)continue;if(q>1114111){G+=Z("OUT_OF_RANGE",G-1-V,X,Q,q);continue}if(q>=55296&&q<=57343){G+=Z("UTF16_SURROGATE",G-1-V,X,Q,q);continue}if(q<=K){G+=Z("OVERLONG",G-1-V,X,Q,q);continue}Q.push(q)}return Q}function _4($,Z){if(N(typeof $==="string","invalid string value","str",$),Z!=null)p9(Z),$=$.normalize(Z);let X=[];for(let Q=0;Q<$.length;Q++){let G=$.charCodeAt(Q);if(G<128)X.push(G);else if(G<2048)X.push(G>>6|192),X.push(G&63|128);else if((G&64512)==55296){Q++;let Y=$.charCodeAt(Q);N(Q<$.length&&(Y&64512)===56320,"invalid surrogate pair","str",$);let V=65536+((G&1023)<<10)+(Y&1023);X.push(V>>18|240),X.push(V>>12&63|128),X.push(V>>6&63|128),X.push(V&63|128)}else X.push(G>>12|224),X.push(G>>6&63|128),X.push(G&63|128)}return new Uint8Array(X)}function ZG($){return $.map((Z)=>{if(Z<=65535)return String.fromCharCode(Z);return Z-=65536,String.fromCharCode((Z>>10&1023)+55296,(Z&1023)+56320)}).join("")}function o9($,Z){return ZG($G($,Z))}var n0=32,r9=new Uint8Array(n0),XG=["then"],Z6={},Q3=new WeakMap;function S8($){return Q3.get($)}function X3($,Z){Q3.set($,Z)}function S4($,Z){let X=new Error(`deferred error during ABI decoding triggered accessing ${$}`);throw X.error=Z,X}function t9($,Z,X){if($.indexOf(null)>=0)return Z.map((Q,G)=>{if(Q instanceof K1)return t9(S8(Q),Q,X);return Q});return $.reduce((Q,G,Y)=>{let V=Z.getValue(G);if(!(G in Q)){if(X&&V instanceof K1)V=t9(S8(V),V,X);Q[G]=V}return Q},{})}class K1 extends Array{#$;constructor(...$){let Z=$[0],X=$[1],Q=($[2]||[]).slice(),G=!0;if(Z!==Z6)X=$,Q=[],G=!1;super(X.length);X.forEach((K,q)=>{this[q]=K});let Y=Q.reduce((K,q)=>{if(typeof q==="string")K.set(q,(K.get(q)||0)+1);return K},new Map);if(X3(this,Object.freeze(X.map((K,q)=>{let D=Q[q];if(D!=null&&Y.get(D)===1)return D;return null}))),this.#$=[],this.#$==null)this.#$;if(!G)return;Object.freeze(this);let V=new Proxy(this,{get:(K,q,D)=>{if(typeof q==="string"){if(q.match(/^[0-9]+$/)){let R=T1(q,"%index");if(R<0||R>=this.length)throw new RangeError("out of result range");let T=K[R];if(T instanceof Error)S4(`index ${R}`,T);return T}if(XG.indexOf(q)>=0)return Reflect.get(K,q,D);let W=K[q];if(W instanceof Function)return function(...R){return W.apply(this===D?K:this,R)};else if(!(q in K))return K.getValue.apply(this===D?K:this,[q])}return Reflect.get(K,q,D)}});return X3(V,S8(this)),V}toArray($){let Z=[];return this.forEach((X,Q)=>{if(X instanceof Error)S4(`index ${Q}`,X);if($&&X instanceof K1)X=X.toArray($);Z.push(X)}),Z}toObject($){let Z=S8(this);return Z.reduce((X,Q,G)=>{return u(Q!=null,`value at index ${G} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),t9(Z,this,$)},{})}slice($,Z){if($==null)$=0;if($<0){if($+=this.length,$<0)$=0}if(Z==null)Z=this.length;if(Z<0){if(Z+=this.length,Z<0)Z=0}if(Z>this.length)Z=this.length;let X=S8(this),Q=[],G=[];for(let Y=$;Y<Z;Y++)Q.push(this[Y]),G.push(X[Y]);return new K1(Z6,Q,G)}filter($,Z){let X=S8(this),Q=[],G=[];for(let Y=0;Y<this.length;Y++){let V=this[Y];if(V instanceof Error)S4(`index ${Y}`,V);if($.call(Z,V,Y,this))Q.push(V),G.push(X[Y])}return new K1(Z6,Q,G)}map($,Z){let X=[];for(let Q=0;Q<this.length;Q++){let G=this[Q];if(G instanceof Error)S4(`index ${Q}`,G);X.push($.call(Z,G,Q,this))}return X}getValue($){let Z=S8(this).indexOf($);if(Z===-1)return;let X=this[Z];if(X instanceof Error)S4(`property ${JSON.stringify($)}`,X.error);return X}static fromItems($,Z){return new K1(Z6,$,Z)}}function G3($){let Z=a9($);if(u(Z.length<=n0,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Z,length:n0,offset:Z.length}),Z.length!==n0)Z=X1(a1([r9.slice(Z.length%n0),Z]));return Z}class y0{name;type;localName;dynamic;constructor($,Z,X,Q){h(this,{name:$,type:Z,localName:X,dynamic:Q},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError($,Z){N(!1,$,this.localName,Z)}}class n8{#$;#Z;constructor(){this.#$=[],this.#Z=0}get data(){return a1(this.#$)}get length(){return this.#Z}#X($){return this.#$.push($),this.#Z+=$.length,$.length}appendWriter($){return this.#X(X1($.data))}writeBytes($){let Z=X1($),X=Z.length%n0;if(X)Z=X1(a1([Z,r9.slice(X)]));return this.#X(Z)}writeValue($){return this.#X(G3($))}writeUpdatableValue(){let $=this.#$.length;return this.#$.push(r9),this.#Z+=n0,(Z)=>{this.#$[$]=G3(Z)}}}class X6{allowLoose;#$;#Z;#X;#G;#Q;constructor($,Z,X){h(this,{allowLoose:!!Z}),this.#$=X1($),this.#X=0,this.#G=null,this.#Q=X!=null?X:1024,this.#Z=0}get data(){return $0(this.#$)}get dataLength(){return this.#$.length}get consumed(){return this.#Z}get bytes(){return new Uint8Array(this.#$)}#Y($){if(this.#G)return this.#G.#Y($);this.#X+=$,u(this.#Q<1||this.#X<=this.#Q*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#Q} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:X1(this.#$),offset:this.#Z,length:$,info:{bytesRead:this.#X,dataLength:this.dataLength}})}#J($,Z,X){let Q=Math.ceil(Z/n0)*n0;if(this.#Z+Q>this.#$.length)if(this.allowLoose&&X&&this.#Z+Z<=this.#$.length)Q=Z;else u(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:X1(this.#$),length:this.#$.length,offset:this.#Z+Q});return this.#$.slice(this.#Z,this.#Z+Q)}subReader($){let Z=new X6(this.#$.slice(this.#Z+$),this.allowLoose,this.#Q);return Z.#G=this,Z}readBytes($,Z){let X=this.#J(0,$,!!Z);return this.#Y($),this.#Z+=X.length,X.slice(0,$)}readValue(){return $6(this.readBytes(n0))}readIndex(){return n9(this.readBytes(n0))}}function s9($){if(!Number.isSafeInteger($)||$<0)throw new Error(`Wrong positive integer: ${$}`)}function e9($,...Z){if(!($ instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Z.length>0&&!Z.includes($.length))throw new Error(`Expected Uint8Array of length ${Z}, not of length=${$.length}`)}function $5($,Z=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(Z&&$.finished)throw new Error("Hash#digest() has already been called")}function Y3($,Z){e9($);let X=Z.outputLen;if($.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}var G6=BigInt(4294967295),J3=BigInt(32);function GG($,Z=!1){if(Z)return{h:Number($&G6),l:Number($>>J3&G6)};return{h:Number($>>J3&G6)|0,l:Number($&G6)|0}}function V3($,Z=!1){let X=new Uint32Array($.length),Q=new Uint32Array($.length);for(let G=0;G<$.length;G++){let{h:Y,l:V}=GG($[G],Z);[X[G],Q[G]]=[Y,V]}return[X,Q]}var O3=($,Z,X)=>$<<X|Z>>>32-X,K3=($,Z,X)=>Z<<X|$>>>32-X,H3=($,Z,X)=>Z<<X-32|$>>>64-X,q3=($,Z,X)=>$<<X-32|Z>>>64-X;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */var QG=($)=>$ instanceof Uint8Array;var I3=($)=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4));var YG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!YG)throw new Error("Non little-endian hardware is not supported");function JG($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function Z5($){if(typeof $==="string")$=JG($);if(!QG($))throw new Error(`expected Uint8Array, got ${typeof $}`);return $}class X5{clone(){return this._cloneInto()}}var tH={}.toString;function D3($){let Z=(Q)=>$().update(Z5(Q)).digest(),X=$();return Z.outputLen=X.outputLen,Z.blockLen=X.blockLen,Z.create=()=>$(),Z}var[M3,U3,A3]=[[],[],[]],VG=BigInt(0),L4=BigInt(1),OG=BigInt(2),KG=BigInt(7),HG=BigInt(256),qG=BigInt(113);for(let $=0,Z=L4,X=1,Q=0;$<24;$++){[X,Q]=[Q,(2*X+3*Q)%5],M3.push(2*(5*Q+X)),U3.push(($+1)*($+2)/2%64);let G=VG;for(let Y=0;Y<7;Y++)if(Z=(Z<<L4^(Z>>KG)*qG)%HG,Z&OG)G^=L4<<(L4<<BigInt(Y))-L4;A3.push(G)}var[IG,DG]=V3(A3,!0),W3=($,Z,X)=>X>32?H3($,Z,X):O3($,Z,X),z3=($,Z,X)=>X>32?q3($,Z,X):K3($,Z,X);function WG($,Z=24){let X=new Uint32Array(10);for(let Q=24-Z;Q<24;Q++){for(let V=0;V<10;V++)X[V]=$[V]^$[V+10]^$[V+20]^$[V+30]^$[V+40];for(let V=0;V<10;V+=2){let K=(V+8)%10,q=(V+2)%10,D=X[q],W=X[q+1],R=W3(D,W,1)^X[K],T=z3(D,W,1)^X[K+1];for(let C=0;C<50;C+=10)$[V+C]^=R,$[V+C+1]^=T}let G=$[2],Y=$[3];for(let V=0;V<24;V++){let K=U3[V],q=W3(G,Y,K),D=z3(G,Y,K),W=M3[V];G=$[W],Y=$[W+1],$[W]=q,$[W+1]=D}for(let V=0;V<50;V+=10){for(let K=0;K<10;K++)X[K]=$[V+K];for(let K=0;K<10;K++)$[V+K]^=~X[(K+2)%10]&X[(K+4)%10]}$[0]^=IG[Q],$[1]^=DG[Q]}X.fill(0)}class G5 extends X5{constructor($,Z,X,Q=!1,G=24){super();if(this.blockLen=$,this.suffix=Z,this.outputLen=X,this.enableXOF=Q,this.rounds=G,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s9(X),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=I3(this.state)}keccak(){WG(this.state32,this.rounds),this.posOut=0,this.pos=0}update($){$5(this);let{blockLen:Z,state:X}=this;$=Z5($);let Q=$.length;for(let G=0;G<Q;){let Y=Math.min(Z-this.pos,Q-G);for(let V=0;V<Y;V++)X[this.pos++]^=$[G++];if(this.pos===Z)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:$,suffix:Z,pos:X,blockLen:Q}=this;if($[X]^=Z,(Z&128)!==0&&X===Q-1)this.keccak();$[Q-1]^=128,this.keccak()}writeInto($){$5(this,!1),e9($),this.finish();let Z=this.state,{blockLen:X}=this;for(let Q=0,G=$.length;Q<G;){if(this.posOut>=X)this.keccak();let Y=Math.min(X-this.posOut,G-Q);$.set(Z.subarray(this.posOut,this.posOut+Y),Q),this.posOut+=Y,Q+=Y}return $}xofInto($){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto($)}xof($){return s9($),this.xofInto(new Uint8Array($))}digestInto($){if(Y3($,this),this.finished)throw new Error("digest() was already called");return this.writeInto($),this.destroy(),$}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto($){let{blockLen:Z,suffix:X,outputLen:Q,rounds:G,enableXOF:Y}=this;return $||($=new G5(Z,X,Q,Y,G)),$.state32.set(this.state32),$.pos=this.pos,$.posOut=this.posOut,$.finished=this.finished,$.rounds=G,$.suffix=X,$.outputLen=Q,$.enableXOF=Y,$.destroyed=this.destroyed,$}}var zG=($,Z,X)=>D3(()=>new G5(Z,$,X));var R3=zG(1,136,32);var f3=!1,F3=function($){return R3($)},T3=F3;function D1($){let Z=Z1($,"data");return $0(T3(Z))}D1._=F3;D1.lock=function(){f3=!0};D1.register=function($){if(f3)throw new TypeError("keccak256 is locked");T3=$};Object.freeze(D1);var MG=BigInt(0),UG=BigInt(36);function E3($){$=$.toLowerCase();let Z=$.substring(2).split(""),X=new Uint8Array(40);for(let G=0;G<40;G++)X[G]=Z[G].charCodeAt(0);let Q=Z1(D1(X));for(let G=0;G<40;G+=2){if(Q[G>>1]>>4>=8)Z[G]=Z[G].toUpperCase();if((Q[G>>1]&15)>=8)Z[G+1]=Z[G+1].toUpperCase()}return"0x"+Z.join("")}var Q5={};for(let $=0;$<10;$++)Q5[String($)]=String($);for(let $=0;$<26;$++)Q5[String.fromCharCode(65+$)]=String(10+$);var C3=15;function AG($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let Z=$.split("").map((Q)=>{return Q5[Q]}).join("");while(Z.length>=C3){let Q=Z.substring(0,C3);Z=parseInt(Q,10)%97+Z.substring(Q.length)}let X=String(98-parseInt(Z,10)%97);while(X.length<2)X="0"+X;return X}var RG=function(){let $={};for(let Z=0;Z<36;Z++){let X="0123456789abcdefghijklmnopqrstuvwxyz"[Z];$[X]=BigInt(Z)}return $}();function fG($){$=$.toLowerCase();let Z=MG;for(let X=0;X<$.length;X++)Z=Z*UG+RG[$[X]];return Z}function L8($){if(N(typeof $==="string","invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!$.startsWith("0x"))$="0x"+$;let Z=E3($);return N(!$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Z===$,"bad address checksum","address",$),Z}if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){N($.substring(2,4)===AG($),"bad icap checksum","address",$);let Z=fG($.substring(4)).toString(16);while(Z.length<40)Z="0"+Z;return E3("0x"+Z)}N(!1,"invalid address","address",$)}var E1={};function P($,Z){let X=!1;if(Z<0)X=!0,Z*=-1;return new g(E1,`${X?"":"u"}int${Z}`,$,{signed:X,width:Z})}function y($,Z){return new g(E1,`bytes${Z?Z:""}`,$,{size:Z})}var _3=Symbol.for("_ethers_typed");class g{type;value;#$;_typedSymbol;constructor($,Z,X,Q){if(Q==null)Q=null;u8(E1,$,"Typed"),h(this,{_typedSymbol:_3,type:Z,value:X}),this.#$=Q,this.format()}format(){if(this.type==="array")throw new Error("");else if(this.type==="dynamicArray")throw new Error("");else if(this.type==="tuple")return`tuple(${this.value.map(($)=>$.format()).join(",")})`;return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#$}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");if(this.#$===!0)return-1;if(this.#$===!1)return this.value.length;return null}static from($,Z){return new g(E1,$,Z)}static uint8($){return P($,8)}static uint16($){return P($,16)}static uint24($){return P($,24)}static uint32($){return P($,32)}static uint40($){return P($,40)}static uint48($){return P($,48)}static uint56($){return P($,56)}static uint64($){return P($,64)}static uint72($){return P($,72)}static uint80($){return P($,80)}static uint88($){return P($,88)}static uint96($){return P($,96)}static uint104($){return P($,104)}static uint112($){return P($,112)}static uint120($){return P($,120)}static uint128($){return P($,128)}static uint136($){return P($,136)}static uint144($){return P($,144)}static uint152($){return P($,152)}static uint160($){return P($,160)}static uint168($){return P($,168)}static uint176($){return P($,176)}static uint184($){return P($,184)}static uint192($){return P($,192)}static uint200($){return P($,200)}static uint208($){return P($,208)}static uint216($){return P($,216)}static uint224($){return P($,224)}static uint232($){return P($,232)}static uint240($){return P($,240)}static uint248($){return P($,248)}static uint256($){return P($,256)}static uint($){return P($,256)}static int8($){return P($,-8)}static int16($){return P($,-16)}static int24($){return P($,-24)}static int32($){return P($,-32)}static int40($){return P($,-40)}static int48($){return P($,-48)}static int56($){return P($,-56)}static int64($){return P($,-64)}static int72($){return P($,-72)}static int80($){return P($,-80)}static int88($){return P($,-88)}static int96($){return P($,-96)}static int104($){return P($,-104)}static int112($){return P($,-112)}static int120($){return P($,-120)}static int128($){return P($,-128)}static int136($){return P($,-136)}static int144($){return P($,-144)}static int152($){return P($,-152)}static int160($){return P($,-160)}static int168($){return P($,-168)}static int176($){return P($,-176)}static int184($){return P($,-184)}static int192($){return P($,-192)}static int200($){return P($,-200)}static int208($){return P($,-208)}static int216($){return P($,-216)}static int224($){return P($,-224)}static int232($){return P($,-232)}static int240($){return P($,-240)}static int248($){return P($,-248)}static int256($){return P($,-256)}static int($){return P($,-256)}static bytes1($){return y($,1)}static bytes2($){return y($,2)}static bytes3($){return y($,3)}static bytes4($){return y($,4)}static bytes5($){return y($,5)}static bytes6($){return y($,6)}static bytes7($){return y($,7)}static bytes8($){return y($,8)}static bytes9($){return y($,9)}static bytes10($){return y($,10)}static bytes11($){return y($,11)}static bytes12($){return y($,12)}static bytes13($){return y($,13)}static bytes14($){return y($,14)}static bytes15($){return y($,15)}static bytes16($){return y($,16)}static bytes17($){return y($,17)}static bytes18($){return y($,18)}static bytes19($){return y($,19)}static bytes20($){return y($,20)}static bytes21($){return y($,21)}static bytes22($){return y($,22)}static bytes23($){return y($,23)}static bytes24($){return y($,24)}static bytes25($){return y($,25)}static bytes26($){return y($,26)}static bytes27($){return y($,27)}static bytes28($){return y($,28)}static bytes29($){return y($,29)}static bytes30($){return y($,30)}static bytes31($){return y($,31)}static bytes32($){return y($,32)}static address($){return new g(E1,"address",$)}static bool($){return new g(E1,"bool",!!$)}static bytes($){return new g(E1,"bytes",$)}static string($){return new g(E1,"string",$)}static array($,Z){throw new Error("not implemented yet")}static tuple($,Z){throw new Error("not implemented yet")}static overrides($){return new g(E1,"overrides",Object.assign({},$))}static isTyped($){return $&&typeof $==="object"&&"_typedSymbol"in $&&$._typedSymbol===_3}static dereference($,Z){if(g.isTyped($)){if($.type!==Z)throw new Error(`invalid type: expecetd ${Z}, got ${$.type}`);return $.value}return $}}class Y5 extends y0{constructor($){super("address","address",$,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode($,Z){let X=g.dereference(Z,"string");try{X=L8(X)}catch(Q){return this._throwError(Q.message,Z)}return $.writeValue(X)}decode($){return L8(C4($.readValue(),20))}}class J5 extends y0{coder;constructor($){super($.name,$.type,"_",$.dynamic);this.coder=$}defaultValue(){return this.coder.defaultValue()}encode($,Z){return this.coder.encode($,Z)}decode($){return this.coder.decode($)}}function V5($,Z,X){let Q=[];if(Array.isArray(X))Q=X;else if(X&&typeof X==="object"){let q={};Q=Z.map((D)=>{let W=D.localName;return u(W,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:D},value:X}),u(!q[W],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:D},value:X}),q[W]=!0,X[W]})}else N(!1,"invalid tuple value","tuple",X);N(Z.length===Q.length,"types/value length mismatch","tuple",X);let G=new n8,Y=new n8,V=[];Z.forEach((q,D)=>{let W=Q[D];if(q.dynamic){let R=Y.length;q.encode(Y,W);let T=G.writeUpdatableValue();V.push((C)=>{T(C+R)})}else q.encode(G,W)}),V.forEach((q)=>{q(G.length)});let K=$.appendWriter(G);return K+=$.appendWriter(Y),K}function O5($,Z){let X=[],Q=[],G=$.subReader(0);return Z.forEach((Y)=>{let V=null;if(Y.dynamic){let K=$.readIndex(),q=G.subReader(K);try{V=Y.decode(q)}catch(D){if(t4(D,"BUFFER_OVERRUN"))throw D;V=D,V.baseType=Y.name,V.name=Y.localName,V.type=Y.type}}else try{V=Y.decode($)}catch(K){if(t4(K,"BUFFER_OVERRUN"))throw K;V=K,V.baseType=Y.name,V.name=Y.localName,V.type=Y.type}if(V==null)throw new Error("investigate");X.push(V),Q.push(Y.localName||null)}),K1.fromItems(X,Q)}class K5 extends y0{coder;length;constructor($,Z,X){let Q=$.type+"["+(Z>=0?Z:"")+"]",G=Z===-1||$.dynamic;super("array",Q,X,G);h(this,{coder:$,length:Z})}defaultValue(){let $=this.coder.defaultValue(),Z=[];for(let X=0;X<this.length;X++)Z.push($);return Z}encode($,Z){let X=g.dereference(Z,"array");if(!Array.isArray(X))this._throwError("expected array value",X);let Q=this.length;if(Q===-1)Q=X.length,$.writeValue(X.length);T4(X.length,Q,"coder array"+(this.localName?" "+this.localName:""));let G=[];for(let Y=0;Y<X.length;Y++)G.push(this.coder);return V5($,G,X)}decode($){let Z=this.length;if(Z===-1)Z=$.readIndex(),u(Z*n0<=$.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:$.bytes,offset:Z*n0,length:$.dataLength});let X=[];for(let Q=0;Q<Z;Q++)X.push(new J5(this.coder));return O5($,X)}}class H5 extends y0{constructor($){super("bool","bool",$,!1)}defaultValue(){return!1}encode($,Z){let X=g.dereference(Z,"bool");return $.writeValue(X?1:0)}decode($){return!!$.readValue()}}class Q6 extends y0{constructor($,Z){super($,$,Z,!0)}defaultValue(){return"0x"}encode($,Z){Z=X1(Z);let X=$.writeValue(Z.length);return X+=$.writeBytes(Z),X}decode($){return $.readBytes($.readIndex(),!0)}}class q5 extends Q6{constructor($){super("bytes",$)}decode($){return $0(super.decode($))}}class I5 extends y0{size;constructor($,Z){let X="bytes"+String($);super(X,X,Z,!1);h(this,{size:$},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode($,Z){let X=X1(g.dereference(Z,this.type));if(X.length!==this.size)this._throwError("incorrect data length",Z);return $.writeBytes(X)}decode($){return $0($.readBytes(this.size))}}var FG=new Uint8Array([]);class D5 extends y0{constructor($){super("null","",$,!1)}defaultValue(){return null}encode($,Z){if(Z!=null)this._throwError("not null",Z);return $.writeBytes(FG)}decode($){return $.readBytes(0),null}}var TG=BigInt(0),EG=BigInt(1),CG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class W5 extends y0{size;signed;constructor($,Z,X){let Q=(Z?"int":"uint")+$*8;super(Q,Q,X,!1);h(this,{size:$,signed:Z},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode($,Z){let X=w1(g.dereference(Z,this.type)),Q=i8(CG,n0*8);if(this.signed){let G=i8(Q,this.size*8-1);if(X>G||X<-(G+EG))this._throwError("value out-of-bounds",Z);X=i9(X,8*n0)}else if(X<TG||X>i8(Q,this.size*8))this._throwError("value out-of-bounds",Z);return $.writeValue(X)}decode($){let Z=i8($.readValue(),this.size*8);if(this.signed)Z=m9(Z,this.size*8);return Z}}class z5 extends Q6{constructor($){super("string",$)}defaultValue(){return""}encode($,Z){return super.encode($,_4(g.dereference(Z,"string")))}decode($){return o9(super.decode($))}}class a8 extends y0{coders;constructor($,Z){let X=!1,Q=[];$.forEach((Y)=>{if(Y.dynamic)X=!0;Q.push(Y.type)});let G="tuple("+Q.join(",")+")";super("tuple",G,Z,X);h(this,{coders:Object.freeze($.slice())})}defaultValue(){let $=[];this.coders.forEach((X)=>{$.push(X.defaultValue())});let Z=this.coders.reduce((X,Q)=>{let G=Q.localName;if(G){if(!X[G])X[G]=0;X[G]++}return X},{});return this.coders.forEach((X,Q)=>{let G=X.localName;if(!G||Z[G]!==1)return;if(G==="length")G="_length";if($[G]!=null)return;$[G]=$[Q]}),Object.freeze($)}encode($,Z){let X=g.dereference(Z,"tuple");return V5($,this.coders,X)}decode($){return O5($,this.coders)}}function H8($){return D1(_4($))}function G1($){let Z=new Set;return $.forEach((X)=>Z.add(X)),Object.freeze(Z)}var _G="external public payable override",SG=G1(_G.split(" ")),c3="constant external internal payable private public pure view override",LG=G1(c3.split(" ")),v3="constructor error event fallback function receive struct",k3=G1(v3.split(" ")),h3="calldata memory storage payable indexed",NG=G1(h3.split(" ")),PG="tuple returns",BG=[v3,h3,PG,c3].join(" "),xG=G1(BG.split(" ")),jG={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},wG=new RegExp("^(\\s*)"),bG=new RegExp("^([0-9]+)"),cG=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),d3=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),y3=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class M1{#$;#Z;get offset(){return this.#$}get length(){return this.#Z.length-this.#$}constructor($){this.#$=0,this.#Z=$.slice()}clone(){return new M1(this.#Z)}reset(){this.#$=0}#X($=0,Z=0){return new M1(this.#Z.slice($,Z).map((X)=>{return Object.freeze(Object.assign({},X,{match:X.match-$,linkBack:X.linkBack-$,linkNext:X.linkNext-$}))}))}popKeyword($){let Z=this.peek();if(Z.type!=="KEYWORD"||!$.has(Z.text))throw new Error(`expected keyword ${Z.text}`);return this.pop().text}popType($){if(this.peek().type!==$){let Z=this.peek();throw new Error(`expected ${$}; got ${Z.type} ${JSON.stringify(Z.text)}`)}return this.pop().text}popParen(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Z=this.#X(this.#$+1,$.match+1);return this.#$=$.match+1,Z}popParams(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Z=[];while(this.#$<$.match-1){let X=this.peek().linkNext;Z.push(this.#X(this.#$+1,X)),this.#$=X}return this.#$=$.match+1,Z}peek(){if(this.#$>=this.#Z.length)throw new Error("out-of-bounds");return this.#Z[this.#$]}peekKeyword($){let Z=this.peekType("KEYWORD");return Z!=null&&$.has(Z)?Z:null}peekType($){if(this.length===0)return null;let Z=this.peek();return Z.type===$?Z.text:null}pop(){let $=this.peek();return this.#$++,$}toString(){let $=[];for(let Z=this.#$;Z<this.#Z.length;Z++){let X=this.#Z[Z];$.push(`${X.type}:${X.text}`)}return`<TokenString ${$.join(" ")}>`}}function I8($){let Z=[],X=(V)=>{let K=Y<$.length?JSON.stringify($[Y]):"$EOI";throw new Error(`invalid token ${K} at ${Y}: ${V}`)},Q=[],G=[],Y=0;while(Y<$.length){let V=$.substring(Y),K=V.match(wG);if(K)Y+=K[1].length,V=$.substring(Y);let q={depth:Q.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:Y,value:-1};Z.push(q);let D=jG[V[0]]||"";if(D){if(q.type=D,q.text=V[0],Y++,D==="OPEN_PAREN")Q.push(Z.length-1),G.push(Z.length-1);else if(D=="CLOSE_PAREN"){if(Q.length===0)X("no matching open bracket");q.match=Q.pop(),Z[q.match].match=Z.length-1,q.depth--,q.linkBack=G.pop(),Z[q.linkBack].linkNext=Z.length-1}else if(D==="COMMA")q.linkBack=G.pop(),Z[q.linkBack].linkNext=Z.length-1,G.push(Z.length-1);else if(D==="OPEN_BRACKET")q.type="BRACKET";else if(D==="CLOSE_BRACKET"){let W=Z.pop().text;if(Z.length>0&&Z[Z.length-1].type==="NUMBER"){let R=Z.pop().text;W=R+W,Z[Z.length-1].value=T1(R)}if(Z.length===0||Z[Z.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Z[Z.length-1].text+=W}continue}if(K=V.match(cG),K){if(q.text=K[1],Y+=q.text.length,xG.has(q.text)){q.type="KEYWORD";continue}if(q.text.match(y3)){q.type="TYPE";continue}q.type="ID";continue}if(K=V.match(bG),K){q.text=K[1],q.type="NUMBER",Y+=q.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(V[0])} at position ${Y}`)}return new M1(Z.map((V)=>Object.freeze(V)))}function S3($,Z){let X=[];for(let Q in Z.keys())if($.has(Q))X.push(Q);if(X.length>1)throw new Error(`conflicting types: ${X.join(", ")}`)}function Y6($,Z){if(Z.peekKeyword(k3)){let X=Z.pop().text;if(X!==$)throw new Error(`expected ${$}, got ${X}`)}return Z.popType("ID")}function r1($,Z){let X=new Set;while(!0){let Q=$.peekType("KEYWORD");if(Q==null||Z&&!Z.has(Q))break;if($.pop(),X.has(Q))throw new Error(`duplicate keywords: ${JSON.stringify(Q)}`);X.add(Q)}return Object.freeze(X)}function g3($){let Z=r1($,LG);if(S3(Z,G1("constant payable nonpayable".split(" "))),S3(Z,G1("pure view payable nonpayable".split(" "))),Z.has("view"))return"view";if(Z.has("pure"))return"pure";if(Z.has("payable"))return"payable";if(Z.has("nonpayable"))return"nonpayable";if(Z.has("constant"))return"view";return"nonpayable"}function o1($,Z){return $.popParams().map((X)=>m.from(X,Z))}function p3($){if($.peekType("AT")){if($.pop(),$.peekType("NUMBER"))return w1($.pop().text);throw new Error("invalid gas")}return null}function N8($){if($.length)throw new Error(`unexpected tokens at offset ${$.offset}: ${$.toString()}`)}var vG=new RegExp(/^(.*)\[([0-9]*)\]$/);function L3($){let Z=$.match(y3);if(N(Z,"invalid type","type",$),$==="uint")return"uint256";if($==="int")return"int256";if(Z[2]){let X=parseInt(Z[2]);N(X!==0&&X<=32,"invalid bytes length","type",$)}else if(Z[3]){let X=parseInt(Z[3]);N(X!==0&&X<=256&&X%8===0,"invalid numeric width","type",$)}return $}var Z0={},Q1=Symbol.for("_ethers_internal"),N3="_ParamTypeInternal",P3="_ErrorInternal",B3="_EventInternal",x3="_ConstructorInternal",j3="_FallbackInternal",w3="_FunctionInternal",b3="_StructInternal";class m{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor($,Z,X,Q,G,Y,V,K){if(u8($,Z0,"ParamType"),Object.defineProperty(this,Q1,{value:N3}),Y)Y=Object.freeze(Y.slice());if(Q==="array"){if(V==null||K==null)throw new Error("")}else if(V!=null||K!=null)throw new Error("");if(Q==="tuple"){if(Y==null)throw new Error("")}else if(Y!=null)throw new Error("");h(this,{name:Z,type:X,baseType:Q,indexed:G,components:Y,arrayLength:V,arrayChildren:K})}format($){if($==null)$="sighash";if($==="json"){let X=this.name||"";if(this.isArray()){let G=JSON.parse(this.arrayChildren.format("json"));return G.name=X,G.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(G)}let Q={type:this.baseType==="tuple"?"tuple":this.type,name:X};if(typeof this.indexed==="boolean")Q.indexed=this.indexed;if(this.isTuple())Q.components=this.components.map((G)=>JSON.parse(G.format($)));return JSON.stringify(Q)}let Z="";if(this.isArray())Z+=this.arrayChildren.format($),Z+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;else if(this.isTuple())Z+="("+this.components.map((X)=>X.format($)).join($==="full"?", ":",")+")";else Z+=this.type;if($!=="sighash"){if(this.indexed===!0)Z+=" indexed";if($==="full"&&this.name)Z+=" "+this.name}return Z}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk($,Z){if(this.isArray()){if(!Array.isArray($))throw new Error("invalid array value");if(this.arrayLength!==-1&&$.length!==this.arrayLength)throw new Error("array is wrong length");let X=this;return $.map((Q)=>X.arrayChildren.walk(Q,Z))}if(this.isTuple()){if(!Array.isArray($))throw new Error("invalid tuple value");if($.length!==this.components.length)throw new Error("array is wrong length");let X=this;return $.map((Q,G)=>X.components[G].walk(Q,Z))}return Z(this.type,$)}#$($,Z,X,Q){if(this.isArray()){if(!Array.isArray(Z))throw new Error("invalid array value");if(this.arrayLength!==-1&&Z.length!==this.arrayLength)throw new Error("array is wrong length");let Y=this.arrayChildren,V=Z.slice();V.forEach((K,q)=>{Y.#$($,K,X,(D)=>{V[q]=D})}),Q(V);return}if(this.isTuple()){let Y=this.components,V;if(Array.isArray(Z))V=Z.slice();else{if(Z==null||typeof Z!=="object")throw new Error("invalid tuple value");V=Y.map((K)=>{if(!K.name)throw new Error("cannot use object value with unnamed components");if(!(K.name in Z))throw new Error(`missing value for component ${K.name}`);return Z[K.name]})}if(V.length!==this.components.length)throw new Error("array is wrong length");V.forEach((K,q)=>{Y[q].#$($,K,X,(D)=>{V[q]=D})}),Q(V);return}let G=X(this.type,Z);if(G.then)$.push(async function(){Q(await G)}());else Q(G)}async walkAsync($,Z){let X=[],Q=[$];if(this.#$(X,$,Z,(G)=>{Q[0]=G}),X.length)await Promise.all(X);return Q[0]}static from($,Z){if(m.isParamType($))return $;if(typeof $==="string")try{return m.from(I8($),Z)}catch(V){N(!1,"invalid param type","obj",$)}else if($ instanceof M1){let V="",K="",q=null;if(r1($,G1(["tuple"])).has("tuple")||$.peekType("OPEN_PAREN"))K="tuple",q=$.popParams().map((_)=>m.from(_)),V=`tuple(${q.map((_)=>_.format()).join(",")})`;else V=L3($.popType("TYPE")),K=V;let D=null,W=null;while($.length&&$.peekType("BRACKET")){let _=$.pop();D=new m(Z0,"",V,K,null,q,W,D),W=_.value,V+=_.text,K="array",q=null}let R=null;if(r1($,NG).has("indexed")){if(!Z)throw new Error("");R=!0}let C=$.peekType("ID")?$.pop().text:"";if($.length)throw new Error("leftover tokens");return new m(Z0,C,V,K,R,q,W,D)}let X=$.name;N(!X||typeof X==="string"&&X.match(d3),"invalid name","obj.name",X);let Q=$.indexed;if(Q!=null)N(Z,"parameter cannot be indexed","obj.indexed",$.indexed),Q=!!Q;let G=$.type,Y=G.match(vG);if(Y){let V=parseInt(Y[2]||"-1"),K=m.from({type:Y[1],components:$.components});return new m(Z0,X||"",G,"array",Q,null,V,K)}if(G==="tuple"||G.startsWith("tuple(")||G.startsWith("(")){let V=$.components!=null?$.components.map((q)=>m.from(q)):null;return new m(Z0,X||"",G,"tuple",Q,V,null,null)}return G=L3($.type),new m(Z0,X||"",G,G,Q,null,null,null)}static isParamType($){return $&&$[Q1]===N3}}class t1{type;inputs;constructor($,Z,X){u8($,Z0,"Fragment"),X=Object.freeze(X.slice()),h(this,{type:Z,inputs:X})}static from($){if(typeof $==="string"){try{t1.from(JSON.parse($))}catch(Z){}return t1.from(I8($))}if($ instanceof M1)switch($.peekKeyword(k3)){case"constructor":return C1.from($);case"error":return t0.from($);case"event":return W1.from($);case"fallback":case"receive":return b1.from($);case"function":return z1.from($);case"struct":return q8.from($)}else if(typeof $==="object"){switch($.type){case"constructor":return C1.from($);case"error":return t0.from($);case"event":return W1.from($);case"fallback":case"receive":return b1.from($);case"function":return z1.from($);case"struct":return q8.from($)}u(!1,`unsupported type: ${$.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}N(!1,"unsupported frgament object","obj",$)}static isConstructor($){return C1.isFragment($)}static isError($){return t0.isFragment($)}static isEvent($){return W1.isFragment($)}static isFunction($){return z1.isFragment($)}static isStruct($){return q8.isFragment($)}}class o8 extends t1{name;constructor($,Z,X,Q){super($,Z,Q);N(typeof X==="string"&&X.match(d3),"invalid identifier","name",X),Q=Object.freeze(Q.slice()),h(this,{name:X})}}function N4($,Z){return"("+Z.map((X)=>X.format($)).join($==="full"?", ":",")+")"}class t0 extends o8{constructor($,Z,X){super($,"error",Z,X);Object.defineProperty(this,Q1,{value:P3})}get selector(){return H8(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Z=[];if($!=="sighash")Z.push("error");return Z.push(this.name+N4($,this.inputs)),Z.join(" ")}static from($){if(t0.isFragment($))return $;if(typeof $==="string")return t0.from(I8($));else if($ instanceof M1){let Z=Y6("error",$),X=o1($);return N8($),new t0(Z0,Z,X)}return new t0(Z0,$.name,$.inputs?$.inputs.map(m.from):[])}static isFragment($){return $&&$[Q1]===P3}}class W1 extends o8{anonymous;constructor($,Z,X,Q){super($,"event",Z,X);Object.defineProperty(this,Q1,{value:B3}),h(this,{anonymous:Q})}get topicHash(){return H8(this.format("sighash"))}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Z=[];if($!=="sighash")Z.push("event");if(Z.push(this.name+N4($,this.inputs)),$!=="sighash"&&this.anonymous)Z.push("anonymous");return Z.join(" ")}static getTopicHash($,Z){return Z=(Z||[]).map((Q)=>m.from(Q)),new W1(Z0,$,Z,!1).topicHash}static from($){if(W1.isFragment($))return $;if(typeof $==="string")try{return W1.from(I8($))}catch(Z){N(!1,"invalid event fragment","obj",$)}else if($ instanceof M1){let Z=Y6("event",$),X=o1($,!0),Q=!!r1($,G1(["anonymous"])).has("anonymous");return N8($),new W1(Z0,Z,X,Q)}return new W1(Z0,$.name,$.inputs?$.inputs.map((Z)=>m.from(Z,!0)):[],!!$.anonymous)}static isFragment($){return $&&$[Q1]===B3}}class C1 extends t1{payable;gas;constructor($,Z,X,Q,G){super($,Z,X);Object.defineProperty(this,Q1,{value:x3}),h(this,{payable:Q,gas:G})}format($){if(u($!=null&&$!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),$==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((X)=>JSON.parse(X.format($)))});let Z=[`constructor${N4($,this.inputs)}`];if(this.payable)Z.push("payable");if(this.gas!=null)Z.push(`@${this.gas.toString()}`);return Z.join(" ")}static from($){if(C1.isFragment($))return $;if(typeof $==="string")try{return C1.from(I8($))}catch(Z){N(!1,"invalid constuctor fragment","obj",$)}else if($ instanceof M1){r1($,G1(["constructor"]));let Z=o1($),X=!!r1($,SG).has("payable"),Q=p3($);return N8($),new C1(Z0,"constructor",Z,X,Q)}return new C1(Z0,"constructor",$.inputs?$.inputs.map(m.from):[],!!$.payable,$.gas!=null?$.gas:null)}static isFragment($){return $&&$[Q1]===x3}}class b1 extends t1{payable;constructor($,Z,X){super($,"fallback",Z);Object.defineProperty(this,Q1,{value:j3}),h(this,{payable:X})}format($){let Z=this.inputs.length===0?"receive":"fallback";if($==="json"){let X=this.payable?"payable":"nonpayable";return JSON.stringify({type:Z,stateMutability:X})}return`${Z}()${this.payable?" payable":""}`}static from($){if(b1.isFragment($))return $;if(typeof $==="string")try{return b1.from(I8($))}catch(Z){N(!1,"invalid fallback fragment","obj",$)}else if($ instanceof M1){let Z=$.toString(),X=$.peekKeyword(G1(["fallback","receive"]));if(N(X,"type must be fallback or receive","obj",Z),$.popKeyword(G1(["fallback","receive"]))==="receive"){let V=o1($);return N(V.length===0,"receive cannot have arguments","obj.inputs",V),r1($,G1(["payable"])),N8($),new b1(Z0,[],!0)}let G=o1($);if(G.length)N(G.length===1&&G[0].type==="bytes","invalid fallback inputs","obj.inputs",G.map((V)=>V.format("minimal")).join(", "));else G=[m.from("bytes")];let Y=g3($);if(N(Y==="nonpayable"||Y==="payable","fallback cannot be constants","obj.stateMutability",Y),r1($,G1(["returns"])).has("returns")){let V=o1($);N(V.length===1&&V[0].type==="bytes","invalid fallback outputs","obj.outputs",V.map((K)=>K.format("minimal")).join(", "))}return N8($),new b1(Z0,G,Y==="payable")}if($.type==="receive")return new b1(Z0,[],!0);if($.type==="fallback"){let Z=[m.from("bytes")],X=$.stateMutability==="payable";return new b1(Z0,Z,X)}N(!1,"invalid fallback description","obj",$)}static isFragment($){return $&&$[Q1]===j3}}class z1 extends o8{constant;outputs;stateMutability;payable;gas;constructor($,Z,X,Q,G,Y){super($,"function",Z,Q);Object.defineProperty(this,Q1,{value:w3}),G=Object.freeze(G.slice()),h(this,{constant:X==="view"||X==="pure",gas:Y,outputs:G,payable:X==="payable",stateMutability:X})}get selector(){return H8(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((X)=>JSON.parse(X.format($))),outputs:this.outputs.map((X)=>JSON.parse(X.format($)))});let Z=[];if($!=="sighash")Z.push("function");if(Z.push(this.name+N4($,this.inputs)),$!=="sighash"){if(this.stateMutability!=="nonpayable")Z.push(this.stateMutability);if(this.outputs&&this.outputs.length)Z.push("returns"),Z.push(N4($,this.outputs));if(this.gas!=null)Z.push(`@${this.gas.toString()}`)}return Z.join(" ")}static getSelector($,Z){return Z=(Z||[]).map((Q)=>m.from(Q)),new z1(Z0,$,"view",Z,[],null).selector}static from($){if(z1.isFragment($))return $;if(typeof $==="string")try{return z1.from(I8($))}catch(X){N(!1,"invalid function fragment","obj",$)}else if($ instanceof M1){let X=Y6("function",$),Q=o1($),G=g3($),Y=[];if(r1($,G1(["returns"])).has("returns"))Y=o1($);let V=p3($);return N8($),new z1(Z0,X,G,Q,Y,V)}let Z=$.stateMutability;if(Z==null){if(Z="payable",typeof $.constant==="boolean"){if(Z="view",!$.constant){if(Z="payable",typeof $.payable==="boolean"&&!$.payable)Z="nonpayable"}}else if(typeof $.payable==="boolean"&&!$.payable)Z="nonpayable"}return new z1(Z0,$.name,Z,$.inputs?$.inputs.map(m.from):[],$.outputs?$.outputs.map(m.from):[],$.gas!=null?$.gas:null)}static isFragment($){return $&&$[Q1]===w3}}class q8 extends o8{constructor($,Z,X){super($,"struct",Z,X);Object.defineProperty(this,Q1,{value:b3})}format(){throw new Error("@TODO")}static from($){if(typeof $==="string")try{return q8.from(I8($))}catch(Z){N(!1,"invalid struct fragment","obj",$)}else if($ instanceof M1){let Z=Y6("struct",$),X=o1($);return N8($),new q8(Z0,Z,X)}return new q8(Z0,$.name,$.inputs?$.inputs.map(m.from):[])}static isFragment($){return $&&$[Q1]===b3}}var _1=new Map;_1.set(0,"GENERIC_PANIC");_1.set(1,"ASSERT_FALSE");_1.set(17,"OVERFLOW");_1.set(18,"DIVIDE_BY_ZERO");_1.set(33,"ENUM_RANGE_ERROR");_1.set(34,"BAD_STORAGE_DATA");_1.set(49,"STACK_UNDERFLOW");_1.set(50,"ARRAY_RANGE_ERROR");_1.set(65,"OUT_OF_MEMORY");_1.set(81,"UNINITIALIZED_FUNCTION_CALL");var kG=new RegExp(/^bytes([0-9]*)$/),hG=new RegExp(/^(u?int)([0-9]*)$/),M5=null,u3=1024;function dG($,Z,X,Q){let G="missing revert data",Y=null,V=null,K=null;if(X){G="execution reverted";let D=Z1(X);if(X=$0(X),D.length===0)G+=" (no data present; likely require(false) occurred",Y="require(false)";else if(D.length%32!==4)G+=" (could not decode reason; invalid data length)";else if($0(D.slice(0,4))==="0x08c379a0")try{Y=Q.decode(["string"],D.slice(4))[0],K={signature:"Error(string)",name:"Error",args:[Y]},G+=`: ${JSON.stringify(Y)}`}catch(W){G+=" (could not decode reason; invalid string data)"}else if($0(D.slice(0,4))==="0x4e487b71")try{let W=Number(Q.decode(["uint256"],D.slice(4))[0]);K={signature:"Panic(uint256)",name:"Panic",args:[W]},Y=`Panic due to ${_1.get(W)||"UNKNOWN"}(${W})`,G+=`: ${Y}`}catch(W){G+=" (could not decode panic code)"}else G+=" (unknown custom error)"}let q={to:Z.to?L8(Z.to):null,data:Z.data||"0x"};if(Z.from)q.from=L8(Z.from);return s4(G,"CALL_EXCEPTION",{action:$,data:X,reason:Y,transaction:q,invocation:V,revert:K})}class P8{#$($){if($.isArray())return new K5(this.#$($.arrayChildren),$.arrayLength,$.name);if($.isTuple())return new a8($.components.map((X)=>this.#$(X)),$.name);switch($.baseType){case"address":return new Y5($.name);case"bool":return new H5($.name);case"string":return new z5($.name);case"bytes":return new q5($.name);case"":return new D5($.name)}let Z=$.type.match(hG);if(Z){let X=parseInt(Z[2]||"256");return N(X!==0&&X<=256&&X%8===0,"invalid "+Z[1]+" bit length","param",$),new W5(X/8,Z[1]==="int",$.name)}if(Z=$.type.match(kG),Z){let X=parseInt(Z[1]);return N(X!==0&&X<=32,"invalid bytes length","param",$),new I5(X,$.name)}N(!1,"invalid type","type",$.type)}getDefaultValue($){let Z=$.map((Q)=>this.#$(m.from(Q)));return new a8(Z,"_").defaultValue()}encode($,Z){T4(Z.length,$.length,"types/values length mismatch");let X=$.map((Y)=>this.#$(m.from(Y))),Q=new a8(X,"_"),G=new n8;return Q.encode(G,Z),G.data}decode($,Z,X){let Q=$.map((Y)=>this.#$(m.from(Y)));return new a8(Q,"_").decode(new X6(Z,X,u3))}static _setDefaultMaxInflation($){N(typeof $==="number"&&Number.isInteger($),"invalid defaultMaxInflation factor","value",$),u3=$}static defaultAbiCoder(){if(M5==null)M5=new P8;return M5}static getBuiltinCallException($,Z,X){return dG($,Z,X,P8.defaultAbiCoder())}}class J6{fragment;name;signature;topic;args;constructor($,Z,X){let Q=$.name,G=$.format();h(this,{fragment:$,name:Q,signature:G,topic:Z,args:X})}}class V6{fragment;name;args;signature;selector;value;constructor($,Z,X,Q){let G=$.name,Y=$.format();h(this,{fragment:$,name:G,args:X,signature:Y,selector:Z,value:Q})}}class O6{fragment;name;args;signature;selector;constructor($,Z,X){let Q=$.name,G=$.format();h(this,{fragment:$,name:Q,args:X,signature:G,selector:Z})}}class P4{hash;_isIndexed;static isIndexed($){return!!($&&$._isIndexed)}constructor($){h(this,{hash:$,_isIndexed:!0})}}var l3={"0":"generic panic","1":"assert(false)","17":"arithmetic overflow","18":"division or modulo by zero","33":"enum overflow","34":"invalid encoded storage byte array accessed","49":"out-of-bounds array access; popping on an empty array","50":"out-of-bounds access of an array or bytesN","65":"out of memory","81":"uninitialized function"},m3={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:($)=>{return`reverted with reason string ${JSON.stringify($)}`}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:($)=>{let Z="unknown panic code";if($>=0&&$<=255&&l3[$.toString()])Z=l3[$.toString()];return`reverted with panic code 0x${$.toString(16)} (${Z})`}}};class c1{fragments;deploy;fallback;receive;#$;#Z;#X;#G;constructor($){let Z=[];if(typeof $==="string")Z=JSON.parse($);else Z=$;this.#X=new Map,this.#$=new Map,this.#Z=new Map;let X=[];for(let Y of Z)try{X.push(t1.from(Y))}catch(V){console.log(`[Warning] Invalid Fragment ${JSON.stringify(Y)}:`,V.message)}h(this,{fragments:Object.freeze(X)});let Q=null,G=!1;if(this.#G=this.getAbiCoder(),this.fragments.forEach((Y,V)=>{let K;switch(Y.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}h(this,{deploy:Y});return;case"fallback":if(Y.inputs.length===0)G=!0;else N(!Q||Y.payable!==Q.payable,"conflicting fallback fragments",`fragments[${V}]`,Y),Q=Y,G=Q.payable;return;case"function":K=this.#X;break;case"event":K=this.#Z;break;case"error":K=this.#$;break;default:return}let q=Y.format();if(K.has(q))return;K.set(q,Y)}),!this.deploy)h(this,{deploy:C1.from("constructor()")});h(this,{fallback:Q,receive:G})}format($){let Z=$?"minimal":"full";return this.fragments.map((Q)=>Q.format(Z))}formatJson(){let $=this.fragments.map((Z)=>Z.format("json"));return JSON.stringify($.map((Z)=>JSON.parse(Z)))}getAbiCoder(){return P8.defaultAbiCoder()}#Q($,Z,X){if(l8($)){let G=$.toLowerCase();for(let Y of this.#X.values())if(G===Y.selector)return Y;return null}if($.indexOf("(")===-1){let G=[];for(let[Y,V]of this.#X)if(Y.split("(")[0]===$)G.push(V);if(Z){let Y=Z.length>0?Z[Z.length-1]:null,V=Z.length,K=!0;if(g.isTyped(Y)&&Y.type==="overrides")K=!1,V--;for(let q=G.length-1;q>=0;q--){let D=G[q].inputs.length;if(D!==V&&(!K||D!==V-1))G.splice(q,1)}for(let q=G.length-1;q>=0;q--){let D=G[q].inputs;for(let W=0;W<Z.length;W++){if(!g.isTyped(Z[W]))continue;if(W>=D.length){if(Z[W].type==="overrides")continue;G.splice(q,1);break}if(Z[W].type!==D[W].baseType){G.splice(q,1);break}}}}if(G.length===1&&Z&&Z.length!==G[0].inputs.length){let Y=Z[Z.length-1];if(Y==null||Array.isArray(Y)||typeof Y!=="object")G.splice(0,1)}if(G.length===0)return null;if(G.length>1&&X){let Y=G.map((V)=>JSON.stringify(V.format())).join(", ");N(!1,`ambiguous function description (i.e. matches ${Y})`,"key",$)}return G[0]}let Q=this.#X.get(z1.from($).format());if(Q)return Q;return null}getFunctionName($){let Z=this.#Q($,null,!1);return N(Z,"no matching function","key",$),Z.name}hasFunction($){return!!this.#Q($,null,!1)}getFunction($,Z){return this.#Q($,Z||null,!0)}forEachFunction($){let Z=Array.from(this.#X.keys());Z.sort((X,Q)=>X.localeCompare(Q));for(let X=0;X<Z.length;X++){let Q=Z[X];$(this.#X.get(Q),X)}}#Y($,Z,X){if(l8($)){let G=$.toLowerCase();for(let Y of this.#Z.values())if(G===Y.topicHash)return Y;return null}if($.indexOf("(")===-1){let G=[];for(let[Y,V]of this.#Z)if(Y.split("(")[0]===$)G.push(V);if(Z){for(let Y=G.length-1;Y>=0;Y--)if(G[Y].inputs.length<Z.length)G.splice(Y,1);for(let Y=G.length-1;Y>=0;Y--){let V=G[Y].inputs;for(let K=0;K<Z.length;K++){if(!g.isTyped(Z[K]))continue;if(Z[K].type!==V[K].baseType){G.splice(Y,1);break}}}}if(G.length===0)return null;if(G.length>1&&X){let Y=G.map((V)=>JSON.stringify(V.format())).join(", ");N(!1,`ambiguous event description (i.e. matches ${Y})`,"key",$)}return G[0]}let Q=this.#Z.get(W1.from($).format());if(Q)return Q;return null}getEventName($){let Z=this.#Y($,null,!1);return N(Z,"no matching event","key",$),Z.name}hasEvent($){return!!this.#Y($,null,!1)}getEvent($,Z){return this.#Y($,Z||null,!0)}forEachEvent($){let Z=Array.from(this.#Z.keys());Z.sort((X,Q)=>X.localeCompare(Q));for(let X=0;X<Z.length;X++){let Q=Z[X];$(this.#Z.get(Q),X)}}getError($,Z){if(l8($)){let Q=$.toLowerCase();if(m3[Q])return t0.from(m3[Q].signature);for(let G of this.#$.values())if(Q===G.selector)return G;return null}if($.indexOf("(")===-1){let Q=[];for(let[G,Y]of this.#$)if(G.split("(")[0]===$)Q.push(Y);if(Q.length===0){if($==="Error")return t0.from("error Error(string)");if($==="Panic")return t0.from("error Panic(uint256)");return null}else if(Q.length>1){let G=Q.map((Y)=>JSON.stringify(Y.format())).join(", ");N(!1,`ambiguous error description (i.e. ${G})`,"name",$)}return Q[0]}if($=t0.from($).format(),$==="Error(string)")return t0.from("error Error(string)");if($==="Panic(uint256)")return t0.from("error Panic(uint256)");let X=this.#$.get($);if(X)return X;return null}forEachError($){let Z=Array.from(this.#$.keys());Z.sort((X,Q)=>X.localeCompare(Q));for(let X=0;X<Z.length;X++){let Q=Z[X];$(this.#$.get(Q),X)}}_decodeParams($,Z){return this.#G.decode($,Z)}_encodeParams($,Z){return this.#G.encode($,Z)}encodeDeploy($){return this._encodeParams(this.deploy.inputs,$||[])}decodeErrorResult($,Z){if(typeof $==="string"){let X=this.getError($);N(X,"unknown error","fragment",$),$=X}return N(K8(Z,0,4)===$.selector,`data signature does not match error ${$.name}.`,"data",Z),this._decodeParams($.inputs,K8(Z,4))}encodeErrorResult($,Z){if(typeof $==="string"){let X=this.getError($);N(X,"unknown error","fragment",$),$=X}return a1([$.selector,this._encodeParams($.inputs,Z||[])])}decodeFunctionData($,Z){if(typeof $==="string"){let X=this.getFunction($);N(X,"unknown function","fragment",$),$=X}return N(K8(Z,0,4)===$.selector,`data signature does not match function ${$.name}.`,"data",Z),this._decodeParams($.inputs,K8(Z,4))}encodeFunctionData($,Z){if(typeof $==="string"){let X=this.getFunction($);N(X,"unknown function","fragment",$),$=X}return a1([$.selector,this._encodeParams($.inputs,Z||[])])}decodeFunctionResult($,Z){if(typeof $==="string"){let G=this.getFunction($);N(G,"unknown function","fragment",$),$=G}let X="invalid length for result data",Q=X1(Z);if(Q.length%32===0)try{return this.#G.decode($.outputs,Q)}catch(G){X="could not decode result data"}u(!1,X,"BAD_DATA",{value:$0(Q),info:{method:$.name,signature:$.format()}})}makeError($,Z){let X=Z1($,"data"),Q=P8.getBuiltinCallException("call",Z,X),G="execution reverted (unknown custom error)";if(Q.message.startsWith("execution reverted (unknown custom error)")){let V=$0(X.slice(0,4)),K=this.getError(V);if(K)try{let q=this.#G.decode(K.inputs,X.slice(4));Q.revert={name:K.name,signature:K.format(),args:q},Q.reason=Q.revert.signature,Q.message=`execution reverted: ${Q.reason}`}catch(q){Q.message="execution reverted (coult not decode custom error)"}}let Y=this.parseTransaction(Z);if(Y)Q.invocation={method:Y.name,signature:Y.signature,args:Y.args};return Q}encodeFunctionResult($,Z){if(typeof $==="string"){let X=this.getFunction($);N(X,"unknown function","fragment",$),$=X}return $0(this.#G.encode($.outputs,Z||[]))}encodeFilterTopics($,Z){if(typeof $==="string"){let G=this.getEvent($);N(G,"unknown event","eventFragment",$),$=G}u(Z.length<=$.inputs.length,`too many arguments for ${$.format()}`,"UNEXPECTED_ARGUMENT",{count:Z.length,expectedCount:$.inputs.length});let X=[];if(!$.anonymous)X.push($.topicHash);let Q=(G,Y)=>{if(G.type==="string")return H8(Y);else if(G.type==="bytes")return D1($0(Y));if(G.type==="bool"&&typeof Y==="boolean")Y=Y?"0x01":"0x00";else if(G.type.match(/^u?int/))Y=C4(Y);else if(G.type.match(/^bytes/))Y=l9(Y,32);else if(G.type==="address")this.#G.encode(["address"],[Y]);return u9($0(Y),32)};Z.forEach((G,Y)=>{let V=$.inputs[Y];if(!V.indexed){N(G==null,"cannot filter non-indexed parameters; must be null","contract."+V.name,G);return}if(G==null)X.push(null);else if(V.baseType==="array"||V.baseType==="tuple")N(!1,"filtering with tuples or arrays not supported","contract."+V.name,G);else if(Array.isArray(G))X.push(G.map((K)=>Q(V,K)));else X.push(Q(V,G))});while(X.length&&X[X.length-1]===null)X.pop();return X}encodeEventLog($,Z){if(typeof $==="string"){let Y=this.getEvent($);N(Y,"unknown event","eventFragment",$),$=Y}let X=[],Q=[],G=[];if(!$.anonymous)X.push($.topicHash);return N(Z.length===$.inputs.length,"event arguments/values mismatch","values",Z),$.inputs.forEach((Y,V)=>{let K=Z[V];if(Y.indexed)if(Y.type==="string")X.push(H8(K));else if(Y.type==="bytes")X.push(D1(K));else if(Y.baseType==="tuple"||Y.baseType==="array")throw new Error("not implemented");else X.push(this.#G.encode([Y.type],[K]));else Q.push(Y),G.push(K)}),{data:this.#G.encode(Q,G),topics:X}}decodeEventLog($,Z,X){if(typeof $==="string"){let T=this.getEvent($);N(T,"unknown event","eventFragment",$),$=T}if(X!=null&&!$.anonymous){let T=$.topicHash;N(l8(X[0],32)&&X[0].toLowerCase()===T,"fragment/topic mismatch","topics[0]",X[0]),X=X.slice(1)}let Q=[],G=[],Y=[];$.inputs.forEach((T,C)=>{if(T.indexed)if(T.type==="string"||T.type==="bytes"||T.baseType==="tuple"||T.baseType==="array")Q.push(m.from({type:"bytes32",name:T.name})),Y.push(!0);else Q.push(T),Y.push(!1);else G.push(T),Y.push(!1)});let V=X!=null?this.#G.decode(Q,a1(X)):null,K=this.#G.decode(G,Z,!0),q=[],D=[],W=0,R=0;return $.inputs.forEach((T,C)=>{let _=null;if(T.indexed)if(V==null)_=new P4(null);else if(Y[C])_=new P4(V[R++]);else try{_=V[R++]}catch(S){_=S}else try{_=K[W++]}catch(S){_=S}q.push(_),D.push(T.name||null)}),K1.fromItems(q,D)}parseTransaction($){let Z=Z1($.data,"tx.data"),X=w1($.value!=null?$.value:0,"tx.value"),Q=this.getFunction($0(Z.slice(0,4)));if(!Q)return null;let G=this.#G.decode(Q.inputs,Z.slice(4));return new V6(Q,Q.selector,G,X)}parseCallResult($){throw new Error("@TODO")}parseLog($){let Z=this.getEvent($.topics[0]);if(!Z||Z.anonymous)return null;return new J6(Z,Z.topicHash,this.decodeEventLog(Z,$.data,$.topics))}parseError($){let Z=$0($),X=this.getError(K8(Z,0,4));if(!X)return null;let Q=this.#G.decode(X.inputs,K8(Z,4));return new O6(X,X.selector,Q)}static from($){if($ instanceof c1)return $;if(typeof $==="string")return new c1(JSON.parse($));if(typeof $.formatJson==="function")return new c1($.formatJson());if(typeof $.format==="function")return new c1($.format("json"));return new c1($)}}var yG=["function updatePriceFeeds(bytes[] updateData, bytes[][] signature)"],gG=($)=>{return $.slice(10)},pG=($)=>{if($.startsWith("function "))return $.slice(9);throw new Error("Invalid method signature, does not start with 'function '")};function n3($){return $.startsWith("0x")?$:"0x"+$}function uG($,Z){l("\uD83D\uDCDD Encoding payload for updatePriceFeeds");let X=new c1(yG),Q=X.format(!0),G=pG(Q.find((K)=>K.startsWith("function updatePriceFeeds"))),Y=X.encodeFunctionData("updatePriceFeeds",[[n3($)],[Z.map((K)=>n3(K))]]);return l(`\uD83D\uDCCB Method signature: ${G}`),l(`\uD83D\uDD17 Encoded data: ${Y}`),{payload:gG(Y),methodSignature:G}}function lG(){return l(`⛽ Using hardcoded gas limit: ${n1.gasLimit}`),l(`\uD83D\uDCB0 Using hardcoded maxFeePerGas: ${n1.maxFeePerGas} wei (${(parseInt(n1.maxFeePerGas)/1e9).toFixed(2)} gwei)`),l(`\uD83C\uDFAF Using hardcoded maxPriorityFeePerGas: ${n1.maxPriorityFeePerGas} wei (${(parseInt(n1.maxPriorityFeePerGas)/1e9).toFixed(2)} gwei)`),{gasLimit:n1.gasLimit,maxFeePerGas:n1.maxFeePerGas,maxPriorityFeePerGas:n1.maxPriorityFeePerGas}}async function a3($,Z,X,Q){return new Promise(async(G,Y)=>{try{let{payload:V,methodSignature:K}=uG(X,Q),{gasLimit:q,maxFeePerGas:D,maxPriorityFeePerGas:W}=lG();l(`\uD83D\uDD04 Calling updatePriceFeeds on contract ${Z}`),l(`\uD83D\uDCE6 Update data: ${X}`),l(`✍️ Signatures: ${JSON.stringify(Q)}`),l(`\uD83D\uDCE6 Payload: ${V}`),_STD_.chains.ethereum.fulfill($,Z,V,{methodSignature:K,gasLimit:q,maxFeePerGas:D,maxPriorityFeePerGas:W},(R)=>{l(`✅ Contract call succeeded: ${R}`),G(R)},(R)=>{l(`❌ Contract call failed: ${R}`,"error"),Y(new Error(R))})}catch(V){l(`❌ Error preparing contract call: ${V}`,"error"),Y(V)}})}var uX=aX(pX());async function UH(){l(`\uD83D\uDCF1 Own Address: 0x${_STD_.chains.ethereum.getAddress()}`);let $=await a7();if(!$){l("❌ No reachable Etherlink RPC nodes available. Retrying later...","error");return}let X=new uX.AcelonSdk({oracles:["0x02464d1546d6cee1efe1086951d25405ef1435cfd9608bf913e0b08d01deb7ab6a","0x03615b2ec3659a3df56d54f1077c0452e2dec6dba3e0945cd2870b54482504efb3","0x03fe39d06efed3d676af041c77ca1a80c87a37c3b808972346b66b2b86953ae3ea","0x02295ab6ff2bc3a3c725b2a0689b86ed4360199b60da8a4d2b9599d1f55b86826e","0x039c5fef9b8f453b62426dad1fe350c234db446eea882d9c0dd76c7d0b25c6f554","0x03007e4d8098fb9decc026ef093020dc0d83c4e95e9ec3ff7eb7810d6fd2b8bb7d","0x0269649d90e487db3c9c76078dc9133038af1f2b2771b19dbde55d4dcd7e260b59","0x035c4f5f7ce0fc879bc3f388af69ee4ca1bbdf623272cf1254071f08ee38bacd71","0x03ccc7a24c115f51dfd2214417c2ab2f5cd7cd0da2a815751af7f190888b89d959","0x0282a576a149ed00a91711ddcf3792eef24a2a61703990d8a583ab6cbb61013dba","0x027053dcc798be969c26aaab19b4f6d1f464b0d515a645a934edb540ede91eb737","0x022edad1d4b6a973194055f00dbacc5631d788d7f6fb8ab6b28761a52d73fb3d24","0x02795af5f5323fee554ff98bd4e412ebead6fa8eaebd5312283303cd518aecfb5b","0x02f73f991f4c247438410c4ed709e5484ba8c7f897f2d5e89f5378b7d3cf442426","0x039ee2af1d68b1aa3cf2f5155af7bb03b9b09e11688dcd44316c1dafab4cd8d617","0x024add1ced2aa0dba72f3e6f38930fc795e02bfd9027b018809bff5a8e90693296","0x032dc31567fade450d7e94c4f6b618b19dc542494edce6e6b2bce16c9abaec1345","0x02637da22cf4b65c1de6fc6e0f4183ff40dd652281ce8520dc62011a208fb20a8d","0x0279a559f4bf8bef46f621e90a4c21832f8f1a13e4d7a5bfc075ba6c2dadb2101d","0x0371c1ca01a58c9df3505503ee1c6700e16ff3a2db3fefbe27167c0ecb7b140cd0"],logging:!0}),Q={pairs:[{from:"STXTZ",to:"XTZ",decimals:6}],protocol:"EVM",maxValidationDiff:0.1},G=await X.getPrices(Q,3);if(l(`\uD83D\uDCCA Prices: ${JSON.stringify(G,null,2)}`),!G||G.length===0){l("❌ No price data received from Acelon SDK","error");return}try{l("\uD83D\uDD17 Calling Etherlink contract to update price feeds...");let Y=G[0],V=await a3($,n7,Y.packed[0],Y.signatures);l(`✅ Successfully updated price feeds! Transaction hash: ${V}`)}catch(Y){l(`❌ Failed to update price feeds: ${Y}`,"error")}}UH().catch(($)=>l(`❌ Main: unhandled error: ${$}`,"error"));
